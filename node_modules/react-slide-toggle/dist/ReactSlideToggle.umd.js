!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e=e||self).ReactSlideToggle=t(e.React)}(this,(function(e){"use strict";function t(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e=e&&e.hasOwnProperty("default")?e.default:e;var r="undefined"!=typeof window?window:global,l=r.requestAnimationFrame?r.requestAnimationFrame.bind(r):function(e){return r.setTimeout(e,16)},i=r.cancelAnimationFrame?r.cancelAnimationFrame.bind(r):r.clearInterval.bind(r),p=Object.freeze({EXPANDED:"EXPANDED",COLLAPSED:"COLLAPSED",EXPANDING:"EXPANDING",COLLAPSING:"COLLAPSING"}),g=function(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1},u={isMoving:function(e){return e===p.EXPANDING||e===p.COLLAPSING},clamp:function(e){var t=e.value,a=e.max,s=void 0===a?1:a,o=e.min,n=void 0===o?0:o;return t>s?s:t<n?n:t},now:function(){return Date.now()},sanitizeDuration:function(e){return Math.max(0,parseInt(+e,10)||0)},interpolate:function(e){var t=e.next,a=e.prev,s=Math.abs(t-a),o=t;return s>.15&&(t>a?o-=.75*s:o+=.75*s),o}},c=function(e){function r(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var o=arguments.length,i=new Array(o),g=0;g<o;g++)i[g]=arguments[g];return t=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?n(e):t}(this,(e=s(r)).call.apply(e,[this].concat(i))),a(n(t),"_state_",{collapsibleElement:null,toggleState:t.props.collapsed?p.COLLAPSED:p.EXPANDED}),a(n(t),"GET_HEIGHT",t.props.offsetHeight?"offsetHeight":"scrollHeight"),a(n(t),"state",{toggleState:t._state_.toggleState,hasReversed:!1,range:t.props.collapsed?0:1,progress:t.props.collapsed?0:1}),a(n(t),"getCollapsible",(function(){return t._state_.collapsibleElement})),a(n(t),"updateCollapsible",(function(e,a){t.getCollapsible()&&(t._state_.collapsibleElement.style[e]=a)})),a(n(t),"setCollapsibleElement",(function(e){t._state_.collapsibleElement=e,t._state_.collapsibleElement&&!t.props.noOverflowHidden&&(t._state_.collapsibleElement.style.overflow="hidden"),t._state_.toggleState===p.COLLAPSED&&t.setCollapsedState({initialState:!0})})),a(n(t),"toggle",(function(){if(!t.props.irreversible||!u.isMoving(t._state_.toggleState)){var e=function(){t.props.onCollapsing&&t.props.onCollapsing({range:t.state.range,progress:t.state.progress,hasReversed:t.state.hasReversed}),t.collapse()},a=function(){t.props.onExpanding&&t.props.onExpanding({range:t.state.range,progress:t.state.progress,hasReversed:t.state.hasReversed}),t.expand()},s=function(e){var a=e.toggleState,s=e.display,o=e.hasReversed;t._state_.toggleState=a,t._state_.hasReversed=!!o,void 0===s||t.props.noDisplayStyle||t.updateCollapsible("display",s);var n=u.now();if(o){var r=t._state_.startTime,l=u.sanitizeDuration(t.props.duration),i=Math.min(l,n-r),p=Math.max(0,l-i);t._state_.startTime=n-p}else{var g=t.getCollapsible();g&&g.style.height&&t.updateCollapsible("height",null),t._state_.boxHeight=g?g[t.GET_HEIGHT]:0,t._state_.startTime=n,t._state_.startDirection=a}t.setState({toggleState:t._state_.toggleState,hasReversed:t._state_.hasReversed})};switch(t._state_.toggleState){case p.EXPANDED:s({toggleState:p.COLLAPSING}),e();break;case p.COLLAPSED:s({toggleState:p.EXPANDING,display:""}),a();break;case p.EXPANDING:s({toggleState:p.COLLAPSING,hasReversed:!0}),e();break;case p.COLLAPSING:s({toggleState:p.EXPANDING,display:"",hasReversed:!0}),a()}}})),a(n(t),"setExpandedState",(function(){t._state_.progress=1,t._state_.toggleState=p.EXPANDED,t.updateCollapsible("height",null),t.setState({toggleState:p.EXPANDED,range:1,progress:t._state_.progress}),t.props.onExpanded&&t.props.onExpanded({hasReversed:t.state.hasReversed})})),a(n(t),"expand",(function(){if(t._state_.toggleState===p.EXPANDING){var e=u.sanitizeDuration(t.props.duration);if(e<=0)t.setExpandedState();else{var a=t._state_.startTime,s=Math.min(e,u.now()-a);if(s>=e)t.setExpandedState();else{var o,n=t._state_,r=n.startDirection,l=n.toggleState,i=n.boxHeight,g=u.clamp({value:s/e});o=t.props.whenReversedUseBackwardEase&&r!==l?1-t.props.easeCollapse(1-g):t.props.easeExpand(g),t.props.bestPerformance||t.setState({range:g,progress:o}),t.props.interpolateOnReverse&&t._state_.hasReversed&&(o=u.interpolate({next:o,prev:t._state_.progress}));var c=Math.round(i*o);t._state_.progress=o,t.updateCollapsible("height","".concat(c,"px")),t.nextTick(t.expand)}}}})),a(n(t),"setCollapsedState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.initialState;t._state_.progress=0,t._state_.toggleState=p.COLLAPSED,t.props.noDisplayStyle?t.updateCollapsible("height","0px"):(t.updateCollapsible("display","none"),t.updateCollapsible("height",null)),t.setState({toggleState:p.COLLAPSED,range:0,progress:t._state_.progress}),!a&&t.props.onCollapsed&&t.props.onCollapsed({hasReversed:t.state.hasReversed})})),a(n(t),"collapse",(function(){if(t._state_.toggleState===p.COLLAPSING){var e=u.sanitizeDuration(t.props.duration);if(e<=0)t.setCollapsedState();else{var a=t._state_.startTime,s=Math.min(e,u.now()-a);if(s>=e)t.setCollapsedState();else{var o,n=t._state_,r=n.startDirection,l=n.boxHeight,i=n.toggleState,g=1-u.clamp({value:s/e}),c=t.props,d=c.whenReversedUseBackwardEase,h=c.easeExpand,_=c.easeCollapse;o=d&&r!==i?h(g):1-_(1-g),t.props.bestPerformance||t.setState({range:g,progress:o}),t.props.interpolateOnReverse&&t._state_.hasReversed&&(o=u.interpolate({next:o,prev:t._state_.progress}));var f=Math.round(l*o);t._state_.progress=o,t._state_.timeout=t.nextTick(t.collapse),t.updateCollapsible("height","".concat(f,"px"))}}}})),a(n(t),"nextTick",(function(e){t._state_.timeout=l(e)})),t}var g,c,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e),g=r,(c=[{key:"render",value:function(){var e={onToggle:this.toggle,toggle:this.toggle,setCollapsibleElement:this.setCollapsibleElement,toggleState:this.state.toggleState,hasReversed:this.state.hasReversed,isMoving:u.isMoving(this.state.toggleState),range:this.state.range,progress:this.state.progress};return"function"==typeof this.props.children?this.props.children(e):this.props.render?this.props.render(e):this.props.children}},{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount({toggleState:this.state.toggleState,toggle:this.toggle})}},{key:"componentDidUpdate",value:function(e,t){this.props.collapseEvent&&this.props.collapseEvent>e.collapseEvent&&(this._state_.toggleState!==p.EXPANDED&&this._state_.toggleState!==p.EXPANDING||this.toggle()),this.props.expandEvent&&this.props.expandEvent>e.expandEvent&&(this._state_.toggleState!==p.COLLAPSED&&this._state_.toggleState!==p.COLLAPSING||this.toggle()),this.props.toggleEvent&&this.props.toggleEvent>e.toggleEvent&&this.toggle()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount&&this.props.onUnmount({toggleState:this.state.toggleState}),this._state_.timeout&&i(this._state_.timeout)}}])&&t(g.prototype,c),d&&t(g,d),r}(e.Component);return a(c,"defaultProps",{duration:300,easeCollapse:g,easeExpand:g}),c}));
//# sourceMappingURL=ReactSlideToggle.umd.js.map
