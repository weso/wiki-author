{"ast":null,"code":"import _slicedToArray from \"/home/mistermboy/repositories/wiki-author/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mistermboy/repositories/wiki-author/src/components/mainComps/assistant/tabs/shEx/ShapeComponent.js\";\nimport React, { useContext, useState } from 'react';\nimport { Collapse } from 'reactstrap';\nimport { AppContext } from '../../../../../App';\nimport ShapeHeader from './headers/ShapeHeader';\nimport CustomComp from './customize/CustomComp';\nimport TripleComponent from './TripleComponent';\nimport Triple from '../../../../../entities/shexEntities/triple';\nimport Properties from '../../../../../conf/properties';\nexport const ShapeContext = React.createContext();\n\nfunction ShapeComponent(props) {\n  const context = useContext(AppContext);\n  const shape = props.shape;\n  const styles = Properties.getInstance().getShapeStyle();\n\n  const _useState = useState(shape.triples),\n        _useState2 = _slicedToArray(_useState, 2),\n        triples = _useState2[0],\n        setTriples = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isCustomOpen = _useState4[0],\n        setCustomOpen = _useState4[1];\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isTriplesOpen = _useState6[0],\n        setTriplesOpen = _useState6[1];\n\n  const _useState7 = useState('menu_open'),\n        _useState8 = _slicedToArray(_useState7, 2),\n        colapseBtn = _useState8[0],\n        setColapseBtn = _useState8[1];\n\n  let initialDisabled = false;\n  if (shape.type.value == '') initialDisabled = true;\n\n  const _useState9 = useState(initialDisabled),\n        _useState10 = _slicedToArray(_useState9, 2),\n        disabled = _useState10[0],\n        setDisabled = _useState10[1];\n\n  const addTriple = function () {\n    const id = shape.getTriplesCount();\n    const triple = new Triple(id);\n    setTriples([...triples, triple]);\n    shape.addTriple(triple);\n    context.emit();\n  };\n\n  const deleteTriple = function (tripleId) {\n    const newTriples = shape.triples.filter(triple => triple.id != tripleId);\n    setTriples(newTriples);\n    shape.setTriples(newTriples);\n    context.emit();\n  };\n\n  const customizeShape = function () {\n    //Completly collapsed shape open just customShape\n    if (!isCustomOpen && !isTriplesOpen) {\n      setCustomOpen(true);\n      setTriplesOpen(false);\n    } else {\n      //CustomShape opened  opens triples on collapse\n      setCustomOpen(!isCustomOpen);\n      setTriplesOpen(!isTriplesOpen);\n    }\n\n    setColapseBtn('menu');\n  };\n\n  const collapseTriples = function () {\n    setCustomOpen(false);\n    setTriplesOpen(!isTriplesOpen);\n\n    if (colapseBtn == 'menu') {\n      setColapseBtn('menu_open');\n    } else {\n      setColapseBtn('menu');\n    }\n  };\n\n  return React.createElement(ShapeContext.Provider, {\n    value: {\n      disabled: disabled,\n      setDisabled: setDisabled\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"shape\",\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(ShapeHeader, {\n    shape: shape,\n    customizeShape: customizeShape,\n    collapseTriples: collapseTriples,\n    colapseBtn: colapseBtn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(CustomComp, {\n    entity: shape,\n    isCustomOpen: isCustomOpen,\n    qualifier: true,\n    bnode: true,\n    customClass: \"customShape\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Collapse, {\n    isOpen: isTriplesOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"triples\",\n    style: styles.body,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, triples.map(triple => React.createElement(TripleComponent, {\n    key: triple.id,\n    shape: shape,\n    triple: triple,\n    deleteTriple: deleteTriple,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"xs-addTripleButton\",\n    style: styles.addTriple,\n    onClick: addTriple,\n    disabled: disabled,\n    title: \"Add Triple\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"+ Triple Constraint\")))));\n}\n\nexport default ShapeComponent;\n/*\n\n\n                     <div className=\"triples\">\n                        <div className=\"tripleSlot\">\n                        <label>TripleSlot</label>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\" \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>        \n                    \n                        </div>\n                    </div> <div className=\"triples\">\n                        <div className=\"tripleSlot\">\n                        <label>TripleSlot</label>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\" \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>        \n                    \n                        </div>\n                    </div>\n\n                    */","map":{"version":3,"sources":["/home/mistermboy/repositories/wiki-author/src/components/mainComps/assistant/tabs/shEx/ShapeComponent.js"],"names":["React","useContext","useState","Collapse","AppContext","ShapeHeader","CustomComp","TripleComponent","Triple","Properties","ShapeContext","createContext","ShapeComponent","props","context","shape","styles","getInstance","getShapeStyle","triples","setTriples","isCustomOpen","setCustomOpen","isTriplesOpen","setTriplesOpen","colapseBtn","setColapseBtn","initialDisabled","type","value","disabled","setDisabled","addTriple","id","getTriplesCount","triple","emit","deleteTriple","tripleId","newTriples","filter","customizeShape","collapseTriples","header","body","map"],"mappings":"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","sourcesContent":["import React,{useContext,useState} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../../App';\nimport ShapeHeader from  './headers/ShapeHeader';\nimport CustomComp from './customize/CustomComp';\nimport TripleComponent from './TripleComponent';\nimport Triple from '../../../../../entities/shexEntities/triple';\nimport Properties from '../../../../../conf/properties';\n\nexport const ShapeContext = React.createContext();\n\nfunction ShapeComponent (props) {\n\n    const context = useContext(AppContext);\n    const {shape} = props;\n    const styles = Properties.getInstance().getShapeStyle();\n\n    const [triples,setTriples] = useState(shape.triples);\n    const [isCustomOpen,setCustomOpen] = useState(false);\n    const [isTriplesOpen,setTriplesOpen] = useState(true);\n    const [colapseBtn,setColapseBtn] = useState('menu_open');\n\n    let initialDisabled = false;\n    if(shape.type.value == '')initialDisabled = true;\n    const [disabled,setDisabled] = useState(initialDisabled);\n\n\n    const addTriple = function(){\n        const id = shape.getTriplesCount();\n        const triple = new Triple(id);\n\n        setTriples([...triples,triple]);\n        \n        shape.addTriple(triple);\n        context.emit();       \n    }\n\n    const deleteTriple = function(tripleId){\n        const newTriples = shape.triples.filter( triple => triple.id != tripleId);\n        setTriples(newTriples)\n        shape.setTriples(newTriples);\n        context.emit();\n        \n    }\n\n\n    const customizeShape = function(){\n        //Completly collapsed shape open just customShape\n        if(!isCustomOpen && !isTriplesOpen ){\n            setCustomOpen(true);\n            setTriplesOpen(false);\n        }else{\n            //CustomShape opened  opens triples on collapse\n            setCustomOpen(!isCustomOpen);\n            setTriplesOpen(!isTriplesOpen);\n        }\n\n        setColapseBtn('menu');\n    }\n\n    const collapseTriples = function(){\n        setCustomOpen(false);\n        setTriplesOpen(!isTriplesOpen);\n        \n        if(colapseBtn=='menu'){\n            setColapseBtn('menu_open');\n        }else{\n            setColapseBtn('menu');\n        }\n    }\n\n    return (\n\n        <ShapeContext.Provider value={{disabled:disabled,setDisabled:setDisabled}}>\n            <div className=\"shape\" style={styles.header}>\n                <ShapeHeader shape={shape} \n                            customizeShape={customizeShape} \n                            collapseTriples={collapseTriples} \n                            colapseBtn={colapseBtn}/>\n\n                <CustomComp  entity={shape}\n                            isCustomOpen={isCustomOpen}\n                            qualifier={true}\n                            bnode={true}\n                            customClass=\"customShape\"/>\n\n                    \n                <Collapse  isOpen={isTriplesOpen}>\n                     <div className=\"triples\" style={styles.body}>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\"\n                                style={styles.addTriple} \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>        \n                    \n                        </div>\n                </Collapse> \n            </div>\n        </ShapeContext.Provider>\n    );\n                                   \n    \n}\n\n\nexport default ShapeComponent;\n\n/*\n\n\n                     <div className=\"triples\">\n                        <div className=\"tripleSlot\">\n                        <label>TripleSlot</label>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\" \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>        \n                    \n                        </div>\n                    </div> <div className=\"triples\">\n                        <div className=\"tripleSlot\">\n                        <label>TripleSlot</label>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\" \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>        \n                    \n                        </div>\n                    </div>\n\n                    */"]},"metadata":{},"sourceType":"module"}