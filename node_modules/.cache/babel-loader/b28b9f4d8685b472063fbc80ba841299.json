{"ast":null,"code":"import _slicedToArray from \"/home/mistermboy/repositories/wiki-author/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mistermboy/repositories/wiki-author/src/components/mainComps/assistant/tabs/shEx/headers/ShapeHeader.js\";\nimport React, { useState, useContext } from 'react';\nimport { Textbox } from 'react-inputs-validation';\nimport { AppContext } from '../../../../../../App';\nimport { ShapeContext } from '../ShapeComponent';\nimport { PN_LOCAL, IRI_REF } from '../../../../../../utils/regExpUtils';\nimport '../../../../../../css/shexComponents/headers/ShapeHeader.css';\nimport Properties from '../../../../../../conf/properties';\n\nfunction ShapeHeader(props) {\n  const context = useContext(AppContext);\n  const shapeContext = useContext(ShapeContext);\n  const disabled = shapeContext ? shapeContext.disabled : false;\n  const styles = Properties.getInstance().getShapeStyle();\n  const shape = props.shape,\n        customizeShape = props.customizeShape,\n        collapseTriples = props.collapseTriples,\n        colapseBtn = props.colapseBtn;\n\n  const _useState = useState(shape.type.value),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  let initialRegExp = new RegExp(\"^\" + PN_LOCAL);\n  if (shape.type.getTypeName() == 'iriRef') initialRegExp = new RegExp(\"^\" + IRI_REF);\n  ;\n\n  const _useState3 = useState(initialRegExp),\n        _useState4 = _slicedToArray(_useState3, 2),\n        regExp = _useState4[0],\n        setRegExp = _useState4[1];\n\n  const handleChange = function (name) {\n    shape.type.setValue(name);\n    context.emit();\n    setName(name);\n  };\n\n  const handleKeyUp = function (e) {\n    if (e.target.value == '') {\n      shapeContext.setDisabled(true);\n    } else {\n      shapeContext.setDisabled(false);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"xs-header\",\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    style: styles.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Shape\"), React.createElement(Textbox, {\n    attributesInput: {\n      id: 'Name',\n      name: 'Name',\n      type: 'text',\n      placeholder: 'eg: User'\n    },\n    value: name,\n    onChange: e => handleChange(e),\n    onKeyUp: e => handleKeyUp(e),\n    validationOption: {\n      reg: regExp,\n      regMsg: 'Invalid name'\n    },\n    title: \"Shape Name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"buildBtn mdc-icon-button material-icons\",\n    style: styles.custom,\n    onClick: customizeShape,\n    disabled: disabled,\n    title: \"Customize Shape\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"build\"), React.createElement(\"button\", {\n    className: \"deleteShapeBtn mdc-icon-button material-icons\",\n    style: styles.delete,\n    onClick: () => context.deleteShape(shape.id),\n    title: \"Delete Shape\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"delete\"), React.createElement(\"button\", {\n    className: \"collapseBtn mdc-icon-button material-icons\",\n    style: styles.collapse,\n    onClick: collapseTriples,\n    disabled: disabled,\n    title: \"Triple Constraints\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, colapseBtn));\n}\n\nexport default ShapeHeader;\n/*\n\n<input  type=\"text\" \n                    className={\"sName\"+shape.id+\" name\"}\n                    value={name}\n                    onChange={handleChange}\n                    placeholder=\"eg: User\"\n                    title=\"Shape Name\"/>\n*/","map":{"version":3,"sources":["/home/mistermboy/repositories/wiki-author/src/components/mainComps/assistant/tabs/shEx/headers/ShapeHeader.js"],"names":["React","useState","useContext","Textbox","AppContext","ShapeContext","PN_LOCAL","IRI_REF","Properties","ShapeHeader","props","context","shapeContext","disabled","styles","getInstance","getShapeStyle","shape","customizeShape","collapseTriples","colapseBtn","type","value","name","setName","initialRegExp","RegExp","getTypeName","regExp","setRegExp","handleChange","setValue","emit","handleKeyUp","e","target","setDisabled","header","label","id","placeholder","reg","regMsg","custom","delete","deleteShape","collapse"],"mappings":"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","sourcesContent":["import React,{useState,useContext} from 'react';\nimport { Textbox } from 'react-inputs-validation';\nimport {AppContext} from '../../../../../../App';\nimport {ShapeContext} from '../ShapeComponent';\nimport {PN_LOCAL,IRI_REF} from '../../../../../../utils/regExpUtils';\nimport '../../../../../../css/shexComponents/headers/ShapeHeader.css';\nimport Properties from '../../../../../../conf/properties';\n\nfunction ShapeHeader (props) {\n\n    const context = useContext(AppContext);\n    const shapeContext = useContext(ShapeContext);\n    const disabled = shapeContext ? shapeContext.disabled : false;\n    const styles = Properties.getInstance().getShapeStyle();\n    \n    const {shape,customizeShape,collapseTriples,colapseBtn} = props;\n    const [name,setName] = useState(shape.type.value);\n\n    let initialRegExp = new RegExp(\"^\" +PN_LOCAL);\n    if(shape.type.getTypeName()=='iriRef') initialRegExp = new RegExp(\"^\" +IRI_REF);;\n    const [regExp,setRegExp] = useState(initialRegExp);\n\n    const handleChange = function(name){\n        shape.type.setValue(name);\n        context.emit();\n        setName(name);\n    }\n\n    const handleKeyUp = function(e){\n        if(e.target.value==''){\n            shapeContext.setDisabled(true);\n        }else{\n            shapeContext.setDisabled(false);\n        }\n    }\n\n    \n    return (\n        <div className='xs-header' style={styles.header}>            \n            <label style={styles.label}>Shape</label>\n            <Textbox \n                    attributesInput={{ \n                        id: 'Name',\n                        name: 'Name',\n                        type: 'text',\n                        placeholder: 'eg: User',\n                    }}\n                    value={name} \n                    onChange={(e)=>handleChange(e)}\n                    onKeyUp={(e)=>handleKeyUp(e)}\n                    validationOption={{\n                        reg: regExp, \n                        regMsg: 'Invalid name'\n                    }}\n                    title=\"Shape Name\"\n                    /> \n\n            <button className=\"buildBtn mdc-icon-button material-icons\" \n                    style={styles.custom} \n                    onClick={customizeShape}\n                    disabled={disabled}\n                    title=\"Customize Shape\">\n                    build\n            </button>\n           \n            <button className=\"deleteShapeBtn mdc-icon-button material-icons\" \n                    style={styles.delete}\n                    onClick={()=>context.deleteShape(shape.id)}\n                    title=\"Delete Shape\">\n                    delete\n            </button>\n            \n\n            <button className=\"collapseBtn mdc-icon-button material-icons\" \n                    style={styles.collapse}\n                    onClick={collapseTriples} \n                    disabled={disabled}\n                    title=\"Triple Constraints\">\n                    {colapseBtn}\n            </button>\n        </div>\n    );\n                                   \n    \n}\n\n\nexport default ShapeHeader;\n\n/*\n\n<input  type=\"text\" \n                    className={\"sName\"+shape.id+\" name\"}\n                    value={name}\n                    onChange={handleChange}\n                    placeholder=\"eg: User\"\n                    title=\"Shape Name\"/>\n*/"]},"metadata":{},"sourceType":"module"}