{"ast":null,"code":"import _slicedToArray from \"/home/mistermboy/repositories/wiki-author/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mistermboy/repositories/wiki-author/src/components/mainComps/assistant/tabs/shEx/headers/TripleHeader.js\";\nimport React, { useState, useContext } from 'react';\nimport { AppContext } from '../../../../../../App';\nimport { ShapeContext } from '../ShapeComponent';\nimport yasheUtils from '../../../../../../utils/yasheUtils';\nimport Properties from '../../../../../../conf/properties';\nimport '../../../../../../css/shexComponents/headers/TripleHeader.css';\nconst primitives = ['String', 'Integer', 'Date', 'Boolean', 'Custom'];\n\nfunction TripleHeader(props) {\n  const context = useContext(AppContext);\n  const shapeContext = useContext(ShapeContext);\n  const styles = Properties.getInstance().getTripleStyle();\n  const disabled = shapeContext.disabled;\n  const triple = props.triple,\n        deleteTriple = props.deleteTriple,\n        customizeTriple = props.customizeTriple,\n        forceCollapse = props.forceCollapse,\n        customizeRef = props.customizeRef,\n        customizeFacet = props.customizeFacet,\n        customizeContraints = props.customizeContraints,\n        customizeCardinality = props.customizeCardinality,\n        collapseToggle = props.collapseToggle,\n        colapseBtn = props.colapseBtn;\n\n  const _useState = useState(triple.type.value),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(triple.cardinality),\n        _useState4 = _slicedToArray(_useState3, 2),\n        cardinality = _useState4[0],\n        setCardinality = _useState4[1];\n\n  const handleNameChange = function (e) {\n    const name = e.target.value;\n    triple.type.setValue(name);\n    context.emit();\n    setName(name);\n  };\n\n  let initialPrimitive = 'custom';\n\n  if (triple.constraint.value != '') {\n    initialPrimitive = triple.constraint.value;\n  }\n\n  const _useState5 = useState(initialPrimitive),\n        _useState6 = _slicedToArray(_useState5, 2),\n        primitive = _useState6[0],\n        setPrimitive = _useState6[1];\n\n  const handlePrimitiveChange = function (e) {\n    const primitive = e.target.value;\n\n    if (primitive == 'custom') {\n      setPrimitive('custom');\n      forceCollapse(true);\n      return;\n    }\n\n    triple.setValue('primitive');\n    triple.constraint.setValue(primitive);\n    triple.inlineShape.shape = null;\n    context.emit();\n    setPrimitive(primitive);\n    forceCollapse(false);\n  };\n\n  const handleCardinalityChange = function (e) {\n    let newCardinality = e.target.value;\n    triple.setCardinality(newCardinality);\n    context.emit();\n    setCardinality(newCardinality);\n  };\n\n  const handleCollapse = function () {\n    setPrimitive('custom');\n    customizeContraints();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"xs-tripleHeader\",\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"name\",\n    value: name,\n    onChange: handleNameChange,\n    placeholder: \"eg: name\",\n    disabled: disabled,\n    title: \"Triple Constraint Name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"tripleBtns buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons\",\n    style: styles.custom,\n    onClick: customizeTriple,\n    disabled: disabled,\n    title: \"Customize Triple\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"build\"), React.createElement(\"button\", {\n    className: \"tripleBtns buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons\",\n    style: styles.constraint,\n    onClick: handleCollapse,\n    disabled: disabled,\n    title: \"Customize Constraint\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"build\"), React.createElement(\"button\", {\n    className: \"tripleBtns buildFacet buildBtn buildTripleBtn mdc-icon-button material-icons\",\n    style: styles.facet,\n    onClick: customizeFacet,\n    disabled: disabled,\n    title: \"Customize Facets\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"build\"), React.createElement(\"button\", {\n    className: \"tripleBtns buildInlineRef buildBtn buildTripleBtn mdc-icon-button material-icons\",\n    style: styles.shapeRef,\n    onClick: customizeRef,\n    disabled: disabled,\n    title: \"Customize Shape Reference\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"build\"), React.createElement(\"button\", {\n    className: \"tripleBtns buildCardinality buildBtn buildTripleBtn mdc-icon-button material-icons\",\n    style: styles.cardinality,\n    onClick: customizeCardinality,\n    disabled: disabled,\n    title: \"Customize Cardinality\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"build\"), React.createElement(\"button\", {\n    className: \"tripleBtns deleteTripleBtn mdc-icon-button material-icons\",\n    style: styles.delete,\n    onClick: () => deleteTriple(triple.id),\n    disabled: disabled,\n    title: \"Delete Triple Constraint\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"delete\"), React.createElement(\"button\", {\n    className: \"collapseBtn mdc-icon-button material-icons\",\n    style: styles.collapse,\n    onClick: collapseToggle,\n    disabled: disabled,\n    title: \"Customize all\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, colapseBtn));\n}\n\nexport default TripleHeader;","map":{"version":3,"sources":["/home/mistermboy/repositories/wiki-author/src/components/mainComps/assistant/tabs/shEx/headers/TripleHeader.js"],"names":["React","useState","useContext","AppContext","ShapeContext","yasheUtils","Properties","primitives","TripleHeader","props","context","shapeContext","styles","getInstance","getTripleStyle","disabled","triple","deleteTriple","customizeTriple","forceCollapse","customizeRef","customizeFacet","customizeContraints","customizeCardinality","collapseToggle","colapseBtn","type","value","name","setName","cardinality","setCardinality","handleNameChange","e","target","setValue","emit","initialPrimitive","constraint","primitive","setPrimitive","handlePrimitiveChange","inlineShape","shape","handleCardinalityChange","newCardinality","handleCollapse","header","custom","facet","shapeRef","delete","id","collapse"],"mappings":"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","sourcesContent":["import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport {ShapeContext} from '../ShapeComponent';\nimport yasheUtils from '../../../../../../utils/yasheUtils';\nimport Properties from '../../../../../../conf/properties';\nimport '../../../../../../css/shexComponents/headers/TripleHeader.css';\n\n\nconst primitives = ['String','Integer','Date','Boolean','Custom'];\n\n\nfunction TripleHeader (props) {\n\n    const context = useContext(AppContext);\n    const shapeContext = useContext(ShapeContext);\n    const styles = Properties.getInstance().getTripleStyle();\n    const disabled = shapeContext.disabled;\n\n    const { triple,\n            deleteTriple,\n            customizeTriple,\n            forceCollapse,\n            customizeRef,\n            customizeFacet,\n            customizeContraints,\n            customizeCardinality,\n            collapseToggle,\n            colapseBtn\n            } = props;\n\n    const [name,setName] = useState(triple.type.value);\n    const [cardinality,setCardinality] = useState(triple.cardinality);\n\n    const handleNameChange = function(e){\n        const name = e.target.value;\n        triple.type.setValue(name);\n        context.emit();\n        setName(name);\n    }\n\n    let initialPrimitive = 'custom'\n    if(triple.constraint.value != ''){\n        initialPrimitive = triple.constraint.value;\n    }\n    const [primitive,setPrimitive] = useState(initialPrimitive);\n\n\n    const handlePrimitiveChange = function(e){\n        const primitive = e.target.value;\n\n        if(primitive == 'custom'){\n            setPrimitive('custom')\n            forceCollapse(true);\n            return;\n        }\n\n        triple.setValue('primitive');\n        triple.constraint.setValue(primitive);\n        triple.inlineShape.shape = null;\n        context.emit();\n        setPrimitive(primitive);\n        forceCollapse(false);\n    }\n\n    const handleCardinalityChange = function(e){\n        let newCardinality = e.target.value;\n        triple.setCardinality(newCardinality);\n        context.emit();\n        setCardinality(newCardinality)\n       \n    }\n\n    const handleCollapse = function(){\n        setPrimitive('custom')\n        customizeContraints();\n    }\n   \n   \n    return (\n        <div className=\"xs-tripleHeader\" style={styles.header}>            \n            <input  type=\"text\" \n                    className=\"name\"\n                    value={name}\n                    onChange={handleNameChange}\n                    placeholder=\"eg: name\"\n                    disabled={disabled}\n                    title=\"Triple Constraint Name\"/>\n\n            <button className=\"tripleBtns buildTriple buildBtn buildTripleBtn mdc-icon-button material-icons\"\n                    style={styles.custom}\n                    onClick={customizeTriple}\n                    disabled={disabled} \n                    title=\"Customize Triple\">\n                    build\n            </button>\n\n            <button className=\"tripleBtns buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons\"\n                    style={styles.constraint}\n                    onClick={handleCollapse}\n                    disabled={disabled} \n                    title=\"Customize Constraint\">\n                    build\n            </button>\n\n             <button className=\"tripleBtns buildFacet buildBtn buildTripleBtn mdc-icon-button material-icons\"\n                    style={styles.facet}\n                    onClick={customizeFacet}\n                    disabled={disabled}\n                    title=\"Customize Facets\">\n                    build\n            </button>\n\n            <button className=\"tripleBtns buildInlineRef buildBtn buildTripleBtn mdc-icon-button material-icons\"  \n                    style={styles.shapeRef}\n                    onClick={customizeRef}\n                    disabled={disabled} \n                    title=\"Customize Shape Reference\">\n                    build\n            </button>\n\n           \n            <button className=\"tripleBtns buildCardinality buildBtn buildTripleBtn mdc-icon-button material-icons\" \n                    style={styles.cardinality}\n                    onClick={customizeCardinality}\n                    disabled={disabled} \n                    title=\"Customize Cardinality\">\n                    build\n            </button>\n\n            <button className=\"tripleBtns deleteTripleBtn mdc-icon-button material-icons\"\n                    style={styles.delete}\n                    onClick={()=>deleteTriple(triple.id)}\n                    disabled={disabled} \n                    title=\"Delete Triple Constraint\">\n                    delete\n            </button>\n\n            <button className=\"collapseBtn mdc-icon-button material-icons\" \n                    style={styles.collapse}\n                    onClick={collapseToggle}\n                    disabled={disabled} \n                    title=\"Customize all\">\n                    {colapseBtn}\n            </button>\n        </div>\n    );\n                                   \n    \n}\n\n\nexport default TripleHeader;\n\n"]},"metadata":{},"sourceType":"module"}