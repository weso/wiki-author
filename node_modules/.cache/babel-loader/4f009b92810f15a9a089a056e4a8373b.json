{"ast":null,"code":"\"use strict\";\n\nvar $ = require(\"jquery\");\n\nvar Codemirror = require('codemirror');\n\nvar keyExists = function (objectToTest, key) {\n  var exists = false;\n\n  try {\n    if (objectToTest[key] !== undefined) exists = true;\n  } catch (e) {}\n\n  return exists;\n};\n\nvar getPersistencyId = function (yashe, persistentIdCreator) {\n  var persistencyId = null;\n\n  if (persistentIdCreator) {\n    if (typeof persistentIdCreator == \"string\") {\n      persistencyId = persistentIdCreator;\n    } else {\n      persistencyId = persistentIdCreator(yashe);\n    }\n  }\n\n  return persistencyId;\n};\n\nvar elementsOverlap = function () {\n  function getPositions(elem) {\n    var pos, width, height;\n    pos = $(elem).offset();\n    width = $(elem).width();\n    height = $(elem).height();\n    return [[pos.left, pos.left + width], [pos.top, pos.top + height]];\n  }\n\n  function comparePositions(p1, p2) {\n    var r1, r2;\n    r1 = p1[0] < p2[0] ? p1 : p2;\n    r2 = p1[0] < p2[0] ? p2 : p1;\n    return r1[1] > r2[0] || r1[0] === r2[0];\n  }\n\n  return function (a, b) {\n    var pos1 = getPositions(a),\n        pos2 = getPositions(b);\n    return comparePositions(pos1[0], pos2[0]) && comparePositions(pos1[1], pos2[1]);\n  };\n}();\n\nvar getString = function (yashe, item) {\n  if (typeof item == \"function\") {\n    return item(yashe);\n  } else {\n    return item;\n  }\n};\n\nvar readFile = function handleFileSelect(yashe, evt) {\n  var files = event.target.files; //Only one file allowed\n\n  if (files.length > 1) {\n    return;\n  }\n\n  var file = event.target.files[0]; //Only ShEx files allowed\n\n  if (!file.name.endsWith('.shex')) {\n    return;\n  }\n\n  var reader = new FileReader();\n\n  reader.onload = function (event) {\n    // El texto del archivo se mostrará por consola aquí\n    yashe.setValue(event.target.result);\n  };\n\n  reader.readAsText(file);\n  Codemirror.signal(yashe, 'upload');\n};\n\nmodule.exports = {\n  keyExists: keyExists,\n  getPersistencyId: getPersistencyId,\n  elementsOverlap: elementsOverlap,\n  getString: getString,\n  readFile: readFile\n};","map":null,"metadata":{},"sourceType":"script"}