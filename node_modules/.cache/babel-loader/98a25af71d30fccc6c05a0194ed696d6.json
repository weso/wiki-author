{"ast":null,"code":"var _jsxFileName = \"/home/mistermboy/repositories/wiki-author/src/components/mainComps/toolbar/DeleteAllBtn.js\";\nimport React, { useContext } from 'react';\nimport Codemirror from 'codemirror';\nimport { AppContext } from '../../../App';\nimport Editor from '../../../entities/editor';\n\nfunction DeleteAllBtn() {\n  const context = useContext(AppContext);\n\n  const deleteShapes = function () {\n    if (window.confirm('Are you sure?')) {\n      //Needed for visualize\n      setTimeout(() => {\n        context.replaceShapes([]);\n      }, 10); // We can't do emit() because it takes \n      // like another call to change shapes state\n      // I don't know exactly the reason...\n      // It's something about react state\n\n      let yashe = Editor.getInstance().getYashe();\n      yashe.setValue('');\n      Codemirror.signal(yashe, 'delete');\n    }\n  };\n\n  return React.createElement(\"button\", {\n    className: \"mdc-icon-button material-icons btns\",\n    title: \"Delete all\",\n    onClick: deleteShapes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"delete_outline\");\n}\n\nexport default DeleteAllBtn;","map":{"version":3,"sources":["/home/mistermboy/repositories/wiki-author/src/components/mainComps/toolbar/DeleteAllBtn.js"],"names":["React","useContext","Codemirror","AppContext","Editor","DeleteAllBtn","context","deleteShapes","window","confirm","setTimeout","replaceShapes","yashe","getInstance","getYashe","setValue","signal"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,UAAd,QAA+B,OAA/B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,OAAQC,MAAR,MAAoB,0BAApB;;AAEA,SAASC,YAAT,GAAyB;AAErB,QAAMC,OAAO,GAAGL,UAAU,CAACE,UAAD,CAA1B;;AAEA,QAAOI,YAAY,GAAG,YAAU;AAC5B,QAAGC,MAAM,CAACC,OAAP,CAAe,eAAf,CAAH,EAAmC;AAC/B;AACAC,MAAAA,UAAU,CAAC,MAAM;AACbJ,QAAAA,OAAO,CAACK,aAAR,CAAsB,EAAtB;AACH,OAFS,EAEP,EAFO,CAAV,CAF+B,CAK/B;AACA;AACA;AACA;;AACA,UAAIC,KAAK,GAAGR,MAAM,CAACS,WAAP,GAAqBC,QAArB,EAAZ;AACAF,MAAAA,KAAK,CAACG,QAAN,CAAe,EAAf;AACAb,MAAAA,UAAU,CAACc,MAAX,CAAkBJ,KAAlB,EAAwB,QAAxB;AACH;AACJ,GAdD;;AAiBA,SACK;AAAQ,IAAA,SAAS,EAAC,qCAAlB;AACQ,IAAA,KAAK,EAAC,YADd;AAEQ,IAAA,OAAO,EAAEL,YAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADL;AAQH;;AAED,eAAeF,YAAf","sourcesContent":["import React,{useContext} from 'react';\nimport Codemirror from 'codemirror';\nimport {AppContext} from '../../../App';\nimport  Editor from '../../../entities/editor';\n\nfunction DeleteAllBtn () {\n\n    const context = useContext(AppContext);\n\n    const  deleteShapes = function(){\n        if(window.confirm('Are you sure?')){\n            //Needed for visualize\n            setTimeout(() => {\n                context.replaceShapes([]);    \n            }, 10);\n            // We can't do emit() because it takes \n            // like another call to change shapes state\n            // I don't know exactly the reason...\n            // It's something about react state\n            let yashe = Editor.getInstance().getYashe();\n            yashe.setValue('');\n            Codemirror.signal(yashe,'delete');\n        }\n    }\n\n\n    return (\n         <button className=\"mdc-icon-button material-icons btns\" \n                 title=\"Delete all\"\n                 onClick={deleteShapes}>\n                 delete_outline\n            </button>  );\n    \n  \n}\n\nexport default DeleteAllBtn;\n\n\n"]},"metadata":{},"sourceType":"module"}