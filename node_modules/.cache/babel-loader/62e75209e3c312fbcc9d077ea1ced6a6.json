{"ast":null,"code":"import _slicedToArray from \"/home/mistermboy/repositories/wiki-author/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useContext } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { SHAPE_COLORS, TRIPLE_COLORS, CONSTRAINT_COLORS, FACET_COLORS, SHAPEREF_COLORS, CARDINALITY_COLORS, PREFIX_COLORS } from './colors';\nimport { DEFAULTS } from './config'; //Singleton Pattern\n\nconst Properties = (() => {\n  function PropertyClass() {\n    const _useCookies = useCookies('colors'),\n          _useCookies2 = _slicedToArray(_useCookies, 3),\n          cookies = _useCookies2[0],\n          setCookie = _useCookies2[1],\n          removeCookie = _useCookies2[2];\n\n    this.getShapeStyle = function () {\n      return {\n        label: {\n          color: SHAPE_COLORS.label\n        },\n        header: {\n          background: SHAPE_COLORS.header\n        },\n        custom: {\n          color: SHAPE_COLORS.customFill,\n          background: SHAPE_COLORS.custom\n        },\n        delete: {\n          color: SHAPE_COLORS.deleteFill,\n          background: SHAPE_COLORS.delete\n        },\n        collapse: {\n          color: SHAPE_COLORS.collapse\n        },\n        body: {\n          background: SHAPE_COLORS.body\n        },\n        addTriple: {\n          color: SHAPE_COLORS.addTripleFill,\n          background: SHAPE_COLORS.addTriple\n        },\n        addShape: {\n          color: SHAPE_COLORS.addShapeFill,\n          background: SHAPE_COLORS.addShape\n        }\n      };\n    };\n\n    this.getTripleStyle = function () {\n      return {\n        label: {\n          color: TRIPLE_COLORS.label\n        },\n        header: {\n          background: TRIPLE_COLORS.header\n        },\n        custom: {\n          color: TRIPLE_COLORS.customFill,\n          background: TRIPLE_COLORS.custom\n        },\n        constraint: {\n          color: TRIPLE_COLORS.constraintFill,\n          background: TRIPLE_COLORS.constraint\n        },\n        facet: {\n          color: TRIPLE_COLORS.facetFill,\n          background: TRIPLE_COLORS.facet\n        },\n        shapeRef: {\n          color: TRIPLE_COLORS.shapeRefFill,\n          background: TRIPLE_COLORS.shapeRef\n        },\n        cardinality: {\n          color: TRIPLE_COLORS.cardinalityFill,\n          background: TRIPLE_COLORS.cardinality\n        },\n        delete: {\n          color: TRIPLE_COLORS.deleteFill,\n          background: TRIPLE_COLORS.delete\n        },\n        collapse: {\n          color: TRIPLE_COLORS.collapse\n        },\n        body: {\n          background: TRIPLE_COLORS.body\n        }\n      };\n    };\n\n    this.getConstraintStyle = function () {\n      return {\n        label: {\n          color: CONSTRAINT_COLORS.label\n        },\n        body: {\n          background: CONSTRAINT_COLORS.body\n        },\n        add: {\n          color: CONSTRAINT_COLORS.addFill,\n          background: CONSTRAINT_COLORS.add\n        },\n        delete: {\n          color: CONSTRAINT_COLORS.deleteFill,\n          background: CONSTRAINT_COLORS.delete\n        }\n      };\n    };\n\n    this.getFacetStyle = function () {\n      return {\n        label: {\n          color: FACET_COLORS.label\n        },\n        body: {\n          background: FACET_COLORS.body\n        },\n        add: {\n          color: FACET_COLORS.addFill,\n          background: FACET_COLORS.add\n        },\n        delete: {\n          color: FACET_COLORS.deleteFill,\n          background: FACET_COLORS.delete\n        }\n      };\n    };\n\n    this.getShapeRefStyle = function () {\n      return {\n        label: {\n          color: SHAPEREF_COLORS.label\n        },\n        body: {\n          background: SHAPEREF_COLORS.body\n        }\n      };\n    };\n\n    this.getCardinalityStyle = function () {\n      return {\n        label: {\n          color: CARDINALITY_COLORS.label\n        },\n        body: {\n          background: CARDINALITY_COLORS.body\n        }\n      };\n    };\n\n    this.getCardinalityStyle = function () {\n      return {\n        label: {\n          color: CARDINALITY_COLORS.label\n        },\n        body: {\n          background: CARDINALITY_COLORS.body\n        }\n      };\n    };\n\n    this.getPrefixStyle = function () {\n      return {\n        label: {\n          color: PREFIX_COLORS.label\n        },\n        header: {\n          background: PREFIX_COLORS.header\n        },\n        delete: {\n          color: PREFIX_COLORS.deleteFill,\n          background: PREFIX_COLORS.delete\n        },\n        add: {\n          color: PREFIX_COLORS.addFill,\n          background: PREFIX_COLORS.add\n        },\n        specialLabel: {\n          color: PREFIX_COLORS.specialLabel\n        },\n        body: {\n          background: PREFIX_COLORS.body\n        }\n      };\n    };\n\n    this.loadCookies = function () {\n      //Colors\n      this.loadCookie('shapeColors', SHAPE_COLORS);\n      this.loadCookie('tripleColors', TRIPLE_COLORS);\n      this.loadCookie('constraintColors', CONSTRAINT_COLORS);\n      this.loadCookie('facetColors', FACET_COLORS);\n      this.loadCookie('shapeRefColors', SHAPEREF_COLORS);\n      this.loadCookie('cardinalityColors', CARDINALITY_COLORS); //Config\n\n      this.loadCookie('conf', DEFAULTS);\n    };\n\n    this.loadCookie = function (cookie, namespace) {\n      let properties = cookies[cookie];\n\n      if (!properties) {\n        setCookie(cookie, namespace, {\n          path: '/'\n        });\n      } else {\n        this.load(properties, namespace);\n      }\n    };\n\n    this.load = function (propeties, namespace) {\n      //namespace = colors; It doesn't work\n      Object.keys(propeties).map(c => {\n        //console.log(propeties[c])\n        namespace[c] = propeties[c];\n      });\n    };\n\n    this.removeCookies = function () {\n      //Colors\n      removeCookie('shapeColors');\n      removeCookie('tripleColors');\n      removeCookie('constraintColors');\n      removeCookie('facetColors');\n      removeCookie('shapeRefColors');\n      removeCookie('cardinalityColors');\n      removeCookie('cardinalityColors'); //Config\n\n      removeCookie('conf');\n    };\n\n    this.saveDefaults = function () {\n      //Colors\n      this.defaultShape = Object.assign({}, SHAPE_COLORS);\n      this.defaultTriple = Object.assign({}, TRIPLE_COLORS);\n      this.defaultConstraint = Object.assign({}, CONSTRAINT_COLORS);\n      this.defaultFacet = Object.assign({}, FACET_COLORS);\n      this.defaultShapeRef = Object.assign({}, SHAPEREF_COLORS);\n      this.defaultCardinality = Object.assign({}, CARDINALITY_COLORS); //Config\n\n      this.defaultConfig = Object.assign({}, DEFAULTS);\n    };\n\n    this.restoreDefaultColors = function () {\n      this.load(this.defaultShape, SHAPE_COLORS);\n      this.load(this.defaultTriple, TRIPLE_COLORS);\n      this.load(this.defaultConstraint, CONSTRAINT_COLORS);\n      this.load(this.defaultFacet, FACET_COLORS);\n      this.load(this.defaultShapeRef, SHAPEREF_COLORS);\n      this.load(this.defaultCardinality, CARDINALITY_COLORS);\n      this.removeCookies();\n    };\n\n    this.restoreDefaultConfig = function () {\n      this.load(this.defaultConfig, DEFAULTS);\n      this.removeCookies();\n    };\n\n    this.saveDefaults();\n    this.loadCookies();\n  }\n\n  let instance;\n  return {\n    getInstance: () => {\n      if (!instance) {\n        instance = new PropertyClass();\n      }\n\n      return instance;\n    }\n  };\n})();\n\nexport default Properties;","map":{"version":3,"sources":["/home/mistermboy/repositories/wiki-author/src/conf/properties.js"],"names":["React","useState","useContext","useCookies","SHAPE_COLORS","TRIPLE_COLORS","CONSTRAINT_COLORS","FACET_COLORS","SHAPEREF_COLORS","CARDINALITY_COLORS","PREFIX_COLORS","DEFAULTS","Properties","PropertyClass","cookies","setCookie","removeCookie","getShapeStyle","label","color","header","background","custom","customFill","delete","deleteFill","collapse","body","addTriple","addTripleFill","addShape","addShapeFill","getTripleStyle","constraint","constraintFill","facet","facetFill","shapeRef","shapeRefFill","cardinality","cardinalityFill","getConstraintStyle","add","addFill","getFacetStyle","getShapeRefStyle","getCardinalityStyle","getPrefixStyle","specialLabel","loadCookies","loadCookie","cookie","namespace","properties","path","load","propeties","Object","keys","map","c","removeCookies","saveDefaults","defaultShape","assign","defaultTriple","defaultConstraint","defaultFacet","defaultShapeRef","defaultCardinality","defaultConfig","restoreDefaultColors","restoreDefaultConfig","instance","getInstance"],"mappings":"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","sourcesContent":["import React,{useState,useContext} from 'react';\nimport { useCookies } from 'react-cookie';\nimport {SHAPE_COLORS,\n        TRIPLE_COLORS,\n        CONSTRAINT_COLORS,\n        FACET_COLORS,\n        SHAPEREF_COLORS,\n        CARDINALITY_COLORS,\n        PREFIX_COLORS} from './colors';\n\nimport {DEFAULTS} from './config'       ;\n//Singleton Pattern\nconst Properties = (()=> {\n\n    function PropertyClass(){\n\n        const [cookies, setCookie,removeCookie] = useCookies('colors');\n       \n        this.getShapeStyle = function(){\n            return {\n                label:{color:SHAPE_COLORS.label},\n                header:{background:SHAPE_COLORS.header},\n                custom:{\n                        color:SHAPE_COLORS.customFill,\n                        background:SHAPE_COLORS.custom\n                },\n                delete:{\n                        color:SHAPE_COLORS.deleteFill,\n                        background:SHAPE_COLORS.delete\n                },\n                collapse:{color:SHAPE_COLORS.collapse},\n                body:{background:SHAPE_COLORS.body},\n                addTriple:{\n                        color:SHAPE_COLORS.addTripleFill,\n                        background:SHAPE_COLORS.addTriple\n                },\n                addShape:{\n                        color:SHAPE_COLORS.addShapeFill,\n                        background:SHAPE_COLORS.addShape\n                },\n            };  \n        }\n\n        this.getTripleStyle = function(){\n            return {      \n                label:{color:TRIPLE_COLORS.label}, \n                header:{background:TRIPLE_COLORS.header},\n                custom:{\n                        color:TRIPLE_COLORS.customFill,\n                        background:TRIPLE_COLORS.custom\n                },\n                constraint:{\n                        color:TRIPLE_COLORS.constraintFill,\n                        background:TRIPLE_COLORS.constraint\n                },\n                facet:{\n                        color:TRIPLE_COLORS.facetFill,\n                        background:TRIPLE_COLORS.facet\n                },\n                shapeRef:{\n                        color:TRIPLE_COLORS.shapeRefFill,\n                        background:TRIPLE_COLORS.shapeRef\n                },\n                cardinality:{\n                        color:TRIPLE_COLORS.cardinalityFill,\n                        background:TRIPLE_COLORS.cardinality\n                },\n                delete:{\n                        color:TRIPLE_COLORS.deleteFill,\n                        background:TRIPLE_COLORS.delete\n                },\n                collapse:{color:TRIPLE_COLORS.collapse},\n                body:{background:TRIPLE_COLORS.body},\n            }\n        }\n\n        this.getConstraintStyle = function(){\n            return {\n                label:{color:CONSTRAINT_COLORS.label}, \n                body:{background:CONSTRAINT_COLORS.body},\n                add:{\n                        color:CONSTRAINT_COLORS.addFill,\n                        background:CONSTRAINT_COLORS.add\n                },\n                delete:{\n                        color:CONSTRAINT_COLORS.deleteFill,\n                        background:CONSTRAINT_COLORS.delete\n                },\n            };  \n        }\n\n        this.getFacetStyle = function(){\n            return {\n                label:{color:FACET_COLORS.label}, \n                body:{background:FACET_COLORS.body},\n                add:{\n                        color:FACET_COLORS.addFill,\n                        background:FACET_COLORS.add\n                },\n                delete:{\n                        color:FACET_COLORS.deleteFill,\n                        background:FACET_COLORS.delete\n                },\n            };  \n        }\n\n        this.getShapeRefStyle = function(){\n            return {\n                label:{color:SHAPEREF_COLORS.label}, \n                body:{background:SHAPEREF_COLORS.body}\n            };  \n        }\n\n        this.getCardinalityStyle = function(){\n            return {\n                label:{color:CARDINALITY_COLORS.label},\n                body:{background:CARDINALITY_COLORS.body}\n            };  \n        }\n\n        this.getCardinalityStyle = function(){\n            return {\n                label:{color:CARDINALITY_COLORS.label},\n                body:{background:CARDINALITY_COLORS.body}\n            };  \n        }\n\n        this.getPrefixStyle = function(){\n            return {\n                label:{color:PREFIX_COLORS.label},\n                header:{background:PREFIX_COLORS.header},\n                delete:{\n                        color:PREFIX_COLORS.deleteFill,\n                        background:PREFIX_COLORS.delete\n                },\n                add:{\n                        color:PREFIX_COLORS.addFill,\n                        background:PREFIX_COLORS.add\n                },\n                specialLabel:{color:PREFIX_COLORS.specialLabel},\n                body:{background:PREFIX_COLORS.body}\n            };  \n        }\n\n\n\n\n        this.loadCookies = function(){\n            //Colors\n            this.loadCookie('shapeColors',SHAPE_COLORS);\n            this.loadCookie('tripleColors',TRIPLE_COLORS);\n            this.loadCookie('constraintColors',CONSTRAINT_COLORS);\n            this.loadCookie('facetColors',FACET_COLORS);\n            this.loadCookie('shapeRefColors',SHAPEREF_COLORS);\n            this.loadCookie('cardinalityColors',CARDINALITY_COLORS);\n\n            //Config\n            this.loadCookie('conf',DEFAULTS);\n            \n         }\n\n        this.loadCookie = function(cookie,namespace){\n            let properties = cookies[cookie];\n            if(!properties){\n                setCookie(cookie, namespace, { path: '/' });\n            }else{\n                this.load(properties,namespace);\n            }\n        }\n\n        this.load = function(propeties,namespace){\n            //namespace = colors; It doesn't work\n            Object.keys(propeties).map(c=>{\n                //console.log(propeties[c])\n                namespace[c]=propeties[c];\n            });\n        }\n\n\n        this.removeCookies = function(){\n            //Colors\n            removeCookie('shapeColors');\n            removeCookie('tripleColors');\n            removeCookie('constraintColors');\n            removeCookie('facetColors');\n            removeCookie('shapeRefColors');\n            removeCookie('cardinalityColors');\n            removeCookie('cardinalityColors');\n            //Config\n            removeCookie('conf');\n        }\n\n        this.saveDefaults = function(){\n            //Colors\n            this.defaultShape = Object.assign({}, SHAPE_COLORS);\n            this.defaultTriple = Object.assign({}, TRIPLE_COLORS);\n            this.defaultConstraint = Object.assign({}, CONSTRAINT_COLORS);\n            this.defaultFacet = Object.assign({}, FACET_COLORS);\n            this.defaultShapeRef = Object.assign({}, SHAPEREF_COLORS);\n            this.defaultCardinality = Object.assign({}, CARDINALITY_COLORS);\n            //Config\n            this.defaultConfig = Object.assign({}, DEFAULTS);\n        }\n\n        this.restoreDefaultColors = function(){\n            this.load(this.defaultShape,SHAPE_COLORS);\n            this.load(this.defaultTriple,TRIPLE_COLORS);\n            this.load(this.defaultConstraint,CONSTRAINT_COLORS);\n            this.load(this.defaultFacet,FACET_COLORS);\n            this.load(this.defaultShapeRef,SHAPEREF_COLORS);\n            this.load(this.defaultCardinality,CARDINALITY_COLORS);\n            this.removeCookies();\n        }\n\n        this.restoreDefaultConfig = function(){\n            this.load(this.defaultConfig,DEFAULTS);\n            this.removeCookies();\n        }\n\n        this.saveDefaults();\n        this.loadCookies();                \n    }\n\n   \n\n    let instance;\n\n    return{\n        getInstance: ()=>{\n            if(!instance){\n                instance = new PropertyClass();\n            }\n            return instance;\n        }\n\n    }\n\n})();\n\n\nexport default Properties;"]},"metadata":{},"sourceType":"module"}