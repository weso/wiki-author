(this["webpackJsonpwiki-author"]=this["webpackJsonpwiki-author"]||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){},153:function(e,t,a){e.exports=a(413)},175:function(e,t,a){},213:function(e,t,a){},223:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},402:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(25),r=a.n(l),s=a(42),o=a(5),c=a(146),u=a.n(c),d=a(416);a(175);var p=function(e){var t=e.colapseAll;return i.a.createElement("nav",{className:"navbar navbar-default "},i.a.createElement("div",{className:"navbar-header"},i.a.createElement("button",{className:"collapseAllBtn mdc-icon-button material-icons",type:"button",onClick:t},"menu"),i.a.createElement("span",{className:"shexTitle"},"WikiAuthor"),i.a.createElement("a",{className:"navItems",target:"_blank",href:"http://www.weso.es/shex-author/"},"ShExAuthor"),i.a.createElement("a",{className:"navItems",target:"_blank",href:"http://www.weso.es/YASHE/"},"YASHE"),i.a.createElement("a",{className:"navItems",target:"_blank",href:"http://www.weso.es/"},"Weso"),i.a.createElement("a",{className:"navItems",target:"_blank",href:"https://www.linkedin.com/in/pablo-men%C3%A9ndez-su%C3%A1rez-106262a7/"},"About me")))},m=a(417);var h=function(){var e=Object(n.useContext)($t);return i.a.createElement("button",{className:"mdc-icon-button material-icons btns",title:"ShEx Assistant",type:"button",onClick:e.assistantToggle},"info")};var f=function(){var e=Object(n.useContext)($t);return i.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Visualize",onClick:e.visualizeToggle},"remove_red_eye")},g=a(34),b=a.n(g),v=function(){function e(){this.getYashe=function(){return this.yashe},this.setYashe=function(e){this.yashe=e},this.getPrefixes=function(){var e=this.getYashe().getDefinedPrefixes(),t="";for(var a in e)t+="PREFIX "+a+":    <"+e[a]+">\n";return t+="\n"},this.draw=function(e,t){var a=t;t||(a=this.getPrefixes()),e.forEach((function(e){a+=e.toString()})),this.getYashe().setValue(a)}}var t;return{getInstance:function(){return t||(t=new e),t}}}(),y=a(9),w=a.n(y),E=a(6),C=a(7),O=a(13),k=a(12),x=a(14),j=function(){function e(t){Object(E.a)(this,e),this.value=t}return Object(C.a)(e,[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}]),e}(),S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://example.org/",n=arguments.length>2?arguments[2]:void 0;Object(E.a)(this,e),this.prefixName=t,this.prefixValue=a,this.id=n}return Object(C.a)(e,[{key:"getPrefixName",value:function(){return this.prefixName}},{key:"getPrefixValue",value:function(){return this.prefixValue}}]),e}(),N=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new S,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(E.a)(this,t),(e=Object(O.a)(this,Object(k.a)(t).call(this,n))).prefix=a,e}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getPrefix",value:function(){return this.prefix}},{key:"setPrefix",value:function(e){this.prefix=e}},{key:"getTypeName",value:function(){return"prefixedIri"}},{key:"toString",value:function(){return this.getPrefix().getPrefixName()+":"+this.getValue()}}]),t}(j),T=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).call(this,e))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"iriRef"}},{key:"toString",value:function(){return"<"+this.getValue()+">"}}]),t}(j),F=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"example";return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).call(this,e))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"bnodeType"}},{key:"toString",value:function(){return"_:"+this.getValue()}}]),t}(j),I=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).call(this,e))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"blankType"}},{key:"toString",value:function(){return""}}]),t}(j),B=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).call(this,e))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"primitive"}},{key:"toString",value:function(){return"none"==this.value?".":"xsd:"+this.getValue()}}]),t}(j),R=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return Object(E.a)(this,t),(e=Object(O.a)(this,Object(k.a)(t).call(this,n))).values=a,e}return Object(x.a)(t,e),Object(C.a)(t,[{key:"addValue",value:function(e){this.values.push(e)}},{key:"getValues",value:function(){return this.values}},{key:"setValues",value:function(e){this.values=e}},{key:"getTypeName",value:function(){return"valueSet"}},{key:"toString",value:function(){var e="[";return this.values.map((function(t){e+=t.toString()+" "})),e+="]"}}]),t}(j),P=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"literal"}},{key:"toString",value:function(){return"Literal"}}]),t}(j),L=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"nonliteral"}},{key:"toString",value:function(){return"NONLITERAL"}}]),t}(j),A=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"iri"}},{key:"toString",value:function(){return"IRI"}}]),t}(j),D=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"bnode"}},{key:"toString",value:function(){return"BNODE"}}]),t}(j),z=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).call(this,e))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"stringLiteral"}},{key:"toString",value:function(){return'"'+this.value+'"'}}]),t}(j),_=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).call(this,e))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"numberLiteral"}},{key:"toString",value:function(){return this.value}}]),t}(j),V=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"true";return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).call(this,e))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"booleanLiteral"}},{key:"toString",value:function(){return this.value}}]),t}(j),H=function(){function e(){Object(E.a)(this,e)}return Object(C.a)(e,[{key:"createType",value:function(e){var t;return"iriRef"==e&&(t=new T),"prefixedIri"==e&&(t=new N),"bnodeType"==e&&(t=new F),"blankType"==e&&(t=new I),"primitive"==e&&(t=new B),"literal"==e&&(t=new P),"nonliteral"==e&&(t=new L),"iri"==e&&(t=new A),"bnode"==e&&(t=new D),"valueSet"==e&&(t=new R),"stringLiteral"==e&&(t=new z),"numberLiteral"==e&&(t=new _),"booleanLiteral"==e&&(t=new V),t}}]),e}(),Y=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(C.a)(t,[{key:"getTypeName",value:function(){return"blank"}},{key:"toString",value:function(){return""}}]),t}(j),X=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new T,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Y;Object(E.a)(this,e),this.id=t,this.type=a,this.triples=n,this.triplesCount=this.triples.length,this.factory=new H,this.qualifier=i}return Object(C.a)(e,[{key:"addTriple",value:function(e){this.triples.push(e),this.triplesCount++}},{key:"removeTriple",value:function(e){this.triples=this.triples.filter((function(t){return t.id!=e}))}},{key:"setQualifier",value:function(e){this.qualifier=this.qualifier}},{key:"setType",value:function(e){this.type=this.factory.createType(e)}},{key:"toString",value:function(){var e="";return""!=this.type.value&&(e+=this.type+" "+this.qualifier,this.checkContent()&&(e+=" {\n",e+=this.getTriplesString(),e+="}\n\n")),e}},{key:"getTriplesString",value:function(){var e=this,t="",a=this.getLongestElement("type"),n=this.getLongestElement("constraint"),i=this.getLongestElement("shapeRef"),l=this.getLongestElement("cardinality"),r=this.getLongestCR();return this.triples.forEach((function(s){var o=s.type.toString().length,c=s.constraint.toString().length,u=s.shapeRef.toString().length,d=s.cardinality.toString().length,p=a-o,m=n-c,h=i-u,f=l-d,g=r-(c+u);t+=s.toString(e.getSeparators(p,m,h,f,g))})),t}},{key:"checkContent",value:function(){var e=!1;return this.triples.forEach((function(t){""!=t.getType().value&&(e=!0)})),e}},{key:"getLongestElement",value:function(e){var t=0;return this.triples.forEach((function(a){var n=a[e].toString().length;n>t&&(t=n)})),t}},{key:"getLongestCR",value:function(){var e=0;return this.triples.forEach((function(t){var a=t.constraint.toString().length+t.shapeRef.toString().length;a>e&&(e=a)})),e}},{key:"getSeparators",value:function(e,t,a,n,i){return{triple:this.getSeparator(e),constraint:this.getSeparator(t),ref:this.getSeparator(a),card:this.getSeparator(n),CRef:this.getSeparator(i)}}},{key:"getSeparator",value:function(e){for(var t=" ",a=0;a<e;a++)t+=" ";return t}},{key:"getId",value:function(){return this.id}},{key:"setId",value:function(e){this.id=e}},{key:"getType",value:function(){return this.type}},{key:"getTriples",value:function(){return this.triples}},{key:"setTriples",value:function(e){this.triples=e}},{key:"getTriplesCount",value:function(){return this.triplesCount}},{key:"setTriplesCount",value:function(e){this.triplesCount=e}},{key:"getQualifier",value:function(){return this.qualifier}},{key:"setQualifier",value:function(e){this.qualifier=e}}]),e}(),q=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"length",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(E.a)(this,e),this.id=t,this.type=a,this.value=n}return Object(C.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"getValue",value:function(){return this.value}},{key:"setId",value:function(e){this.id=e}},{key:"setType",value:function(e){this.type=e}},{key:"setValue",value:function(e){this.value=e}},{key:"toString",value:function(){return this.type+" "+this.value}}]),e}(),M={Wikidata:{wikibase:"http://wikiba.se/ontology#",wd:"http://www.wikidata.org/entity/",wdt:"http://www.wikidata.org/prop/direct/",wdtn:"http://www.wikidata.org/prop/direct-normalized/",wds:"http://www.wikidata.org/entity/statement/",p:"http://www.wikidata.org/prop/",wdref:"http://www.wikidata.org/reference/",wdv:"http://www.wikidata.org/value/",ps:"http://www.wikidata.org/prop/statement/",psv:"http://www.wikidata.org/prop/statement/value/",psn:"http://www.wikidata.org/prop/statement/value-normalized/",pq:"http://www.wikidata.org/prop/qualifier/",pqv:"http://www.wikidata.org/prop/qualifier/value/",pqn:"http://www.wikidata.org/prop/qualifier/value-normalized/",pr:"http://www.wikidata.org/prop/reference/",prv:"http://www.wikidata.org/prop/reference/value/",prn:"http://www.wikidata.org/prop/reference/value-normalized/",wdno:"http://www.wikidata.org/prop/novalue/",wdata:"http://www.wikidata.org/wiki/Special:EntityData/"},W3C:{rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",owl:"http://www.w3.org/2002/07/owl#",skos:"http://www.w3.org/2004/02/skos/core#",xsd:"http://www.w3.org/2001/XMLSchema#",prov:"http://www.w3.org/ns/prov#"},"Social/Other":{schema:"http://schema.org/",geo:"http://www.opengis.net/ont/geosparql#",geof:"http://www.opengis.net/def/geosparql/function/"},Blazegraph:{bd:"http://www.bigdata.com/rdf#",bds:"http://www.bigdata.com/rdf/search#",gas:"http://www.bigdata.com/rdf/gas#",hint:"http://www.bigdata.com/queryHints#"}},U=0;function W(e,t){var a=e.length+U++,n=new S("","",a),i=[];return(i=Object.assign(i,e)).push(n),Q(i,t),n}function K(e){var t=M,a=v.getInstance().getYashe(),n=a.getValue(),i=(a.getDefinedPrefixes(),"http://example.org/");for(var l in t)for(var r in t[l])r==e&&(i=t[l][r]);a.setValue("PREFIX "+e+": <"+i+">\n"+n),w.a.signal(a,"prefixUpdate")}function Q(e,t){var a=v.getInstance().getYashe();void 0!=a&&w.a.signal(a,"prefixChange",function(e){var t="";return e.map((function(e){t+="PREFIX "+e.prefixName+": <"+e.prefixValue+">\n"})),t}(e),t)}var Z=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new N(new S("schema","http://schema.org/"));Object(E.a)(this,e),this.id=t,this.type=a,this.factory=new H}return Object(C.a)(e,[{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){this.type=this.factory.createType(e)}},{key:"toString",value:function(){return this.type.toString()}}]),e}(),G=0,J=0,$=0;function ee(e,t){var a=v.getInstance().getYashe();void 0!=a&&(w.a.signal(a,"humanEvent",e,t),te())}function te(){var e=v.getInstance().getYashe(),t=!1,a=!1;Object.keys(e.getDefinedPrefixes()).map((function(e){"wdt"==e&&(t=!0),"wd"==e&&(a=!0)})),t||K("wdt"),a||K("wd")}var ae,ne={addShape:function(e,t){var a=e.length+G++,n=new X(a),i=[];return(i=Object.assign(i,e)).push(n),te(),ee(i,t),n},deleteShape:function(e,t,a,n){if(a||(a=window.confirm("Are you sure?")),1==a){var i=e.filter((function(e){return e.id!=t}));return ee(i,n),i}return e},getShapeById:function(e,t){return e.filter((function(e){return e.id==t}))[0]},getShapeByName:function(e,t){for(var a in e)if(e[a].getType().toString()==t)return e[a]},getTripleById:function(e,t){return e.getTriples().filter((function(e){return e.id==t}))[0]},emit:ee,addFacet:function(e){var t=e.length+J++;return new q(t)},addValueSetValue:function(e){var t=e.length+$++;return new Z(t)}},ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(E.a)(this,e),this.min=t}return Object(C.a)(e,[{key:"getCardType",value:function(){return"exactly"}},{key:"toString",value:function(){return"{"+this.min+"}"}}]),e}(),le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(E.a)(this,e),this.min=t}return Object(C.a)(e,[{key:"getCardType",value:function(){return"minLimit"}},{key:"toString",value:function(){return"{"+this.min+",*}"}}]),e}(),re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;Object(E.a)(this,e),this.min=t,this.max=a}return Object(C.a)(e,[{key:"getCardType",value:function(){return"range"}},{key:"toString",value:function(){return"{"+this.min+","+this.max+"}"}}]),e}(),se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ";Object(E.a)(this,e),this.value=t}return Object(C.a)(e,[{key:"getCardType",value:function(){return this.value}},{key:"toString",value:function(){return this.value}}]),e}(),oe=function(){function e(){Object(E.a)(this,e)}return Object(C.a)(e,[{key:"createCardinality",value:function(e,t,a){return"exactly"==e?new ie(t):"minLimit"==e?new le(t):"range"==e?new re(t,a):new se(e)}}]),e}(),ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(E.a)(this,e),this.shape=t}return Object(C.a)(e,[{key:"getShape",value:function(){return this.shape}},{key:"setShape",value:function(e){this.shape=e}},{key:"toString",value:function(){return this.shape?"@"+this.shape.getType().toString():""}}]),e}(),ue={sincronize:!0,pretty:"pretty2",saveColors:!0},de=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new N(new S("wdt","http://www.wikidata.org/prop/direct/")),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new B,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ce,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new se;Object(E.a)(this,e),this.id=t,this.type=a,this.constraint=n,this.shapeRef=i,this.facets=l,this.cardinality=r,this.factory=new H,this.cardFactory=new oe}return Object(C.a)(e,[{key:"addValue",value:function(e){this.constraints.push(e),this.constraintsCount++}},{key:"addFacet",value:function(e){this.facets.push(e)}},{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(e){this.type=this.factory.createType(e)}},{key:"setConstraint",value:function(e){this.constraint=this.factory.createType(e)}},{key:"setCardinality",value:function(e,t,a){this.cardinality=this.cardFactory.createCardinality(e,t,a)}},{key:"getShapeRef",value:function(){return this.shapeRef}},{key:"setShapeRef",value:function(e){this.shapeRef=e}},{key:"getFacets",value:function(){return this.facets}},{key:"setFacets",value:function(e){this.facets=e}},{key:"getConstraint",value:function(){return this.constraint}},{key:"getCardinality",value:function(){return this.cardinality}},{key:"toString",value:function(e){var t="",a=this.getType(),n=this.getConstraint(),i=this.getFacets(),l=this.getShapeRef(),r=this.getCardinality(),s=(e=this.checkPrettyOptions(e)).triple,o=e.constraint,c=e.ref,u=e.card;return""!=a.value&&(t+="  "+a+s,t+=this.checkFacets(),i&&i.map((function(e){t+=" "+e+" "})),""==n.value&&"pretty3"!=ue.pretty&&(o="",c+=" "),t+=o+l+c+r+u+";\n"),t}},{key:"checkPrettyOptions",value:function(e){return"none"==ue.pretty&&(e.triple=" ",e.constraint=" ",e.ref=" "),"pretty1"==ue.pretty&&(e.constraint=" ",e.ref=" "),"pretty2"==ue.pretty&&(e.constraint=" ",e.ref=e.CRef),e}},{key:"checkFacets",value:function(){var e=this.getConstraint();this.getShapeRef();return this.facets.length>0?"Primitive"!=e.getTypeName()&&"none"!=e.value?e+" ":"":e}}]),e}(),pe=["string","integer","date","boolean"];function me(e){var t,a=v.getInstance().getYashe();if(e.startsWith("<"))return t=e.split("<")[1].split(">")[0],new T(t);if(e.startsWith("_:"))return t=e.split(":")[1],new F(t);t=e.split(":")[1];var n=e.split(":")[0],i=function(e,t){var a;for(var n in e)n==t&&(a=e[n]);return a}(a.getDefinedPrefixes(),n),l=new S(n,i);return new N(l,t)}function he(e,t,a){for(var n,i,l=[],r=[],s=(new H).createType(""),o=new ce,c=0;c<t.length;c++){var u=t[c];if("string-2"!=u.type&&"variable-3"!=u.type||(n=me(u.string)),"constraint"!=u.type&&"constraintKeyword"!=u.type||(i=fe(u.string)),"valueSet"==u.type&&(u.string.startsWith("@")?w.a.signal(v.getInstance().getYashe(),"forceError","LANTAG_ERR"):l.push(new Z(l.length,be(u.string)))),"shapeRef"==u.type){var d=ve(u.string);ae.push({shapeId:a,tripleId:e,shapeRef:d})}if("facet"==u.type){var p=t[++c].string,m=r.length,h=u.string.toLowerCase();r.push(new q(m,h,p))}"cardinality"==u.type&&(s=ge(u.string)),"string-2"!=u.type&&"constraint"!=u.type&&"constraintKeyword"!=u.type&&"valueSet"!=u.type&&"shapeRef"!=u.type&&"facet"!=u.type&&"cardinality"!=u.type&&"punc"!=u.type&&"comment"!=u.type&&w.a.signal(v.getInstance().getYashe(),"forceError"),"~"==u.string&&w.a.signal(v.getInstance().getYashe(),"forceError","EXCLUSION_ERR"),"{"==u.string&&w.a.signal(v.getInstance().getYashe(),"forceError")}return l.length>0&&(i=new R(l)),new de(e,n,i,o,r,s)}function fe(e){var t=(new H).createType(e.toLowerCase());if(void 0!=t)return t;if("prefixedIri"==(t=me(e)).getTypeName()&&function(e){for(var t in pe)if(pe[t]==e)return!0;return!1}(t.value)){var a=e.split(":")[1];return new B(a)}return t}function ge(e){var t=new oe;if(1==e.length)return t.createCardinality(e);var a,n=e.split("{")[1].split("}")[0].split(","),i=n[0];n.length>1&&(a=n[1]);var l="range";return void 0==a&&(l="exactly"),""!=a&&"*"!=a||(l="minLimit"),t.createCardinality(l,i,a)}function be(e){if(!isNaN(e))return new _(e);if(e.startsWith('"'))return new z(e.substring(1,e.length-1));var t=e.toLowerCase();return"true"==t||"false"==t?new V(t):me(e)}function ve(e){return e.split("@")[1]}function ye(e){return e.filter((function(e){return"ws"!=e.type}))}var we={getTokens:function(){var e=v.getInstance().getYashe(),t=[];if(void 0!=e)for(var a=0;a<e.lineCount();++a){ye(e.getLineTokens(a)).forEach((function(e){t.push(e)}))}return t},getDefinedShapes:function(e){var t=0,a=[],n=[],i=0,l=!1;return e.forEach((function(e){"shape"==e.type?((a=[]).push(e),n[i]=a,i++):("{"==e.string&&(l=!0),l?("{"==e.string&&t++,"}"==e.string&&t--,0!=t&&a.push(e)):a.push(e))})),n},getShapes:function(e){ae=[];var t=[];return v.getInstance().getYashe(),e.forEach((function(e){var a=t.length,n=me(e[0].string),i=function(e){if(e&&"constraintKeyword"==e.type){var t=e.string.toLowerCase();return(new H).createType(t)}return new Y}(e[1]),l=function(e,t){for(var a=[],n=[],i=(v.getInstance().getYashe(),function(e){for(var t=0;t<e.length;t++)if("{"==e[t].string)return t+1}(t));i<t.length;i++)n.push(t[i]),("punc"==t[i].type&&";"==t[i].string||i==t.length-1)&&1!=n.length&&(a.push(he(a.length,n,e)),n=[]);return a}(a,e);t.push(new X(a,n,l,i))})),t},updateShapeRefs:function(e){for(var t in ae){var a=ae[t].shapeId,n=ae[t].tripleId,i=ae[t].shapeRef,l=ne.getShapeById(e,a),r=ne.getTripleById(l,n),s=ne.getShapeByName(e,i);r.shapeRef.setShape(s)}}},Ee=0;var Ce={DEFAULT_SHAPE:"PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\n\n",VALUESET_SHAPE:'PREFIX :       <http://example.org/>\nPREFIX schema: <http://schema.org/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\n\n:User IRI {\n  schema:name          [xsd:string 34 "esd" <asds> false ] ;\n}',replaceShapes:function(){var e=we.getTokens(),t=we.getDefinedShapes(e),a=we.getShapes(t);return we.updateShapeRefs(a),a},updatePrefixes:function(e){var t=v.getInstance().getYashe().getDefinedPrefixes(),a=[];return Object.keys(t).map((function(e){var n=a.length+Ee++;a.push(new S(e,t[e],n))})),a},getSchema:function(){var e=v.getInstance().getYashe();return e?e.getValue():""},debounce:function(e,t,a){var n,i;return function(){var l=this,r=arguments,s=function(){n=null,a||(i=e.apply(l,r))},o=a&&!n;return clearTimeout(n),n=setTimeout(s,t),o&&(i=e.apply(l,r)),i}}},Oe="PREFIX :       <http://example.org/>\nPREFIX schema: <http://schema.org/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\n\n:User IRI {\nschema:name          xsd:string  ;\nschema:birthDate     xsd:date?  ;\nschema:birthPlace    xsd:string+  ;\nschema:knows          @:User*  \n}\n",ke="PREFIX wd: <http://www.wikidata.org/entity/>\nPREFIX wdt:  <http://www.wikidata.org/prop/direct/>\nPREFIX p:    <http://www.wikidata.org/prop/>\nPREFIX prov:    <http://www.w3.org/ns/prov#>\nPREFIX pq:    <http://www.wikidata.org/prop/qualifier/>\nPREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\nPREFIX prv:    <http://www.wikidata.org/prop/reference/value/>\nPREFIX pr:    <http://www.wikidata.org/prop/reference/>\nPREFIX ps:    <http://www.wikidata.org/prop/statement/>\nPREFIX interpro:    <http://micel.io/genewiki/interpro/>\n\n<#wikidata-human-protein>  {\np:P703           @<#P703_found_in_taxon_human>  ;\np:P352           @<#P352_uniprot_id>+  ;\np:P527           @<#P527_has_part>*  ;\np:P637           @<#P637_RefSeq_Protein_ID>*  ;\np:P639           @<#P639_RefSeq_RNA_ID>*  ;\n}\n\n<#P703_found_in_taxon_human>  {\nps:P703          wd:Q15978631   ;\nprov:wasDerivedFrom          IRI +  ;\n}\n\n<#P352_uniprot_id>  {\nps:P352          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P527_has_part>  {\nps:P527          IRI   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P637_RefSeq_Protein_ID>  {\nps:P637          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n<#P639_RefSeq_RNA_ID>  {\nps:P637          Literal   ;\nprov:wasDerivedFrom          IRI   ;\n}\n\n";function xe(){var e=new Blob([v.getInstance().getYashe().getValue()],{type:"text/shex"}),t=document.createElement("a");t.download="document.shex",t.innerHTML="Download File",null!=window.URL?t.href=window.URL.createObjectURL(e):(t.href=window.URL.createObjectURL(e),t.style.display="none",document.body.appendChild(t)),t.click()}function je(){var e=v.getInstance().getYashe(),t="wiki";"wiki"==e.getOption("theme")?(t="dark","white",document.getElementById("downloadBtn").classList.add("light"),document.getElementById("copyBtn").classList.add("light"),document.getElementById("deleteBtn").classList.add("light"),document.getElementById("themeBtn").classList.add("light"),document.getElementById("smallBtn").classList.add("light"),document.getElementById("fullBtn").classList.add("light"),document.getElementById("uploadBntLabel").classList.add("light")):(document.getElementById("downloadBtn").classList.remove("light"),document.getElementById("copyBtn").classList.remove("light"),document.getElementById("deleteBtn").classList.remove("light"),document.getElementById("themeBtn").classList.remove("light"),document.getElementById("smallBtn").classList.remove("light"),document.getElementById("fullBtn").classList.remove("light"),document.getElementById("uploadBntLabel").classList.remove("light")),e.setOption("theme",t),w.a.signal(e,"themeChange")}function Se(){window.scrollTo(0,0)}var Ne=function(){var e=Object(n.useContext)($t);return i.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Undo",onClick:function(){v.getInstance().getYashe().undo(),setTimeout((function(){e.replaceShapes(Ce.replaceShapes())}),10)}},"undo")};var Te=function(){var e=Object(n.useContext)($t);return i.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Redo",onClick:function(){v.getInstance().getYashe().redo(),setTimeout((function(){e.replaceShapes(Ce.replaceShapes())}),10)}},"redo")},Fe=a(58);var Ie=function(){Object(n.useContext)($t);var e=function(e){!function(e){if(!(e.length>1)){var t=e[0];if(t.name.endsWith(".shex")){var a=new FileReader;a.onload=function(e){v.getInstance().getYashe().setValue(e.target.result)},a.readAsText(t),w.a.signal(v.getInstance().getYashe(),"upload")}}}(e.target.files)};return i.a.createElement("div",{className:"svgBtnCont uploadBtn"},i.a.createElement("input",Object(Fe.a)({type:"file",onChange:e,accept:".shex",name:"file-1[]",id:"file-1",className:"inputfileBtn","data-multiple-caption":"{count}'+'files selected",multiple:!0},"onChange",e)),i.a.createElement("label",{className:"svgBtn",htmlFor:"file-1",title:"Upload"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",viewBox:"0 0 20 17"},i.a.createElement("path",{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"}))))};var Be=function(){return Object(n.useContext)($t),i.a.createElement("button",{className:"svgBtnCont",type:"button",title:"Download",onClick:xe},i.a.createElement("svg",{className:"svgBtn",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",baseProfile:"tiny",viewBox:"0 0 100 100"},i.a.createElement("path",{d:"M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z"})))};var Re=function(){return Object(n.useContext)($t),i.a.createElement("button",{className:"svgBtnCont",type:"button",title:"Theme",onClick:je},i.a.createElement("svg",{className:"svgBtn",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",viewBox:"0 0 24 24"},i.a.createElement("path",{fill:"none",d:"M24 0H0v24h24V0z"}),i.a.createElement("path",{d:"M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"})))};var Pe=function(){return Object(n.useContext)($t),i.a.createElement("div",{className:"dropdown",title:"Galery"},i.a.createElement("button",{className:"dropdown-toggle   mdc-icon-button material-icons  btns selector",type:"button","data-toggle":"dropdown"},"folder_open",i.a.createElement("span",{className:"caret"})),i.a.createElement("ul",{className:"dropdown-menu"},i.a.createElement("li",null,i.a.createElement("div",{id:"prefixesDropdown"},i.a.createElement("button",{className:"form-control",onClick:function(){return function(e){var t=v.getInstance().getYashe();"default"==e?t.setValue(Oe):t.setValue(ke),setTimeout((function(){w.a.signal(t,"galery")}),10)}("default")}},"User")))))};var Le=function(){var e=Object(n.useContext)($t);return i.a.createElement("button",{className:"mdc-icon-button material-icons btns",title:"Delete all",onClick:function(){if(window.confirm("Are you sure?")){setTimeout((function(){e.replaceShapes([])}),10);var t=v.getInstance().getYashe();t.setValue(""),w.a.signal(t,"delete")}}},"delete_outline")};var Ae=function(){return Object(n.useContext)($t),i.a.createElement("button",{className:"mdc-icon-button material-icons btns",type:"button",title:"Up",onClick:Se},"arrow_upward")};a(213);var De=function(){var e=Object(n.useContext)($t);return i.a.createElement(m.a,{isOpen:e.isToolBarOpen,className:"col-xs-1 toolbarCollapse"},i.a.createElement("div",{className:"toolbar"},i.a.createElement("div",{className:"toolbarTop"},i.a.createElement(h,null),i.a.createElement(f,null),i.a.createElement(Ne,null),i.a.createElement(Te,null),i.a.createElement(Ie,null),i.a.createElement(Be,null),i.a.createElement(Re,null),i.a.createElement(Pe,null),i.a.createElement(Le,null)),i.a.createElement("div",{className:"toolbarBottom"},i.a.createElement(Ae,null))))};function ze(e){setTimeout((function(){var t=document.getElementsByClassName("xs-tabs")[0],a=document.getElementsByClassName("xs-header"),n=document.getElementsByClassName("xs-tripleHeader"),i=document.getElementsByClassName("xs-addTripleButton"),l=document.getElementsByClassName("xs-addShapeButton"),r=document.getElementsByClassName("xs-gridBox"),s=document.getElementsByClassName("xs-customConstraint"),o=document.getElementsByClassName("xs-prefixHeader"),c=document.getElementsByClassName("xs-prefixHeaderColors"),u=document.getElementsByClassName("xs-pickers"),d="xs-tabs",p="xs-header",m="xs-tripleHeader",h="xs-addTripleButton",f="xs-addShapeButton",g="xs-gridBox",b="xs-customConstraint",v="xs-prefixHeader",y="xs-prefixHeaderColors",w="xs-pickers";e>600&&(d+=" tabs",p+=" header",m+=" tripleHeader",h+=" addTripleButton",f+=" addShapeButton",g+=" gridBox",b+=" customConstraint",v+=" prefixHeader",y+=" prefixHeaderColors",w+=" pickers"),t.className=d;for(var E=0;E<a.length;E++)a[E].className=p;for(var C=0;C<n.length;C++)n[C].className=m;for(var O=0;O<i.length;O++)i[O].className=h;for(var k=0;k<l.length;k++)l[k].className=f;for(var x=0;x<r.length;x++)r[x].className=g;for(var j=0;j<s.length;j++)s[j].className=b;for(var S=0;S<o.length;S++)o[S].className=v;for(var N=0;N<c.length;N++)c[N].className=y;for(var T=0;T<u.length;T++)u[T].className=w}),0)}function _e(e){var t,a;for(a=document.getElementsByClassName("tablink"),t=0;t<a.length;t++)a[t].className=a[t].className.replace(" activeTab","");e.currentTarget.className+=" activeTab"}function Ve(e,t){var a=document.getElementsByClassName(e)[0];a&&(a.className=e+" "+t)}var He=function(e){var t=Object(n.useContext)($t),a=Object(n.useContext)(Ut),l=function(){a.setAssistOpen(!1),a.setPrefixesOpen(!1),a.setColorsOpen(!1),a.setConfigOpen(!1)};return i.a.createElement("div",{className:"xs-tabs"},i.a.createElement("button",{className:"tablink activeTab",title:"Wiki Assistant",onClick:function(e){return t=e,l(),a.setAssistOpen(!0),void _e(t);var t}},"Wiki Assistant"),i.a.createElement("button",{className:"tablink",title:"Prefixes",onClick:function(e){return t=e,l(),a.setPrefixesOpen(!0),void _e(t);var t}},"Prefixes"),i.a.createElement("button",{className:"tablink material-icons",title:"Colors",onClick:function(e){return t=e,l(),a.setColorsOpen(!0),void _e(t);var t}},"format_paint"),i.a.createElement("button",{className:"tablink material-icons",title:"Config",onClick:function(e){return t=e,l(),a.setConfigOpen(!0),void _e(t);var t}},"settings"),i.a.createElement("div",{className:"asisTitleClose"},i.a.createElement("button",{className:"closeAsisBtn",title:"Close Assistant",onClick:t.assistantToggle},"x")))},Ye=a(59),Xe="[A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_",qe="((%[0-9A-Fa-f][0-9A-Fa-f])|(\\\\[_~\\.\\-!\\$&'\\(\\)\\*\\+,;=/\\?#@%]))",Me="("+Xe+"|:|[0-9]|"+qe+")(([A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|_|-|[0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040])|\\.|:|"+qe+")*",Ue='[^<>"`|{}^\\\0- ]*',We=(a(223),a(415)),Ke={label:"#222",header:"#C6E2FF",custom:"#3d3d3d",customFill:"#79aff5",delete:"#79aff5",deleteFill:"#FFFFFF",collapse:"#222",body:"#EBF4FF",addTriple:"#EFDECD",addTripleFill:"#222",addShape:"#ddeafa",addShapeFill:"#222"},Qe={label:"#222",header:"#EFDECD",constraint:"#3d3d3d",constraintFill:"#b1e086",shapeRef:"#3d3d3d",shapeRefFill:"#f8fa95",cardinality:"#3d3d3d",cardinalityFill:"#f7adea",delete:"#f8a252",deleteFill:"#ffff",collapse:"#222",body:"#EFE8E1"},Ze={label:"#222",body:"#E8FAE4",add:"#ffff",addFill:"#222",delete:"#a1db6a",deleteFill:"#ffff"},Ge={label:"#222",body:"#f5fac8"},Je={label:"#222",body:"#fae2f8"},$e={label:"#222",header:"#fdd5d5",add:"#fdd5d5",addFill:"#222",delete:"#222",deleteFill:"#ffff",specialLabel:"#222",body:"#FDEBEB"},et=function(){function e(){var e=Object(We.a)("colors"),t=Object(o.a)(e,3),a=t[0],n=t[1],i=t[2];this.getShapeStyle=function(){return{label:{color:Ke.label},header:{background:Ke.header},custom:{color:Ke.customFill,background:Ke.custom},delete:{color:Ke.deleteFill,background:Ke.delete},collapse:{color:Ke.collapse},body:{background:Ke.body},addTriple:{color:Ke.addTripleFill,background:Ke.addTriple},addShape:{color:Ke.addShapeFill,background:Ke.addShape}}},this.getTripleStyle=function(){return{label:{color:Qe.label},header:{background:Qe.header},custom:{color:Qe.customFill,background:Qe.custom},constraint:{color:Qe.constraintFill,background:Qe.constraint},shapeRef:{color:Qe.shapeRefFill,background:Qe.shapeRef},cardinality:{color:Qe.cardinalityFill,background:Qe.cardinality},delete:{color:Qe.deleteFill,background:Qe.delete},collapse:{color:Qe.collapse},body:{background:Qe.body}}},this.getConstraintStyle=function(){return{label:{color:Ze.label},body:{background:Ze.body},add:{color:Ze.addFill,background:Ze.add},delete:{color:Ze.deleteFill,background:Ze.delete}}},this.getShapeRefStyle=function(){return{label:{color:Ge.label},body:{background:Ge.body}}},this.getCardinalityStyle=function(){return{label:{color:Je.label},body:{background:Je.body}}},this.getCardinalityStyle=function(){return{label:{color:Je.label},body:{background:Je.body}}},this.getPrefixStyle=function(){return{label:{color:$e.label},header:{background:$e.header},delete:{color:$e.deleteFill,background:$e.delete},add:{color:$e.addFill,background:$e.add},specialLabel:{color:$e.specialLabel},body:{background:$e.body}}},this.loadCookies=function(){this.loadCookie("shapeColors",Ke),this.loadCookie("tripleColors",Qe),this.loadCookie("constraintColors",Ze),this.loadCookie("shapeRefColors",Ge),this.loadCookie("cardinalityColors",Je),this.loadCookie("conf",ue)},this.loadCookie=function(e,t){var i=a[e];i?this.load(i,t):n(e,t,{path:"/"})},this.load=function(e,t){Object.keys(e).map((function(a){t[a]=e[a]}))},this.removeCookies=function(){i("shapeColors"),i("tripleColors"),i("constraintColors"),i("shapeRefColors"),i("cardinalityColors"),i("cardinalityColors"),i("conf")},this.saveDefaults=function(){this.defaultShape=Object.assign({},Ke),this.defaultTriple=Object.assign({},Qe),this.defaultConstraint=Object.assign({},Ze),this.defaultShapeRef=Object.assign({},Ge),this.defaultCardinality=Object.assign({},Je),this.defaultConfig=Object.assign({},ue)},this.restoreDefaultColors=function(){this.load(this.defaultShape,Ke),this.load(this.defaultTriple,Qe),this.load(this.defaultConstraint,Ze),this.load(this.defaultShapeRef,Ge),this.load(this.defaultCardinality,Je),this.removeCookies()},this.restoreDefaultConfig=function(){this.load(this.defaultConfig,ue),this.removeCookies()},this.saveDefaults(),this.loadCookies()}var t;return{getInstance:function(){return t||(t=new e),t}}}();var tt=function(e){var t=Object(n.useContext)($t),a=Object(n.useContext)(gt),l=!!a&&a.disabled,r=et.getInstance().getShapeStyle(),s=e.shape,c=e.collapseTriples,u=e.colapseBtn,d=Object(n.useState)(s.type.value),p=Object(o.a)(d,2),m=p[0],h=p[1],f=new RegExp("^"+Me);"iriRef"==s.type.getTypeName()&&(f=new RegExp("^"+Ue));var g=Object(n.useState)(f),b=Object(o.a)(g,2),v=b[0];return b[1],i.a.createElement("div",{className:"xs-header",style:r.header},i.a.createElement("label",{style:r.label},"Shape"),i.a.createElement(Ye.Textbox,{attributesInput:{id:"Name",name:"Name",type:"text",placeholder:"eg: User"},value:m,onChange:function(e){return function(e){s.type.setValue(e),t.emit(),h(e)}(e)},onKeyUp:function(e){return function(e){""==e.target.value?a.setDisabled(!0):a.setDisabled(!1)}(e)},validationOption:{reg:v,regMsg:"Invalid name"},title:"Shape Name"}),i.a.createElement("button",{className:"deleteShapeBtn mdc-icon-button material-icons",style:r.delete,onClick:function(){return t.deleteShape(s.id)},title:"Delete Shape"},"delete"),i.a.createElement("button",{className:"collapseBtn mdc-icon-button material-icons",style:r.collapse,onClick:c,disabled:l,title:"Triple Constraints"},u))},at=(a(88),a(147),a(61)),nt=(a(233),a(28)),it=a.n(nt),lt="https://www.wikidata.org/w/",rt={action:"wbsearchentities",language:(navigator.language||navigator.userLanguage).split("-")[0],continue:0,limit:10,format:"json"};var st=function(e){var t=Object(n.useContext)($t),a=Object(n.useContext)(gt),l=et.getInstance().getTripleStyle(),r=a.disabled,s=e.triple,c=e.deleteTriple,u=e.customizeRef,d=e.customizeContraints,p=e.customizeCardinality,m=e.collapseToggle,h=e.colapseBtn,f=Object(n.useState)([s.type.value]),g=Object(o.a)(f,2),b=g[0],v=(g[1],Object(n.useState)([])),y=Object(o.a)(v,2),w=y[0],E=y[1],C=Object(n.useState)(!1),O=Object(o.a)(C,2),k=O[0],x=O[1],j=function(e){var t=e.item;return i.a.createElement("div",{className:"hintItem"},i.a.createElement("span",null,t.id),i.a.createElement("br",null),i.a.createElement("span",null,t.label),i.a.createElement("br",null),i.a.createElement("span",null,i.a.createElement("b",null,t.descr)))};return i.a.createElement("div",{className:"xs-tripleHeader",style:l.header},i.a.createElement(at.a,{id:"InputEntityByText",isLoading:k,labelKey:"label",maxResults:10,minLength:1,renderMenuItemChildren:function(e,t){return i.a.createElement(j,{key:e.id,item:e})},onSearch:function(e){x(!0),rt.search=e,rt.type="property",it.a.get({url:lt+"api.php?"+it.a.param(rt),dataType:"jsonp"}).done((function(e){var t=[],a=e.search;a&&Object.keys(a).map((function(e){t.push({id:a[e].id,label:a[e].label,descr:a[e].description})})),E(t),x(!1)}))},onChange:function(e){!function(e){e.length>0&&(s.type.setValue(e[0].id),t.emit())}(e)},defaultSelected:b,options:w}),i.a.createElement("button",{className:"tripleBtns buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons",style:l.constraint,onClick:d,disabled:r,title:"Customize Constraint"},"build"),i.a.createElement("button",{className:"tripleBtns buildInlineRef buildBtn buildTripleBtn mdc-icon-button material-icons",style:l.shapeRef,onClick:u,disabled:r,title:"Customize Shape Reference"},"build"),i.a.createElement("button",{className:"tripleBtns buildCardinality buildBtn buildTripleBtn mdc-icon-button material-icons",style:l.cardinality,onClick:p,disabled:r,title:"Customize Cardinality"},"build"),i.a.createElement("button",{className:"tripleBtns deleteTripleBtn mdc-icon-button material-icons",style:l.delete,onClick:function(){return c(s.id)},disabled:r,title:"Delete Triple Constraint"},"delete"),i.a.createElement("button",{className:"collapseBtn mdc-icon-button material-icons",style:l.collapse,onClick:m,disabled:r,title:"Customize all"},h))},ot="https://www.wikidata.org/w/",ct={action:"wbsearchentities",language:(navigator.language||navigator.userLanguage).split("-")[0],continue:0,limit:10,format:"json"};var ut=function(e){var t=Object(n.useContext)($t),a=e.triple,l=et.getInstance().getConstraintStyle(),r="none"==a.constraint.value?"":a.constraint.value,s=Object(n.useState)([r]),c=Object(o.a)(s,2),u=c[0],d=c[1],p=Object(n.useState)([]),m=Object(o.a)(p,2),h=m[0],f=m[1],g=Object(n.useState)(!1),b=Object(o.a)(g,2),v=b[0],y=b[1],w=function(e){var t=e.item;return i.a.createElement("div",{className:"hintItem"},i.a.createElement("span",null,t.id),i.a.createElement("br",null),i.a.createElement("span",null,t.label),i.a.createElement("br",null),i.a.createElement("span",null,i.a.createElement("b",null,t.descr)))};return function(e){"none"==e&&null!=a.shapeRef.shape&&(d(""),a.setConstraint("blankType"))}(u),i.a.createElement("div",{className:"xs-gridBox",style:l.body},i.a.createElement("label",{className:"gridLabel",style:l.label},"Constraint"),i.a.createElement(at.a,{id:"InputEntityByText",isLoading:v,labelKey:"label",maxResults:10,minLength:1,renderMenuItemChildren:function(e,t){return i.a.createElement(w,{key:e.id,item:e})},onSearch:function(e){y(!0),ct.search=e,it.a.get({url:ot+"api.php?"+it.a.param(ct),dataType:"jsonp"}).done((function(e){var t=[],a=e.search;a&&Object.keys(a).map((function(e){t.push({id:a[e].id,label:a[e].label,descr:a[e].description})})),f(t),y(!1)}))},onChange:function(e){!function(e){e.length>0&&(a.setConstraint("prefixedIri"),a.constraint.prefix=new S("wd","http://www.wikidata.org/entity/"),a.constraint.setValue(e[0].id),t.emit())}(e)},defaultSelected:u,options:h}))};var dt=function(e){var t=e.triple,a=Object(n.useContext)($t),l=et.getInstance().getShapeRefStyle(),r="";null!=t.shapeRef.shape&&(r=t.shapeRef.shape.id);var s=Object(n.useState)(r),c=Object(o.a)(s,2),u=c[0],d=c[1];return i.a.createElement("div",{className:"xs-gridBox",style:l.body},i.a.createElement("label",{className:"customLabel",style:l.label},"Shape ",i.a.createElement("br",null),i.a.createElement("span",null,"Reference")),i.a.createElement("select",{className:"shapeRefSelector",value:u,onChange:function(e){var n=e.target.value,i=null,l="";""!=n&&(l=(i=ne.getShapeById(a.shapes,n)).id),t.getShapeRef().setShape(i),"none"==t.constraint.value&&t.setConstraint("blankType"),""==n&&"blankType"==t.constraint.getTypeName()&&(t.setConstraint("primitive"),t.constraint.setValue("none")),a.emit(),d(l)}},i.a.createElement("option",{value:""},"none"),a.shapes.map((function(e){return i.a.createElement("option",{key:e.id,value:e.id},"@"+e.type)}))))},pt=a(65),mt=a.n(pt);var ht=function(e){var t=e.triple,a=Object(n.useContext)($t),l=et.getInstance().getCardinalityStyle(),r=t.cardinality.getCardType(),s=!1,c=!1,u=1,d=10;r.length>1&&(u=t.cardinality.min,"exactly"!=r&&"minLimit"!=r||(s=!0),"range"==r&&(c=!0,d=t.cardinality.max));var p=Object(n.useState)(r),h=Object(o.a)(p,2),f=h[0],g=h[1],b=Object(n.useState)(s),v=Object(o.a)(b,2),y=v[0],w=v[1],E=Object(n.useState)(c),C=Object(o.a)(E,2),O=C[0],k=C[1],x=Object(n.useState)(u),j=Object(o.a)(x,2),S=j[0],N=j[1],T=Object(n.useState)(d),F=Object(o.a)(T,2),I=F[0],B=F[1],R=function(e){"exactly"!=e&&"minLimit"!=e||(N(1),w(!0)),"range"==e&&(N(1),B(10),k(!0))},P=function(e,n){t.setCardinality(n,e,I),a.emit(),N(e)};return i.a.createElement("div",{className:" xs-gridBox",style:l.body},i.a.createElement("label",{className:"gridLabel",style:l.label},"Cardinality"),i.a.createElement("select",{className:"customSelector",value:f,onChange:function(e){var n=e.target.value;t.setCardinality(n),a.emit(),g(n),w(!1),k(!1),R(n)},title:"Cardinality"},i.a.createElement("option",{value:""},"Exactly one"),i.a.createElement("option",{value:"*"},"Zero or more"),i.a.createElement("option",{value:"+"},"One at least"),i.a.createElement("option",{value:"?"},"One or none"),i.a.createElement("option",{value:"exactly"},"Exactly value"),i.a.createElement("option",{value:"minLimit"},"Inferior Limit"),i.a.createElement("option",{value:"range"},"Range")),i.a.createElement(m.a,{isOpen:y,className:"rangeCardinality"},i.a.createElement("label",{className:"tripleNameLabel",style:l.label},"Value"),i.a.createElement(mt.a,{className:"form-control",min:0,value:S,onChange:function(e){P(e,f)}})),i.a.createElement(m.a,{isOpen:O,className:"rangeCardinality"},i.a.createElement("label",{className:"tripleNameLabel",style:l.label},"Min"),i.a.createElement(mt.a,{className:"form-control",min:0,value:S,onChange:function(e){P(e,"range")}}),i.a.createElement("label",{className:"tripleNameLabel",style:l.label},"Max"),i.a.createElement(mt.a,{className:"form-control",min:0,value:I,onChange:function(e){t.setCardinality("range",S,e),a.emit(),B(e)}})))};var ft=function(e){e.shape;var t=e.triple,a=e.deleteTriple,l=Object(n.useState)(!1),r=Object(o.a)(l,2),s=r[0],c=r[1],u=Object(n.useState)(!1),d=Object(o.a)(u,2),p=d[0],h=d[1],f=Object(n.useState)(!1),g=Object(o.a)(f,2),b=g[0],v=g[1],y=Object(n.useState)(!1),w=Object(o.a)(y,2),E=w[0],C=w[1],O=Object(n.useState)("menu"),k=Object(o.a)(O,2),x=k[0],j=k[1],S=function(e){c(e),h(e),v(e)},N=function(){j("menu"==x?"menu_open":"menu")};return i.a.createElement("div",null,i.a.createElement(st,{triple:t,deleteTriple:a,customizeContraints:function(){S(!1),c(!s),C(!1),E&&(c(!0),N())},customizeRef:function(){S(!1),h(!p),C(!1),E&&(h(!0),N())},customizeCardinality:function(){S(!1),v(!b),C(!1),E&&(v(!0),N())},collapseToggle:function(){S(!E),C(!E),N()},colapseBtn:x}),i.a.createElement(m.a,{isOpen:s},i.a.createElement(ut,{triple:t})),i.a.createElement(m.a,{isOpen:p},i.a.createElement(dt,{triple:t})),i.a.createElement(m.a,{isOpen:b},i.a.createElement(ht,{triple:t})))},gt=i.a.createContext();var bt=function(e){var t=Object(n.useContext)($t),a=e.shape,l=et.getInstance().getShapeStyle(),r=Object(n.useState)(a.triples),c=Object(o.a)(r,2),u=c[0],d=c[1],p=Object(n.useState)(!0),h=Object(o.a)(p,2),f=h[0],g=h[1],b=Object(n.useState)("menu_open"),v=Object(o.a)(b,2),y=v[0],w=v[1],E=!1;""==a.type.value&&(E=!0);var C=Object(n.useState)(E),O=Object(o.a)(C,2),k=O[0],x=O[1],j=function(e){var n=a.triples.filter((function(t){return t.id!=e}));d(n),a.setTriples(n),t.emit()};return i.a.createElement(gt.Provider,{value:{disabled:k,setDisabled:x}},i.a.createElement("div",{className:"shape",style:l.header},i.a.createElement(tt,{shape:a,collapseTriples:function(){g(!f),w("menu"==y?"menu_open":"menu")},colapseBtn:y}),i.a.createElement(m.a,{isOpen:f},i.a.createElement("div",{className:"triples",style:l.body},u.map((function(e){return i.a.createElement(ft,{key:e.id,shape:a,triple:e,deleteTriple:j})})),i.a.createElement("button",{className:"xs-addTripleButton",style:l.addTriple,onClick:function(){var e=a.getTriplesCount(),n=new de(e);d([].concat(Object(s.a)(u),[n])),a.addTriple(n),t.emit()},disabled:k,title:"Add Triple"},"+ Triple Constraint")))))};var vt=function(e){var t=Object(n.useContext)($t),a=et.getInstance().getShapeStyle();return i.a.createElement("div",{className:"showAsist"},t.shapes.map((function(e){return i.a.createElement(bt,{shape:e,key:e.id})})),i.a.createElement("div",{className:"addCont"},i.a.createElement("button",{className:"xs-addShapeButton",style:a.addShape,onClick:t.addShape,title:"Add Shape"},"+ Shape")))};var yt=function(e){return Object(n.useContext)($t),i.a.createElement("div",{className:"hideLoader"},i.a.createElement("div",{className:"loader"}))};a(234);var wt=function(e){return Object(n.useContext)($t),i.a.createElement("div",{className:"infoAssist"},i.a.createElement("div",{className:"hideError"},i.a.createElement("div",{className:"shapeErrorCont"},i.a.createElement("div",{className:"shapeError"}),i.a.createElement("p",{className:"errorMsg"}))),i.a.createElement("div",{className:"hideConvert"},i.a.createElement("a",{className:"button"},i.a.createElement("span",{onClick:function(){var e=v.getInstance().getYashe();w.a.signal(e,"convert")}},"Convert"))))};var Et=function(e){var t=Object(n.useContext)($t),a=e.prefix,l=et.getInstance().getPrefixStyle(),r=Object(n.useState)(a.prefixName),s=Object(o.a)(r,2),c=s[0],u=s[1],d=Object(n.useState)(a.prefixValue),p=Object(o.a)(d,2),m=p[0],h=p[1];return i.a.createElement("div",{className:"xs-prefixHeader",style:l.header},i.a.createElement("input",{type:"text",className:"prefixName prefixInput",placeholder:"eg: schema",value:c,onChange:function(e){return function(e,a){a.prefixName=e.target.value,u(e.target.value),t.emitPref()}(e,a)},title:"Alias"}),i.a.createElement("label",{className:"prefixLabel",style:l.label},":"),i.a.createElement("label",{className:"prefixLabel",style:l.label},"<"),i.a.createElement("input",{type:"text",className:"prefixInput",value:m,placeholder:"eg: http://schema.org/",onChange:function(e){return function(e,a){a.prefixValue=e.target.value,h(e.target.value),t.emitPref()}(e,a)},title:"IRI"}),i.a.createElement("label",{className:"prefixLabel",style:l.label},">"),i.a.createElement("button",{className:"deletePrefix mdc-icon-button material-icons",style:l.delete,onClick:function(){return t.deletePrefix(a.id)},title:"Delete Prefix"},"delete"))};a(235);var Ct=function(e){var t=Object(n.useContext)($t),a=et.getInstance().getPrefixStyle();return i.a.createElement("div",null,t.prefixes.map((function(e){return i.a.createElement(Et,{key:e.id,prefix:e})})),i.a.createElement("div",{className:"addCont"},i.a.createElement("button",{className:"addPrefixBtn",style:a.add,onClick:t.addPrefix,title:"Add Prefix"},"+ Prefix")))};var Ot=function(e){e.colors;var t=et.getInstance().getShapeStyle();return i.a.createElement("div",{className:"xs-header",style:t.header},i.a.createElement("label",{style:t.label},"Shape"),i.a.createElement(Ye.Textbox,null),i.a.createElement("button",{style:t.custom,className:"buildBtn mdc-icon-button material-icons"},"build"),i.a.createElement("button",{style:t.delete,className:"deleteShapeBtn mdc-icon-button material-icons"},"delete"),i.a.createElement("button",{style:t.collapse,className:"collapseBtn mdc-icon-button material-icons"},"menu"))};var kt=function(e){var t=et.getInstance().getTripleStyle();return i.a.createElement("div",{className:"xs-tripleHeader",style:t.header},i.a.createElement("input",{type:"text",className:"name",placeholder:"eg: name",title:"Triple Constraint Name"}),i.a.createElement("button",{className:"tripleBtns buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.constraint,title:"Customize Constraint"},"build"),i.a.createElement("button",{className:"tripleBtns buildInlineRef buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.shapeRef,title:"Customize Shape Reference"},"build"),i.a.createElement("button",{className:"tripleBtns buildCardinality buildBtn buildTripleBtn mdc-icon-button material-icons",style:t.cardinality,title:"Customize Cardinality"},"build"),i.a.createElement("button",{className:"tripleBtns deleteTripleBtn mdc-icon-button material-icons",style:t.delete,title:"Delete Triple Constraint"},"delete"),i.a.createElement("button",{className:"collapseBtn mdc-icon-button material-icons",style:t.collapse,title:"Customize all"},"menu"))},xt=(a(109),a(110),a(151)),jt=a(8),St=a.n(jt);var Nt=function(e){Object(n.useContext)($t);var t=Object(n.useContext)(Ut),a=e.namespace,l=e.element,r=e.cookie,s=Object(n.useState)(a[l]),c=Object(o.a)(s,2),u=c[0],d=c[1],p=Object(n.useState)(!1),m=Object(o.a)(p,2),h=m[0],f=m[1],g=Object(We.a)("cookies"),b=Object(o.a)(g,2),v=(b[0],b[1]),y=function(){},w=St()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:u},swatch:{padding:"3px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",transform:"translateX(-80%)",zIndex:"5000"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return i.a.createElement("div",null,i.a.createElement("div",{style:w.swatch,onClick:function(){f(!h)}},i.a.createElement("div",{style:w.color})),h?i.a.createElement("div",{style:w.popover},i.a.createElement("div",{style:w.cover,onClick:y}),i.a.createElement(xt.ChromePicker,{color:u,onChange:function(e){d(e.hex),t.handleChange(e.hex,l,a),ue.saveColors&&v(r,a,{path:"/"})},onChangeComplete:y})):null)};var Tt=function(e){Object(n.useContext)($t);var t=e.namespace,a=e.pickers,l=e.labelType,r=e.bodyType,s=e.cookie;return i.a.createElement("div",{className:"customColapse",style:r},i.a.createElement("div",{style:r},i.a.createElement("div",{className:"xs-pickers"},a.map((function(e){return i.a.createElement("div",{className:"picker",key:e.element},i.a.createElement("label",{style:l},e.tag),i.a.createElement(Nt,{namespace:t,element:e.element,cookie:s}))})))))},Ft=[{tag:"Labels",element:"label"},{tag:"Header",element:"header"},{tag:"Custom",element:"custom"},{tag:"Custom Fill",element:"customFill"},{tag:"Delete",element:"delete"},{tag:"Delete Fill",element:"deleteFill"},{tag:"Collapse",element:"collapse"},{tag:"Shape Body",element:"body"}],It=[{tag:"Labels",element:"label"},{tag:"Header",element:"header"},{tag:"Custom",element:"custom"},{tag:"Custom Fill",element:"customFill"},{tag:"Constraint",element:"constraint"},{tag:"Constraint Fill",element:"constraintFill"},{tag:"Shape Ref",element:"shapeRef"},{tag:"Shape Ref Fill",element:"shapeRefFill"},{tag:"Cardinality",element:"cardinality"},{tag:"Cardinality Fill",element:"cardinalityFill"},{tag:"Delete",element:"delete"},{tag:"Delete Fill",element:"deleteFill"},{tag:"Collapse",element:"collapse"},{tag:"Triple Body",element:"body"}],Bt=[{tag:"Labels",element:"label"},{tag:"Constraint Body",element:"body"},{tag:"Add Value",element:"add"},{tag:"Add Value Fill",element:"addFill"},{tag:"Delete Value",element:"delete"}],Rt=[{tag:"Labels",element:"label"},{tag:"Shape Ref Body",element:"body"}],Pt=[{tag:"Labels",element:"label"},{tag:"Cardinality Body",element:"body"}],Lt=[{tag:"Add Triple Constraint",element:"addTriple"},{tag:"Add Triple Constraint Fill",element:"addTripleFill"},{tag:"Add Shape",element:"addShape"},{tag:"Add Shape Fill",element:"addShapeFill"}],At=[{tag:"Labels",element:"label"},{tag:"Header",element:"header"},{tag:"Delete",element:"delete"},{tag:"Delete Fill",element:"deleteFill"},{tag:"Add Prefix",element:"add"},{tag:"Add Prefix Fill",element:"addFill"}];var Dt=function(e){var t=et.getInstance().getShapeStyle(),a=et.getInstance().getTripleStyle(),n=et.getInstance().getConstraintStyle(),l=et.getInstance().getShapeRefStyle(),r=et.getInstance().getCardinalityStyle();return i.a.createElement("div",null,i.a.createElement("div",{className:"shape",style:t.header},i.a.createElement(Ot,null),i.a.createElement(kt,null),i.a.createElement(Tt,{namespace:Ke,pickers:Ft,labelType:t.label,bodyType:t.body,cookie:"shapeColors"}),i.a.createElement(Tt,{namespace:Qe,pickers:It,labelType:a.label,bodyType:a.body,cookie:"tripleColors"}),i.a.createElement(Tt,{namespace:Ze,pickers:Bt,labelType:n.label,bodyType:n.body,cookie:"constraintColors"}),i.a.createElement(Tt,{namespace:Ge,pickers:Rt,labelType:l.label,bodyType:l.body,cookie:"shapeRefColors"}),i.a.createElement(Tt,{namespace:Je,pickers:Pt,labelType:r.label,bodyType:r.body,cookie:"cardinalityColors"}),i.a.createElement(Tt,{namespace:Ke,pickers:Lt,labelType:t.label,bodyType:t.body,cookie:"constraintColors"}),i.a.createElement("div",{className:"triples",style:t.body},i.a.createElement("button",{className:"xs-addTripleButton",style:t.addTriple,title:"Add Triple"},"+ Triple Constraint"))),i.a.createElement("div",{className:"addCont"},i.a.createElement("button",{className:"xs-addShapeButton",style:t.addShape,title:"Add Shape"},"+ Shape")))};var zt=function(e){e.colors;var t=et.getInstance().getPrefixStyle();return i.a.createElement("div",{className:"xs-prefixHeaderColors",style:t.header},i.a.createElement("input",{type:"text",className:"prefixName prefixInput",placeholder:"eg: schema",title:"Alias"}),i.a.createElement("label",{className:"prefixLabel",style:t.label},":"),i.a.createElement("label",{className:"prefixLabel",style:t.label},"<"),i.a.createElement("input",{type:"text",className:"prefixInput",placeholder:"eg: http://schema.org/",title:"IRI"}),i.a.createElement("label",{className:"prefixLabel",style:t.label},">"),i.a.createElement("button",{className:"deletePrefix mdc-icon-button material-icons",style:t.delete,title:"Delete Prefix"},"delete"))};var _t=function(e){var t=et.getInstance().getPrefixStyle();return i.a.createElement("div",{className:"prefixColorContainer",style:t.body},i.a.createElement(zt,null),i.a.createElement(Tt,{namespace:$e,pickers:At,labelType:t.specialLabel,bodyType:t.body}),i.a.createElement("div",{className:"addCont"},i.a.createElement("button",{className:"addPrefixBtn",style:t.add,title:"Add Prefix"},"+ Prefix")))};var Vt=function(e){return i.a.createElement("div",null,i.a.createElement(Dt,null),i.a.createElement("br",null),i.a.createElement(_t,null))},Ht=a(91),Yt=a.n(Ht);a(401),a(402);var Xt=function(e){var t=Object(n.useContext)($t),a=Object(n.useState)(ue.sincronize),l=Object(o.a)(a,2),r=l[0],s=l[1],c=Object(n.useState)(ue.pretty),u=Object(o.a)(c,2),d=u[0],p=u[1],m=Object(n.useState)(ue.saveColors),h=Object(o.a)(m,2),f=h[0],g=h[1],b=Object(We.a)("cookies"),y=Object(o.a)(b,2),E=(y[0],y[1]);return i.a.createElement("div",null,i.a.createElement("div",{className:"option"},i.a.createElement("span",null,"Sincronize Editor"),i.a.createElement("div",{className:"togleContainer"},i.a.createElement(Yt.a,{checked:r,icons:!1,onChange:function(e){s(!r),ue.sincronize=!r,E("conf",ue,{path:"/"});var t=v.getInstance().getYashe();w.a.signal(t,"sinc",!r)}}))),i.a.createElement("div",{className:"option"},i.a.createElement("span",null,"Save Color Preferences"),i.a.createElement("div",{className:"togleContainer"},i.a.createElement(Yt.a,{checked:f,icons:!1,onChange:function(){ue.saveColors=!f,E("conf",ue,{path:"/"}),g(!f)}}))),i.a.createElement("div",{className:"option"},i.a.createElement("span",null,"Pretty Print"),i.a.createElement("div",{className:"togleContainer"},i.a.createElement("select",{className:"customPretty",value:d,onChange:function(e){var a=e.target.value;ue.pretty=a,p(a),E("conf",ue,{path:"/"}),t.emit()}},i.a.createElement("option",{value:"none"},"None"),i.a.createElement("option",{value:"pretty1"},"Pretty1"),i.a.createElement("option",{value:"pretty2"},"Pretty2"),i.a.createElement("option",{value:"pretty3"},"Pretty3")))),i.a.createElement("div",{className:"option"},i.a.createElement("span",null,"Restore Default Colors"),i.a.createElement("div",{className:"togleContainer"},i.a.createElement("button",{className:"aplyBtn",onClick:function(){window.confirm("Are you sure?")&&et.getInstance().restoreDefaultColors()}},"Apply"))),i.a.createElement("div",{className:"option"},i.a.createElement("span",null,"Restore Default Config"),i.a.createElement("div",{className:"togleContainer"},i.a.createElement("button",{className:"aplyBtn",onClick:function(){window.confirm("Are you sure?")&&(et.getInstance().restoreDefaultConfig(),s(ue.sincronize),g(ue.saveColors),p(ue.pretty))}},"Apply"))))};var qt=function(e){var t=Object(n.useContext)(Ut);return i.a.createElement("div",null,i.a.createElement("div",{id:"assistant-container",className:"assistantContainer"},i.a.createElement(m.a,{isOpen:t.isAssistOpen},i.a.createElement(vt,null),i.a.createElement(yt,null),i.a.createElement(wt,null)),i.a.createElement(m.a,{isOpen:t.isPrefixesOpen},i.a.createElement(Ct,null)),i.a.createElement(m.a,{isOpen:t.isColorsOpen},i.a.createElement(Vt,null)),i.a.createElement(m.a,{isOpen:t.isConfigOpen},i.a.createElement(Xt,null))))},Mt=a(152),Ut=(a(406),a(407),i.a.createContext());var Wt=function(e){var t=Object(n.useContext)($t),a=Object(n.useState)(!0),l=Object(o.a)(a,2),r=l[0],s=l[1],c=Object(n.useState)(!1),u=Object(o.a)(c,2),d=u[0],p=u[1],h=Object(n.useState)(!1),f=Object(o.a)(h,2),g=f[0],b=f[1],v=Object(n.useState)(!1),y=Object(o.a)(v,2),w=y[0],E=y[1],C=Object(n.useState)("#fffff"),O=Object(o.a)(C,2),k=(O[0],O[1]);return i.a.createElement(Ut.Provider,{value:{isAssistOpen:r,isPrefixesOpen:d,isColorsOpen:g,isConfigOpen:w,setAssistOpen:s,setPrefixesOpen:p,setColorsOpen:b,setConfigOpen:E,handleChange:function(e,t,a){k(e),a[t]=e}}},i.a.createElement(m.a,{isOpen:t.isAssistantOpen,className:"assistCollapse"},i.a.createElement(Mt.ResizableBox,{width:t.width,height:100,onResize:function(e,a){return t.handleResize(e,a)},resizeHandles:["e"],minConstraints:[470,100],maxConstraints:[1e3,1e3]},i.a.createElement("div",{className:"containerAssist"},i.a.createElement(He,null),i.a.createElement(qt,null)))))},Kt=(a(408),a(409),a(410),a(411),"Ops... There are some errors in the editor"),Qt="Sorry that Shape is too complex for me";var Zt=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],l=t[1],r=Object(n.useRef)(null),s=Object(n.useContext)($t),c=[],u=!1,d=[new S("wd","http://www.wikidata.org/entity/",0),new S("wdt","http://www.wikidata.org/prop/direct/",1)];Object(n.useEffect)((function(){if(!a){var e={persistent:!1,lineNumbers:!0,showTooltip:!0,theme:"author-dark",value:Ce.DEFAULT_SHAPE},t=b()(r.current,e);t.on("humanEvent",(function(e,t){v.getInstance().draw(e),u=!1,c=e;var a={size:{width:t}};s.handleResize(null,a)})),t.on("convert",(function(){t.hasErrors(t)?(x(),j(),E(),setTimeout((function(){C(),k(),O(Kt)}),500)):(x(),g())})),t.on("sinc",(function(e){e?(t._handlers.focus=null,j(),u&&O(Qt),t.hasErrors(t)&&O(Kt),t.on("keyup",Ce.debounce((function(e){if(t.hasErrors(t))O(Kt);else{x();var a=p();c.length==a.length?a.toString()!=c.toString()&&(u=!1,c=h(a)):g()}}),500)),t.on("keyHandled",(function(){t.hasErrors()||(u=!1,c=h(p()),f(m()))}))):(t._handlers.keyup=null,t._handlers.keyHandled=null,t.hasErrors(t)&&k(),u&&k(),t.on("focus",(function(){k()})))})),t.on("prefixChange",(function(e,t){v.getInstance().draw(c,e);var a={size:{width:t}};s.handleResize(null,a)})),t.on("forceError",(function(e){u=!0,x(),E(),setTimeout((function(){C(),O(Qt),ue.sincronize||k()}),500)})),t.on("delete",(function(){u=!1,c=h(p()),f(d)})),t.on("upload",(function(){t.hasErrors()||(g(),f(m()))})),t.on("galery",(function(){t.hasErrors()||(g(),f(m()))})),t.refresh(),l(t),v.getInstance().setYashe(t),c=h(p()),f(d),w.a.signal(v.getInstance().getYashe(),"sinc",ue.sincronize)}}),[a]);var p=function(){return Ce.replaceShapes()},m=function(){return Ce.updatePrefixes()},h=function(e){return s.replaceShapes(e),e},f=function(e){return s.replacePrefixes(e),e},g=function(){j(),E(),setTimeout((function(){u=!1,c=h(p()),C()}),500)},y=function(e,t,a,n){var i=document.getElementsByClassName(e)[0];i&&(i.className=t);var l=document.getElementsByClassName(a)[0];l&&(l.className=n)},E=function(){y("showAsist","hideAsist","hideLoader","showLoader")},C=function(){y("showLoader","hideLoader","hideAsist","showAsist")},O=function(e){y("hideError","showError","showAsist","hideAsist"),document.getElementsByClassName("errorMsg")[0].textContent=e},k=function(e){y("hideConvert","showConvert","showAsist","hideAsist")},x=function(){y("showError","hideError","hideAsist","showAsist")},j=function(){y("showConvert","hideConvert","hideAsist","showAsist")};return i.a.createElement("div",{className:"col edit",ref:r})};var Gt=function(){return i.a.createElement("div",{className:"globalContainer"},i.a.createElement("div",{className:"row comps"},i.a.createElement(De,null),i.a.createElement(Wt,null),i.a.createElement(Zt,null)))};var Jt=function(e){var t=e.svg,a=e.isVisualizeOpen;return i.a.createElement(m.a,{isOpen:a},i.a.createElement("div",{className:"visualize"},i.a.createElement("div",{className:"umlContainer"},i.a.createElement("div",{className:"uml",dangerouslySetInnerHTML:{__html:t}}))))},$t=(a(412),i.a.createContext());var ea=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)([]),c=Object(o.a)(r,2),m=c[0],h=c[1],f=Object(n.useState)(""),g=Object(o.a)(f,2),b=g[0],v=g[1],y=Object(n.useState)(!0),w=Object(o.a)(y,2),E=w[0],C=w[1],O=Object(n.useState)(!0),k=Object(o.a)(O,2),x=k[0],j=k[1],S=Object(n.useState)(!0),N=Object(o.a)(S,2),T=N[0],F=N[1],I=Object(n.useState)(470),B=Object(o.a)(I,2),R=B[0],P=B[1],L=function(){var e=new FormData;e.set("schema",Ce.getSchema()),e.set("schemaFormat","ShExC"),e.set("schemaEngine","SHEX"),u()({method:"post",url:"http://rdfshape.weso.es:8080/api/schema/visualize",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){void 0!=e.data.svg&&(e.data.svg.startsWith("<?xml")?v(e.data.svg):v(null))})).catch((function(e){console.log(e)}))};return Object(n.useEffect)((function(){ze(R)})),i.a.createElement(d.a,null,i.a.createElement($t.Provider,{value:{shapes:a,addShape:function(){var e=ne.addShape(a,R);l([].concat(Object(s.a)(a),[e])),function(e){var t=e.type.value,a=(e.type.getTypeName(),e.id);setTimeout((function(){if(""==t)return Ve("addTriple"+a,"disabled");Ve("addTriple"+a,"addTripleButton")}),0)}(e),L()},deleteShape:function(e){l(ne.deleteShape(a,e,!1,R)),L()},addPrefix:function(){h([].concat(Object(s.a)(m),[W(m,R)]))},deletePrefix:function(e){h(function(e,t,a){var n=e.filter((function(e){return e.id!=t}));return Q(n,a),n}(m,e,R))},replaceShapes:function(e){l([]),l(e),L()},replacePrefixes:function(e){h([]),h(e)},prefixes:m,emit:function(){ne.emit(a,R),L()},emitPref:function(){Q(m,R),L()},visualize:L,isToolBarOpen:x,isAssistantOpen:E,isVisualizeOpen:T,assistantToggle:function(){return C(!E)},visualizeToggle:function(){return F(!T)},handleResize:function(e,t){P(t.size.width),ze(t.size.width)},width:R}},i.a.createElement(p,{colapseAll:function(){C(!x),F(!x),j(!x)}}),i.a.createElement(Gt,null),i.a.createElement(Jt,{svg:b,isVisualizeOpen:T})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(ea,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[153,1,2]]]);
//# sourceMappingURL=main.6e44d9b7.chunk.js.map