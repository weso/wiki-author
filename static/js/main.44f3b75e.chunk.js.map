{"version":3,"sources":["components/Nav.js","components/mainComps/toolbar/AssistBtn.js","components/mainComps/toolbar/VisualizeBtn.js","entities/editor.js","entities/shexEntities/types/type.js","entities/shexEntities/shexUtils/prefix.js","entities/shexEntities/types/concreteTypes/prefixedIri.js","entities/shexEntities/types/concreteTypes/iriRef.js","entities/shexEntities/types/concreteTypes/bNode.js","entities/shexEntities/types/concreteTypes/blankType.js","entities/shexEntities/types/concreteTypes/primitive.js","entities/shexEntities/types/concreteTypes/valueSet.js","entities/shexEntities/types/concreteTypes/kinds/literal.js","entities/shexEntities/types/concreteTypes/kinds/nonLiteral.js","entities/shexEntities/types/concreteTypes/kinds/iriKind.js","entities/shexEntities/types/concreteTypes/kinds/bNodeKind.js","entities/shexEntities/types/concreteTypes/literal/stringLiteral.js","entities/shexEntities/types/concreteTypes/literal/numberLiteral.js","entities/shexEntities/types/concreteTypes/literal/booleanLiteral.js","entities/shexEntities/types/typesFactory.js","entities/shexEntities/types/concreteTypes/kinds/blankKind.js","entities/shexEntities/shape.js","entities/shexEntities/shexUtils/facet.js","utils/rdfUtils.js","utils/prefixUtils.js","entities/shexEntities/shexUtils/valueSetValue.js","utils/shexUtils.js","utils/tokenUtils.js","entities/shexEntities/shexUtils/cardinality/cardinalityExactly.js","entities/shexEntities/shexUtils/cardinality/cardinalityMinLimit.js","entities/shexEntities/shexUtils/cardinality/cardinalityRange.js","entities/shexEntities/shexUtils/cardinality/cardinalitySimple.js","entities/shexEntities/shexUtils/cardinality/cardinalityFactory.js","entities/shexEntities/shexUtils/shapeRef.js","conf/config.js","entities/shexEntities/triple.js","utils/yasheUtils.js","utils/toolbarUtils.js","components/mainComps/toolbar/UndoBtn.js","components/mainComps/toolbar/RedoBtn.js","components/mainComps/toolbar/UploadBtn.js","components/mainComps/toolbar/DownloadBtn.js","components/mainComps/toolbar/ChangeThemeBtn.js","components/mainComps/toolbar/GaleryBtn.js","shapes/defaultExample.js","shapes/wikiExample.js","components/mainComps/toolbar/DeleteAllBtn.js","components/mainComps/toolbar/ScrollBtn.js","components/mainComps/Toolbar.js","utils/cssUtils.js","components/mainComps/assistant/AssistNav.js","conf/colors.js","conf/properties.js","components/mainComps/assistant/tabs/shEx/headers/ShapeHeader.js","components/mainComps/assistant/tabs/shEx/headers/TripleHeader.js","components/mainComps/assistant/tabs/shEx/customize/const/SingleConstraint.js","components/mainComps/assistant/tabs/shEx/customize/const/MultiConstraint.js","components/mainComps/assistant/tabs/shEx/customize/ConstraintCont.js","components/mainComps/assistant/tabs/shEx/customize/CardinalityComp.js","components/mainComps/assistant/tabs/shEx/TripleComponent.js","components/mainComps/assistant/tabs/shEx/ShapeComponent.js","components/mainComps/assistant/tabs/Shapes.js","components/mainComps/assistant/AssistLoader.js","components/mainComps/assistant/AssistError.js","components/mainComps/assistant/tabs/prefix/PrefixComp.js","components/mainComps/assistant/tabs/Prefixes.js","components/mainComps/assistant/tabs/color/views/ShapeView.js","components/mainComps/assistant/tabs/color/views/TripleView.js","components/mainComps/assistant/tabs/color/utils/ColorPicker.js","components/mainComps/assistant/tabs/color/utils/ColorComp.js","conf/pickers.js","components/mainComps/assistant/tabs/color/ShapeColors.js","components/mainComps/assistant/tabs/color/views/PrefixView.js","components/mainComps/assistant/tabs/color/PrefixColors.js","components/mainComps/assistant/tabs/Colors.js","components/mainComps/assistant/tabs/Config.js","components/mainComps/assistant/AssistContent.js","components/mainComps/Assistant.js","components/mainComps/EditorComp.js","components/MainContainer.js","components/Visualizer.js","App.js","serviceWorker.js","index.js"],"names":["Nav","props","colapseAll","className","type","onClick","target","href","AssistBtn","context","useContext","AppContext","title","assistantToggle","ShowAssistBtn","visualizeToggle","Editor","EditorClass","this","getYashe","yashe","setYashe","getPrefixes","definedPrefixes","getDefinedPrefixes","prefixes","pre","draw","shapes","newContent","forEach","element","toString","setValue","instance","getInstance","Type","value","Prefix","prefixName","prefixValue","id","PrefixedIri","prefix","getPrefix","getPrefixName","getValue","IriRef","BNode","BlankType","Primitive","ValueSet","values","push","str","map","v","Literal","NonLiteral","IriKind","BNodeKind","StringLiteral","NumberLiteral","BooleanLiteral","TypesFactory","retType","BlankKind","Shape","triples","qualifier","triplesCount","length","factory","triple","tripleId","filter","obj","createType","checkContent","getTriplesString","longestTriple","getLongestElement","longestConstraint","longestRef","longestCard","longestCRef","getLongestCR","tripleLength","constLength","constraint","refLength","shapeRef","cardLength","cardinality","tripleDiference","constDiference","refDiference","cardDiference","CRefDiference","getSeparators","isContent","getType","size","tripleSize","constraintSize","refSize","cardSize","CRefSize","getSeparator","ref","card","CRef","separator","i","Facet","ALL_PREFIXES","Wikidata","wikibase","wd","wdt","wdtn","wds","p","wdref","wdv","ps","psv","psn","pq","pqv","pqn","pr","prv","prn","wdno","wdata","W3C","rdfs","rdf","owl","skos","xsd","prov","schema","geo","geof","Blazegraph","bd","bds","gas","hint","prefixCount","addPrefixComp","width","newPrefix","newPrefixes","Object","assign","emitPrefixes","addPrefix","namespaces","current","uri","def","Codemirror","signal","undefined","getPrefixesStr","ValueSetValue","label","shapesCount","facetsCount","valuesCount","emit","newShapes","checkPrefixes","isPropDef","isEnityDef","keys","refs","shexUtils","addShape","newShape","deleteShape","shapeId","confirm","window","shape","getShapeById","getShapeByName","name","s","getTripleById","getTriples","addFacet","facets","addValueSetValue","CardinalityExactly","min","CardinalityMinLimit","CardinalityRange","max","CardinalitySimple","CardinalityFactory","ShapeRef","DEFAULTS","sincronize","pretty","saveColors","Triple","cLabel","cardFactory","constraints","constraintsCount","facet","createCardinality","separators","getConstraint","getFacets","getShapeRef","getCardinality","tripleSeparator","checkPrettyOptions","constSeparator","refSeparator","cardSeparator","checkFacets","f","getTypeName","PRIMITIVES","ENTITY_TYPES","NO_WIKI_MSG","defShapes","a","Promise","all","index","shapeDef","string","shapeType","getQualifier","startsWith","split","defPrefixes","getPrefixValue","getTypeByID","navigator","language","userLanguage","QUERY_ID","action","ids","format","$","get","url","API_ENDPOINT","param","dataType","result","toLowerCase","singleTriple","start","getStart","getTriple","t","valueSet","token","isInList","entity","entities","labels","en","getValueSetValue","getRefName","kind","range","isNaN","substring","minus","list","prim","getNonWsTokens","tokens","tokenUtils","getTokens","l","lineCount","getLineTokens","getDefinedShapes","brackets","shapeCont","hasTripleStarted","getShapes","updateShapeRefs","r","setShape","yasheUtils","DEFAULT_SHAPE","VALUESET_SHAPE","replaceShapes","updatePrefixes","defined","getSchema","debounce","func","wait","immediate","timeout","args","arguments","later","apply","callNow","clearTimeout","setTimeout","downloadFile","textFileAsBlob","Blob","downloadLink","document","createElement","download","innerHTML","URL","createObjectURL","style","display","body","appendChild","click","changeTheme","themeValue","getOption","getElementById","classList","add","remove","setOption","scrollTop","scrollTo","UndoBtn","undo","RedoBtn","redo","UploadBtn","handleRead","e","files","file","endsWith","reader","FileReader","onload","event","readAsText","readFile","onChange","accept","data-multiple-caption","multiple","htmlFor","xmlns","height","viewBox","d","DownloadBtn","baseProfile","ChangeThemeBtn","fill","GaleryBtn","data-toggle","example","loadExample","DeleteAllBtn","ScrollBtn","Toolbar","Collapse","isOpen","isToolBarOpen","VisualizeBtn","activeTab","evt","tablinks","getElementsByClassName","replace","currentTarget","changeClass","before","after","AssistTitle","asssistContext","AssistContext","closeAll","setAssistOpen","setPrefixesOpen","setColorsOpen","setConfigOpen","SHAPE_COLORS","header","delete","deleteFill","collapse","addTriple","addTripleFill","addShapeFill","TRIPLE_COLORS","constraintFill","cardinalityFill","CONSTRAINT_COLORS","addFill","CARDINALITY_COLORS","PREFIX_COLORS","specialLabel","Properties","PropertyClass","useCookies","cookies","setCookie","removeCookie","getShapeStyle","color","background","getTripleStyle","getConstraintStyle","getCardinalityStyle","getPrefixStyle","loadCookies","loadCookie","cookie","namespace","properties","load","path","propeties","c","removeCookies","saveDefaults","defaultShape","defaultTriple","defaultConstraint","defaultCardinality","defaultConfig","restoreDefaultColors","restoreDefaultConfig","ShapeHeader","shapeContext","ShapeContext","disabled","styles","collapseTriples","colapseBtn","useState","setName","initialRegExp","RegExp","regExp","attributesInput","placeholder","handleChange","onKeyUp","setDisabled","handleKeyUp","validationOption","reg","regMsg","QUERY","continue","limit","TripleHeader","deleteTriple","customizeContraints","customizeRef","customizeCardinality","collapseToggle","options","setOptions","isLoading","setLoading","MenuItem","item","descr","labelKey","maxResults","minLength","renderMenuItemChildren","option","key","onSearch","query","search","done","data","hints","results","description","selected","handleNameChange","defaultSelected","SingleConstraint","init","setConstraint","MultiConstraint","deleteValue","setType","ConstraintCont","initValues","setValues","newValues","addValue","prevValue","prevLabel","CardinalityComp","cardValue","getCardType","initialExactly","initialRange","initialMin","initialMax","setCardinality","isExactly","setExactly","isRange","setRange","setMin","setMax","checkCollapses","handleMinChange","valueAsNumber","newCardinality","TripleComponent","isConstraintsOpen","setConstraintsOpen","isCardinalityOpen","setCardinalityOpen","allCollased","setAllCollapsed","setColapseBtn","collapseAll","changeCollapseBtn","React","createContext","ShapeComponent","setTriples","isTriplesOpen","setTriplesOpen","initialDisabled","newTriples","Provider","getTriplesCount","Shapes","AssistLoader","AssistError","CodeMirror","PrefixComp","emitPref","handleAlias","handleIri","deletePrefix","Prefixes","ShapeView","colors","TripleView","ColorPicker","setColor","isDisplay","setDisplay","handleClose","reactCSS","borderRadius","swatch","padding","boxShadow","cursor","popover","position","transform","zIndex","cover","top","right","bottom","left","hex","onChangeComplete","ColorComp","pickers","labelType","bodyType","tag","SHAPE_PICKERS","TRIPLE_PICKERS","CONSTRAINT_PICKERS","CARDINALITY_PICKERS","BTNS_PICKERS","PREFIX_PICKERS","ShapeColors","shapeStyles","tripleStyles","constraintStyles","cardinalityStyles","PrefixView","PrefixColors","Colors","Config","setPretty","setSaveColors","setCookies","checked","icons","newPretty","AssistContent","isAssistOpen","isPrefixesOpen","isColorsOpen","isConfigOpen","Assistant","NAMESPACE","isAssistantOpen","onResize","handleResize","resizeHandles","minConstraints","maxConstraints","AssistNav","EditorComp","divRef","useRef","defaultPrefixes","useEffect","persistent","lineNumbers","showTooltip","theme","y","YASHE","on","hasErrors","hideError","hideConvert","loading","loaded","showConvert","showError","updateAssist","getNewShapes","err","getNewPrefixes","refresh","replacePrefixes","animate","before1","after1","before2","after2","e1","e2","textContent","MainContainer","Visualizer","svg","isVisualizeOpen","dangerouslySetInnerHTML","__html","App","setShapes","setPrefixes","setSvg","setAssistantOpen","setToolBarOpen","setVisualizeOpen","setWidth","visualize","bodyFormData","FormData","set","axios","method","config","headers","then","response","catch","console","log","CookiesProvider","checkShapeName","prefixId","deletePrefixComp","tabs","shapeHeaders","tripleHeaders","addTripleBtns","addShapeBtns","grids","customs","prefixesColors","tabClass","shClass","thClass","adTClass","adSClass","grClass","ccClass","prClass","prcClass","picClass","makeItResponsive","Boolean","location","hostname","match","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.44f3b75e.chunk.js","sourcesContent":["import React from 'react';\nimport '../css/navComponents/Nav.css'; \n\nfunction Nav (props) {\n\n    const {colapseAll} = props;\n\n    return (   <nav className=\"navbar navbar-default \">\n        <div className=\"navbar-header\">\n        \n         <button className=\"collapseAllBtn mdc-icon-button material-icons\"type=\"button\"\n                 onClick={colapseAll} >\n                            menu\n                        </button> \n            <span className='shexTitle'>WikiAuthor</span>\n            <a className=\"navItems\" target=\"_blank\" href=\"http://www.weso.es/shex-author/\">ShExAuthor</a>\n            <a className=\"navItems\" target=\"_blank\" href=\"http://www.weso.es/YASHE/\">YASHE</a>\n            <a className=\"navItems\" target=\"_blank\" href=\"http://www.weso.es/\">Weso</a>\n            <a className=\"navItems\" target=\"_blank\" href=\"https://www.linkedin.com/in/pablo-men%C3%A9ndez-su%C3%A1rez-106262a7/\">About me</a>\n     \n        </div>\n    </nav>);\n    \n    \n}\n\nexport default Nav;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nfunction AssistBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                title=\"ShEx Assistant\"\n                type=\"button\"\n                onClick={context.assistantToggle}>\n                info\n        </button>);\n    \n    \n}\n\n\nexport default AssistBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nfunction ShowAssistBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                type=\"button\" \n                title=\"Visualize\"\n                onClick={context.visualizeToggle}>\n                remove_red_eye\n        </button> );\n    \n    \n}\n\n\nexport default ShowAssistBtn;\n\n\n","import YASHE from 'yashe';\n\n//Singleton Pattern\nconst Editor = (()=> {\n\n    function EditorClass(){\n\n    \n        this.getYashe = function () {\n            return this.yashe;\n        }\n\n        this.setYashe =  function (yashe) {\n            this.yashe = yashe;\n        }\n\n\n         this.getPrefixes = function () {\n                let definedPrefixes = this.getYashe().getDefinedPrefixes();\n                let prefixes='';\n                for(let pre in definedPrefixes){\n                    prefixes+='PREFIX '+pre+':    <'+definedPrefixes[pre]+'>\\n';\n                }\n                prefixes+='\\n';\n                return prefixes;\n        }\n\n        this.draw = function(shapes,prefixes){\n            let newContent=prefixes;\n            if(!prefixes){\n                newContent = this.getPrefixes();\n            }\n             \n            shapes.forEach(element =>{\n                newContent += element.toString()\n            });\n            this.getYashe().setValue(newContent);\n        }\n    }\n\n   \n\n    let instance;\n\n    return{\n        getInstance: ()=>{\n            if(!instance){\n                instance = new EditorClass();\n            }\n            return instance;\n        }\n\n    }\n\n})();\n\n\nexport default Editor;","class Type{\n\n    constructor(value){\n        this.value = value;\n    }\n\n    getValue(){\n        return this.value;\n    }\n\n    setValue(value){\n        this.value = value;\n    }\n\n\n}\n\nexport default Type;","class Prefix {\n\n    constructor(prefixName='',prefixValue='http://example.org/',id){\n        this.prefixName = prefixName;\n        this.prefixValue = prefixValue;\n        this.id = id;\n    }\n\n\n    getPrefixName(){\n        return this.prefixName;\n    }\n\n    getPrefixValue(){\n        return this.prefixValue;\n    }\n\n}\n\nexport default Prefix;","import Type from '../type';\nimport Prefix from '../../shexUtils/prefix';\n\nclass PrefixedIri extends Type{\n\n    constructor(prefix=new Prefix(),value=''){\n        super(value);\n        this.prefix = prefix;\n    }\n\n    getPrefix(){\n        return this.prefix;\n    }\n\n    setPrefix(prefix){\n        this.prefix = prefix;\n    }\n\n   \n    getTypeName(){\n        return 'prefixedIri';\n    }\n\n\n    toString(){\n        return this.getPrefix().getPrefixName()+':'+this.getValue();\n    }\n\n}\n\nexport default PrefixedIri;","import Type from '../type';\nimport Editor from'../../../editor';\n\nclass IriRef extends Type{\n\n    constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'iriRef';\n    }\n\n\n    toString(){\n        return '<'+this.getValue()+'>';\n    }\n\n\n}\n\nexport default IriRef;","import Type from '../type';\n\nclass BNode extends Type{\n\n    constructor(value='example'){\n        super(value);\n    }\n\n\n    getTypeName(){\n        return 'bnodeType';\n    }\n\n\n    toString(){\n        return '_:'+this.getValue();\n    }\n\n}\n\n\n\nexport default BNode;","import Type from '../type';\n\nclass BlankType extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'blankType';\n    }\n\n    toString(){\n        return '';\n    }\n\n\n\n}\n\nexport default BlankType;","import Type from '../type';\n\nconst PRIMITIVES = ['String','Integer','Date','Boolean'];\n\nclass Primitive extends Type{\n\n     constructor(value='none'){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'primitive';\n    }\n\n    toString(){\n        if(this.value=='none'){\n            return '.';\n        }\n        return 'xsd:'+this.getValue();\n    }\n\n\n\n}\n\nexport default Primitive;","import Type from '../type';\n\nclass ValueSet extends Type{\n\n     constructor(values=[],value){\n        // If we use 'value' instead of 'values' it doesn't work \n        // I am not sure why...\n        super(value);\n        this.values = values;\n    }\n\n    addValue(value){\n        this.values.push(value);\n    }\n       \n\n    getValues(){\n        return this.values;\n    }\n\n    setValues(values){\n        this.values = values;\n    }\n\n    getTypeName(){\n        return 'valueSet';\n    }\n\n    toString(){\n        let str ='[';\n        this.values.map(v=>{\n            str+=v.toString()+' ';\n        })\n        str+=']';\n        return str;\n    }\n\n\n\n}\n\nexport default ValueSet;","import Type from '../../type';\n\nclass Literal extends Type{\n\n    getTypeName(){\n        return 'literal';\n    }\n\n    toString(){\n        return 'Literal';\n    }\n\n\n\n}\n\nexport default Literal;","import Type from '../../type';\n\nclass NonLiteral extends Type{\n\n    getTypeName(){\n        return 'nonliteral';\n    }\n\n    toString(){\n        return 'NONLITERAL';\n    }\n\n}\n\nexport default NonLiteral;","import Type from '../../type';\n\nclass IriKind extends Type{\n\n    getTypeName(){\n        return 'iri';\n    }\n\n    toString(){\n        return 'IRI';\n    }\n\n\n\n}\n\nexport default IriKind;","import Type from '../../type';\n\nclass BNodeKind extends Type{\n\n    getTypeName(){\n        return 'bnode';\n    }\n\n    toString(){\n        return 'BNODE';\n    }\n\n\n\n}\n\nexport default BNodeKind;","import Type from '../../type';\n\nclass StringLiteral extends Type{\n\n     constructor(value=''){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'stringLiteral';\n    }\n\n    toString(){\n        return '\"'+this.value+'\"';\n    }\n\n\n\n}\n\nexport default StringLiteral;","import Type from '../../type';\n\nclass NumberLiteral extends Type{\n\n    constructor(value=0){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'numberLiteral';\n    }\n\n    toString(){\n        return this.value;\n    }\n\n\n\n}\n\nexport default NumberLiteral;","import Type from '../../type';\n\nclass BooleanLiteral extends Type{\n\n    constructor(value='true'){\n        super(value);\n    }\n\n    getTypeName(){\n        return 'booleanLiteral';\n    }\n\n    toString(){\n        return this.value;\n    }\n\n\n\n}\n\nexport default BooleanLiteral;","import PrefixedIri from'./concreteTypes/prefixedIri';\nimport IriRef from'./concreteTypes/iriRef';\nimport BNode from'./concreteTypes/bNode';\nimport BlankType from'./concreteTypes/blankType';\nimport Primitive from'./concreteTypes/primitive';\nimport ValueSet from'./concreteTypes/valueSet';\n\nimport Literal from'./concreteTypes/kinds/literal';\nimport NonLiteral from'./concreteTypes/kinds/nonLiteral';\nimport IriKind from'./concreteTypes/kinds/iriKind';\nimport BNodeKind from'./concreteTypes/kinds/bNodeKind';\n\n\nimport StringLiteral from'./concreteTypes/literal/stringLiteral';\nimport NumberLiteral from'./concreteTypes/literal/numberLiteral';\nimport BooleanLiteral from'./concreteTypes/literal/booleanLiteral';\n\n\n\nclass TypesFactory{\n\n    createType(type){\n\n        let retType;\n        if(type == 'iriRef'){\n            retType = new IriRef();\n        }\n        \n        if(type == 'prefixedIri'){\n            retType = new PrefixedIri();\n        }\n        \n        if(type == 'bnodeType'){\n            retType = new BNode();\n        }\n\n        if(type == 'blankType'){\n            retType = new BlankType();\n        }\n\n        if(type == 'primitive'){\n            retType = new Primitive();\n        }\n\n        if(type == 'literal'){\n            retType = new Literal();\n        }\n\n        if(type == 'nonliteral'){\n            retType = new NonLiteral();\n        }\n\n        if(type == 'iri'){\n            retType = new IriKind();\n        }\n\n        if(type == 'bnode'){\n            retType = new BNodeKind();\n        }\n\n        if(type == 'valueSet'){\n            retType = new ValueSet();\n        }\n\n        if(type == 'stringLiteral'){\n            retType = new StringLiteral();\n        }\n\n        if(type == 'numberLiteral'){\n            retType = new NumberLiteral();\n        }\n\n        if(type == 'booleanLiteral'){\n            retType = new BooleanLiteral();\n        }\n \n\n        return retType;\n\n    }\n\n\n}\n\nexport default TypesFactory;","import Type from '../../type';\n\nclass BlankKind extends Type{\n\n    getTypeName(){\n        return 'blank';\n    }\n\n    toString(){\n        return '';\n    }\n\n\n\n}\n\nexport default BlankKind;","import TypesFactory from './types/typesFactory';\nimport IriRef from './types/concreteTypes/iriRef';\nimport BlankKind from './types/concreteTypes/kinds/blankKind';\nimport Prefix from './shexUtils/prefix';\n\nclass Shape {\n\n  constructor(id,type=new IriRef(),triples = [],qualifier=new BlankKind()) {\n      this.id = id;\n      this.type = type;\n      this.triples = triples;\n      this.triplesCount = this.triples.length;\n      this.factory = new TypesFactory();\n      this.qualifier = qualifier;\n    }\n\n    addTriple(triple){\n        this.triples.push(triple);\n        this.triplesCount++;\n    }\n\n    removeTriple(tripleId){\n      this.triples = this.triples.filter(function( obj ) {\n        return obj.id != tripleId\n      });\n    }\n\n    setQualifier(qualifier){\n      this.qualifier = this.qualifier;\n    }\n    \n\n    setType(type){\n        this.type = this.factory.createType(type);\n     }\n\n \n    toString(){\n      let str='';\n      if(this.type.value!=''){\n        str+=this.type+' '+this.qualifier;\n        if(this.checkContent()){\n          str+=' {\\n';\n          str+= this.getTriplesString();\n          str+=\"}\\n\\n\"\n        }\n      }\n      return str\n     }\n\n     getTriplesString(){\n        let str='';\n        let longestTriple = this.getLongestElement('type');\n        let longestConstraint = this.getLongestElement('constraint');\n        let longestRef = this.getLongestElement('shapeRef');\n        let longestCard = this.getLongestElement('cardinality');\n        let longestCRef = this.getLongestCR();//constraint+shapeRef\n        this.triples.forEach(triple => {\n          let tripleLength = triple.type.toString().length;\n          let constLength = triple.constraint.toString().length;\n          let refLength = triple.shapeRef.toString().length;\n          let cardLength = triple.cardinality.toString().length;\n          let CRefLength = constLength + refLength;\n\n          let tripleDiference = longestTriple - tripleLength;\n          let constDiference = longestConstraint - constLength;\n          let refDiference = longestRef - refLength;\n          let cardDiference = longestCard - cardLength;\n          let CRefDiference = longestCRef - CRefLength;\n\n          str+=triple.toString( \n                      this.getSeparators(tripleDiference,\n                                          constDiference,\n                                          refDiference,\n                                          cardDiference,\n                                          CRefDiference));\n        });\n        return str;\n     }\n\n     //Checks if there is any triple with content\n     checkContent(){\n       let isContent = false;\n       this.triples.forEach(triple => {\n          if(triple.getType().value!=''){\n            isContent = true;\n          }\n        });\n        return isContent;\n     }\n\n\n    getLongestElement(element){\n      let size=0;\n      this.triples.forEach(triple => {\n          let value = triple[element].toString().length;\n          if(value>size)size = value;\n      });\n      return size;\n    }\n\n    /**\n    * Get the longest Constraint+ShapeRef\n    * */\n    getLongestCR(){\n      let size=0;\n      this.triples.forEach(triple => {\n          let cValue = triple.constraint.toString().length;\n          let rValue = triple.shapeRef.toString().length;\n          let value = cValue+rValue;\n          if(value>size)size = value;\n      });\n      return size;\n    }\n\n\n\n\n    getSeparators(tripleSize,constraintSize,refSize,cardSize,CRefSize){\n      return{\n        triple:this.getSeparator(tripleSize),\n        constraint:this.getSeparator(constraintSize),\n        ref:this.getSeparator(refSize),\n        card:this.getSeparator(cardSize),\n        CRef:this.getSeparator(CRefSize),\n      }\n    }\n\n    getSeparator(size){\n      let space = ' ';\n      let separator = ' ';\n      for(let i=0;i<size;i++){\n        separator+=space;\n      }\n      return separator;\n    }\n\n    //Getters and setters\n    getId(){\n      return this.id;\n    }\n\n    setId(id){\n      this.id=id;\n    }\n\n    getType(){\n      return this.type;\n    }\n\n    getTriples(){\n      return this.triples;\n    }\n\n    setTriples(triples){\n      this.triples = triples;\n    }\n\n    getTriplesCount(){\n      return this.triplesCount;\n    }\n\n    setTriplesCount(triplesCount){\n      this.triplesCount = triplesCount;\n    }\n\n    getQualifier(){\n      return this.qualifier;\n    }\n\n    setQualifier(qualifier){\n      this.qualifier = qualifier;\n    }\n\n  }\n\nexport default Shape;","class Facet{\n\n    constructor(id,type='length',value=0){\n        this.id = id;\n        this.type = type;\n        this.value = value;\n    }\n\n    getId(){\n        return this.id;\n    }\n\n    getType(){\n        return this.type;\n    }\n\n    getValue(){\n        return this.value;\n    }\n\n    setId(id){\n        this.id = id;\n    }\n\n    setType(type){\n        this.type = type;\n    }\n\n    setValue(value){\n        this.value = value;\n    }\n\n\n    toString(){\n        return this.type+\" \"+this.value;\n    }\n\n\n}\n\nexport default Facet;","export const ALL_PREFIXES = {\n    Wikidata: {\n        wikibase: 'http://wikiba.se/ontology#',\n        wd: 'http://www.wikidata.org/entity/',\n        wdt: 'http://www.wikidata.org/prop/direct/',\n        wdtn: 'http://www.wikidata.org/prop/direct-normalized/',\n        wds: 'http://www.wikidata.org/entity/statement/',\n        p: 'http://www.wikidata.org/prop/',\n        wdref: 'http://www.wikidata.org/reference/',\n        wdv: 'http://www.wikidata.org/value/',\n        ps: 'http://www.wikidata.org/prop/statement/',\n        psv: 'http://www.wikidata.org/prop/statement/value/',\n        psn: 'http://www.wikidata.org/prop/statement/value-normalized/',\n        pq: 'http://www.wikidata.org/prop/qualifier/',\n        pqv: 'http://www.wikidata.org/prop/qualifier/value/',\n        pqn: 'http://www.wikidata.org/prop/qualifier/value-normalized/',\n        pr: 'http://www.wikidata.org/prop/reference/',\n        prv: 'http://www.wikidata.org/prop/reference/value/',\n        prn: 'http://www.wikidata.org/prop/reference/value-normalized/',\n        wdno: 'http://www.wikidata.org/prop/novalue/',\n        wdata: 'http://www.wikidata.org/wiki/Special:EntityData/'\n    },\n    W3C: {\n        rdfs: 'http://www.w3.org/2000/01/rdf-schema#',\n        rdf: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n        owl: 'http://www.w3.org/2002/07/owl#',\n        skos: 'http://www.w3.org/2004/02/skos/core#',\n        xsd: 'http://www.w3.org/2001/XMLSchema#',\n        prov: 'http://www.w3.org/ns/prov#'\n    },\n    'Social/Other': {\n        schema: 'http://schema.org/',\n        geo: 'http://www.opengis.net/ont/geosparql#',\n        geof: 'http://www.opengis.net/def/geosparql/function/'\n    },\n    Blazegraph: {\n        bd: 'http://www.bigdata.com/rdf#',\n        bds: 'http://www.bigdata.com/rdf/search#',\n        gas: 'http://www.bigdata.com/rdf/gas#',\n        hint: 'http://www.bigdata.com/queryHints#'\n    }\n};\n\n\n","import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\nimport Prefix from '../entities/shexEntities/shexUtils/prefix';\nimport {ALL_PREFIXES} from './rdfUtils';\n\nlet prefixCount = 0;\n\nexport function getPrefix(prefix){\n    let defined = Editor.getInstance().getYashe().getDefinedPrefixes();\n    for(let def in defined){\n        if(defined[def] == prefix){\n          return new Prefix(def,defined[def]);\n        }\n    }\n    return new Prefix();\n}\n\n\n\nexport function addPrefixComp(prefixes,width){\n    const id = prefixes.length + prefixCount++;\n    let newPrefix = new Prefix('','',id);\n    let newPrefixes = [];\n    newPrefixes = Object.assign(newPrefixes, prefixes);\n    newPrefixes.push(newPrefix);\n    emitPrefixes(newPrefixes,width);\n    return newPrefix;\n}\n\nexport function deletePrefixComp(prefixes,prefixId,width) {\n    let newPrefixes = prefixes.filter(prefix => prefix.id != prefixId);\n    emitPrefixes(newPrefixes,width);\n    return newPrefixes;\n}\n\n\nexport function addPrefix(prefix){\n        let namespaces = ALL_PREFIXES;\n        let yashe = Editor.getInstance().getYashe();\n        let current = yashe.getValue();\n        let defined = yashe.getDefinedPrefixes();\n        let uri = 'http://example.org/';\n        //getUri\n        for(let def in namespaces){\n          for(let p in namespaces[def]){\n            if(p==prefix)\n              uri = namespaces[def][p];\n          }\n        }\n        yashe.setValue( 'PREFIX ' + prefix + ': <' + uri + '>\\n' + current );\n        Codemirror.signal(yashe,'prefixUpdate');\n  }\n\n\nexport function getUri(prefix,namespaces){\n  for(let def in namespaces){\n    for(let p in namespaces[def]){\n      if(p==prefix)\n        return namespaces[def][p];\n    }\n  }\n  return 'http://example.org/';\n}\n\n\nfunction getPrefixesStr(prefixes){\n  let str='';\n  prefixes.map(prefix =>{\n    str += 'PREFIX ' + prefix.prefixName + ': <' + prefix.prefixValue + '>\\n';\n  })\n  return str;\n}\n\nexport function emitPrefixes(newPrefixes,width) {\n    const yashe = Editor.getInstance().getYashe();\n    if(yashe!=undefined){\n        Codemirror.signal(yashe,'prefixChange',getPrefixesStr(newPrefixes),width);\n    }\n}","import TypesFactory from '../types/typesFactory';\nimport PrefixedIri from '../types/concreteTypes/prefixedIri';\nimport Prefix from './prefix';\n\nclass ValueSetValue {\n\n     constructor(id,type=new PrefixedIri(new Prefix('wd','http://www.wikidata.org/entity/')),label=''){\n        this.id = id;\n        this.type = type;\n        this.label = label;\n        this.factory = new TypesFactory();\n    }\n\n    getType(){\n        return this.type;\n    }\n\n    setType(type){\n       this.type = this.factory.createType(type);\n     }\n\n    toString(){\n        return this.type.toString();\n    }\n\n}\n\nexport default ValueSetValue;","import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\nimport Shape from '../entities/shexEntities/shape';\nimport Facet from '../entities/shexEntities/shexUtils/facet';\nimport {addPrefix} from './prefixUtils';\nimport ValueSetValue from '../entities/shexEntities/shexUtils/valueSetValue';\n\nlet shapesCount = 0;\nlet facetsCount = 0;\nlet valuesCount = 0;\n\nfunction addShape(shapes,width){\n\n    const id = shapes.length + shapesCount++;\n    const newShape = new Shape(id);\n    \n    let newShapes = [];\n    newShapes = Object.assign(newShapes, shapes);\n    newShapes.push(newShape);\n    checkPrefixes();\n    emit(newShapes,width);\n    return newShape;    \n}\n\nfunction deleteShape(shapes,shapeId,confirm,width) {\n    if(!confirm){\n        confirm = window.confirm('Are you sure?');\n    }\n    if (confirm == true) {\n        const newShapes = shapes.filter(shape => shape.id != shapeId);\n        emit(newShapes,width);\n        return newShapes;\n    }\n    return shapes;\n}\n\n\nfunction getShapeById(shapes,shapeId) {\n    return shapes.filter(function( obj ) {\n        return obj.id == shapeId\n    })[0];\n}\n\nfunction getShapeByName(shapes,name) {\n    for(let s in shapes){\n        if(shapes[s].getType().toString() == name){\n            return shapes[s];\n        }\n    }\n}\n\n\nfunction getTripleById(shape,tripleId) {\n    return shape.getTriples().filter(function( obj ) {\n        return obj.id == tripleId\n    })[0];\n}\n\n\nfunction emit(newShapes,width) {\n    const yashe = Editor.getInstance().getYashe();\n    if(yashe!=undefined){\n        Codemirror.signal(yashe,'humanEvent',newShapes,width);\n        checkPrefixes();\n    }\n}\n\n\nfunction checkPrefixes(){\n    const yashe = Editor.getInstance().getYashe();\n    let isPropDef = false;\n    let isEnityDef = false;\n    Object.keys(yashe.getDefinedPrefixes()).map(p=>{\n        if(p=='wdt'){\n            isPropDef = true;\n        } \n        if(p=='wd'){\n            isEnityDef = true;\n        }\n    })\n    if(!isPropDef){\n        addPrefix('wdt');\n    } \n    if(!isEnityDef){\n        addPrefix('wd');\n    }\n}\n\n\nfunction addValueSetValue(values){\n    const id = values.length + valuesCount++;\n    return new ValueSetValue(id);    \n}\n\n\nfunction addFacet(facets){\n    const id = facets.length + facetsCount++;\n    return new Facet(id);    \n}\n\n\n\nconst shexUtils = {\n    addShape:addShape,\n    deleteShape:deleteShape,\n    getShapeById:getShapeById,\n    getShapeByName:getShapeByName,\n    getTripleById:getTripleById,\n    emit:emit,\n    addFacet:addFacet,\n    addValueSetValue:addValueSetValue\n}\n\nexport default shexUtils;","\nimport Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\nimport shexUtils from './shexUtils';\n\nimport  Shape from '../entities/shexEntities/shape';\nimport  Triple from '../entities/shexEntities/triple';\n\nimport TypesFactory from '../entities/shexEntities/types/typesFactory';\nimport CardinalityFactory from '../entities/shexEntities/shexUtils/cardinality/cardinalityFactory';\nimport Facet from '../entities/shexEntities/shexUtils/facet';\n\nimport PrefixedIri from '../entities/shexEntities/types/concreteTypes/prefixedIri';\nimport IriRef from '../entities/shexEntities/types/concreteTypes/iriRef';\nimport BNode from '../entities/shexEntities/types/concreteTypes/bNode';\nimport Primitive from '../entities/shexEntities/types/concreteTypes/primitive';\nimport ValueSet from '../entities/shexEntities/types/concreteTypes/valueSet';\n\nimport Literal from '../entities/shexEntities/types/concreteTypes/kinds/literal';\nimport NonLiteral from '../entities/shexEntities/types/concreteTypes/kinds/nonLiteral';\nimport IriKind from '../entities/shexEntities/types/concreteTypes/kinds/iriKind';\nimport BNodeKind from '../entities/shexEntities/types/concreteTypes/kinds/bNodeKind';\nimport BlankKind from '../entities/shexEntities/types/concreteTypes/kinds/blankKind';\n\nimport NumberLiteral from '../entities/shexEntities/types/concreteTypes/literal/numberLiteral';\nimport StringLiteral from '../entities/shexEntities/types/concreteTypes/literal/stringLiteral';\nimport BooleanLiteral from '../entities/shexEntities/types/concreteTypes/literal/booleanLiteral';\n\n\n\nimport Prefix from '../entities/shexEntities/shexUtils/prefix';\nimport ShapeRef from '../entities/shexEntities/shexUtils/shapeRef';\nimport ValueSetValue from '../entities/shexEntities/shexUtils/valueSetValue';\n\nimport $ from 'jquery';\n\n//HAY QUE METER TODOS (Update... igual no hace falta...)\nconst PRIMITIVES = ['string','integer','date','boolean'];\n\nconst ENTITY_TYPES = [\n    'http://www.wikidata.org/prop/direct/',\n    'http://www.wikidata.org/prop/direct-normalized/',\n    'http://www.wikidata.org/prop/',\n    'http://www.wikidata.org/prop/novalue/',\n    'http://www.wikidata.org/prop/statement/',\n    'http://www.wikidata.org/prop/statement/value/',\n    'http://www.wikidata.org/prop/statement/value-normalized/',\n    'http://www.wikidata.org/prop/qualifier/',\n    'http://www.wikidata.org/prop/qualifier/value/',\n    'http://www.wikidata.org/prop/qualifier/value-normalized/',\n    'http://www.wikidata.org/prop/reference/',\n    'http://www.wikidata.org/prop/reference/value/',\n    'http://www.wikidata.org/prop/reference/value-normalized/',\n    'http://www.wikidata.org/wiki/Special:EntityData/',\n    'http://www.wikidata.org/entity/'\n];\n\nconst NO_WIKI_MSG = 'Please, introduce just wikidata entities or properties';\n\n\n\nlet refs;\n/**\n*   Obtains all the current tokens in the editor\n*   @return {Array} tokens\n*\n */\nfunction getTokens(){\n    let yashe = Editor.getInstance().getYashe();\n    let tokens =[];\n    if(yashe!=undefined){\n        for (var l = 0; l < yashe.lineCount(); ++l) {\n            let lineTokens = getNonWsTokens(yashe.getLineTokens(l));\n            lineTokens.forEach(token =>{\n                tokens.push(token);\n            })\n\n        }\n    }\n    return tokens;\n}\n\n/**\n*   Split the tokens into Shapes\n*   @param {Array} Tokens\n*   @return {Array} Defined Shapes (Array of Token's arrays)\n*\n */\nfunction getDefinedShapes(tokens){\n    let brackets=0\n    let shape=[];\n    let defShapes = [];\n    let shapeCont = 0;\n    let hasTripleStarted = false;\n    //Separate shapes in arrays\n    tokens.forEach(element =>{\n        //If we find a Shape then we start a new Array of tokens\n        if(element.type == 'shape'){\n            shape = [];\n            shape.push(element)\n            defShapes[shapeCont]=shape;\n            shapeCont++;\n        }else{\n            // IMPORTANT \n            // We could do just shape.push(element) but if there \n            // are directives between shapes we will push that directives into the shape   \n\n            if(element.string == '{'){\n                hasTripleStarted=true;\n            }\n             \n            if(hasTripleStarted){\n                //Get the tokens while it's from the inside of the shape\n                if(element.string == '{')brackets++;\n                if(element.string == '}')brackets--;\n                if(brackets!=0)shape.push(element);\n                //if(brackets==0)hasTripleStarted = false\n             }else{\n                 //Get the previous tokens before the triples\n                 shape.push(element);\n             }\n       \n        }\n    })\n    return defShapes;\n}\n\n/**\n* Get the Shapes objects\n* @param {Array} Shapes (Array of Token's arrays)\n*\n */\nasync function getShapes(defShapes){\n    refs = [];\n    let shapes = [];\n    let yashe = Editor.getInstance().getYashe();\n    await Promise.all(defShapes.map(async (shape,index) => {\n        let shapeDef = shape[0].string;\n        let shapeType = getType(shapeDef);\n        let qualifier = getQualifier(shape[1]);\n        let triples = await getTriples(index,shape);\n\n        shapes[index] = new Shape(index,shapeType,triples,qualifier);\n    }))\n\n    return shapes;\n}\n\n\n/**\n* Get the type of the Shape or Triple\n* @param {String} Shape or Triple\n*\n */\nfunction getType(def) {\n    let value;\n    let yashe = Editor.getInstance().getYashe();\n    if(def.startsWith('<')){\n        value = def.split('<')[1].split('>')[0];\n        return new IriRef(value);\n    }else if(def.startsWith('_:')){\n        value = def.split(':')[1];\n        return new BNode(value);\n    }else{\n        value = def.split(':')[1];\n        let prefixName = def.split(':')[0];\n        let prefixValue = getPrefixValue(yashe.getDefinedPrefixes(),prefixName)\n        let prefix = new Prefix(prefixName,prefixValue);\n        return new PrefixedIri(prefix,value);\n    }\n}\n\nasync function getTypeByID(def) {\n    let language = (navigator.language || navigator.userLanguage).split(\"-\")[0];\n    var API_ENDPOINT = 'https://www.wikidata.org/w/';\n    var QUERY_ID = {\n            action:'wbgetentities',\n            ids:def.split(':')[1],\n            format: 'json', \n    }\n\n    let result = await $.get({\n            url: API_ENDPOINT + 'api.php?' + $.param(QUERY_ID),\n            dataType: 'jsonp',\n    })\n    return result;\n}\n\n\n/**\n*   Get the Qualifier\n*   @param {Token} First token next to the ShapeExprLabel\n*   @return {Type}\n*\n*/\nfunction getQualifier(qualifier) {\n    if(qualifier){\n        if(qualifier.type == 'constraintKeyword'){\n            let type = qualifier.string.toLowerCase();\n            return new TypesFactory().createType(type);\n        }\n    }\n    return new BlankKind();\n}\n\n\n/**\n*   Get an array of Triples\n*   @param {Integer} shapeId\n*   @param {Array} Shape (Tokens)\n*\n* */\nasync function getTriples(shapeId,shape) {\n        let triples = [];\n        let singleTriple = [];\n        let yashe = Editor.getInstance().getYashe();\n        let start = getStart(shape);\n        for(let i=start;i<shape.length;i++){\n            singleTriple.push(shape[i])\n            if((shape[i].type == 'punc' &&  shape[i].string==';')// finish of the triple ';' \n                || i==shape.length-1){  // finish of the last triple without ';'\n                if(singleTriple.length!=1){ //This line is neccesary when last triple of the shape ends with ';'\n                    let t= await getTriple(triples.length,singleTriple,shapeId);\n                    triples.push(t);\n                    singleTriple = [];\n                }\n            }\n\n        }\n    return triples;\n}\n\n/**\n*    Get a Triple Object from a line of tokens\n*    @param {Array} Triples\n*    @param {Array} LineTokens\n*    @param {Integer} ShapeId\n*/\nasync function getTriple(id,singleTriple,shapeId) {   \n    let type;\n    let label='';\n    let cLabel = '';\n    let constraint;\n    let valueSet = [];\n    let facets = [];\n    let cardinality= new TypesFactory().createType('');\n    let shapeRef = new ShapeRef();\n    for(let i=0;i<singleTriple.length;i++){\n        let token = singleTriple[i];\n        if(token.type == 'string-2' || token.type == 'variable-3'){\n            type = getType(token.string);\n            if(type.getTypeName()=='prefixedIri'){\n                if(isInList(ENTITY_TYPES,type.prefix.prefixValue)){\n                    let entity = await getTypeByID(token.string);\n                    label = entity.entities[token.string.split(':')[1]].labels.en.value;\n                }else{\n                     Codemirror.signal(Editor.getInstance().getYashe(),'forceError',NO_WIKI_MSG);\n                }\n            }else{\n                 Codemirror.signal(Editor.getInstance().getYashe(),'forceError',NO_WIKI_MSG);\n            }   \n            \n        }\n        if(token.type == 'constraint' || token.type == 'constraintKeyword' ){\n            constraint = getConstraint(token.string);\n            if(constraint.getTypeName()=='prefixedIri'){\n                if(isInList(ENTITY_TYPES,constraint.prefix.prefixValue)){\n                    let entity = await getTypeByID(token.string);\n                    cLabel = entity.entities[token.string.split(':')[1]].labels.en.value;\n                }else{\n                    Codemirror.signal(Editor.getInstance().getYashe(),'forceError',NO_WIKI_MSG);\n                }\n            }else{\n                Codemirror.signal(Editor.getInstance().getYashe(),'forceError',NO_WIKI_MSG);\n            }   \n            \n        }\n        \n\n        if(token.type == 'valueSet'){\n            if(token.string.startsWith('@')){// LANTAG NOT SUPPORTED AT THE MOMENT\n                Codemirror.signal(Editor.getInstance().getYashe(),'forceError','LANTAG_ERR');\n            }else{\n                let result = await getTypeByID(token.string);\n                let entity = result.entities[token.string.split(':')[1]].labels.en.value\n                valueSet.push(new ValueSetValue(valueSet.length,getValueSetValue(token.string),entity));\n            }\n        }\n\n        if(token.type == 'shapeRef' ){\n            let ref = getRefName(token.string);\n            refs.push(\n                    {\n                        shapeId:shapeId,\n                        tripleId:id,\n                        shapeRef:ref\n                    }\n                );\n        }\n\n        if(token.type == 'facet'){\n            i++;//Need the value\n            let value = singleTriple[i].string;\n            let id =facets.length;\n            let type = token.string.toLowerCase();\n            facets.push(new Facet(id,type,value));\n        }\n\n\n        if(token.type == 'cardinality'){\n          cardinality=getCardinality(token.string);\n        }\n        \n        if( token.type != 'string-2' && \n            token.type != 'constraint' && \n            token.type != 'constraintKeyword' && \n            token.type != 'valueSet' && \n            token.type != 'shapeRef' && \n            token.type != 'facet' && \n            token.type != 'cardinality' && \n            token.type != 'punc' &&\n            token.type !='comment'){\n\n            Codemirror.signal(Editor.getInstance().getYashe(),'forceError');\n        }\n\n       \n        if(token.string == '~'){\n            Codemirror.signal(Editor.getInstance().getYashe(),'forceError','EXCLUSION_ERR');\n        }\n            \n\n        if(token.string == '{'){\n            Codemirror.signal(Editor.getInstance().getYashe(),'forceError');\n        }\n  \n    }\n    if(valueSet.length>0)constraint=new ValueSet(valueSet);\n    return new Triple(id,type,label,constraint,cLabel,shapeRef,facets,cardinality);\n}\n\n/**\n*   Get the start of the triple tokens\n*   @param {Array} Shape (Tokens)\n*   @return {Integer} Position\n*\n */\nfunction getStart(shape){\n    for(let i=0;i<shape.length;i++){\n        if(shape[i].string=='{'){\n            return i+1;\n        }\n    }\n}\n\n\n/**\n*   Get the constraint of the Triple\n*   @param {String} Token\n*   @return {Type}\n*/\nfunction getConstraint(def) {\n    let factory = new TypesFactory();\n    let type = factory.createType(def.toLowerCase());\n    //Isn't it a Prefixed/Iri/Primitive?\n    if(type!=undefined){\n        return type;\n    }\n    type = getType(def);\n    //Is it a Primitive?\n    if(type.getTypeName() == 'prefixedIri' && isInList(PRIMITIVES,type.value)){\n        let kind = def.split(':')[1];\n        return new Primitive(kind);\n    }\n    return type;\n}\n\n\n/**\n*   Get the Cardinality Object\n*   @param {String} Cardinality\n*   @return {Cardinality|String} Cardinality\n* */\nfunction getCardinality(card){\n    let factory = new CardinalityFactory();\n    if(card.length==1)return factory.createCardinality(card);//Is it a simple card?\n    let range = card.split('{')[1].split('}')[0].split(','); //I know...\n    let min = range[0];\n    let max;\n    if(range.length>1){\n        max = range[1];\n    }\n\n    let context = 'range';\n    if(max == undefined){\n        context = 'exactly';\n    }\n    if(max == '' || max == '*'){\n        context = 'minLimit';\n    }\n\n    return factory.createCardinality(context,min,max);\n}\n\n\n/**\n* Get the type of a valueSetValue\n* @param {String} Token\n* @return {Type} ValueSetValue\n*\n */\nfunction getValueSetValue(def) {\n\n    if(!isNaN(def)){\n        return new NumberLiteral(def);\n    }\n\n    if(def.startsWith('\"')){\n        return new StringLiteral(def.substring(1,def.length-1));//remove the \"\"\n    }\n\n    let minus = def.toLowerCase();\n    if(minus == 'true' || minus == 'false'){\n        return new BooleanLiteral(minus);\n    }\n\n    return getType(def);\n}\n\n\n\n\n\nfunction updateShapeRefs(shapes) {\n    for(let r in refs){\n        let shapeId = refs[r].shapeId;\n        let tripleId = refs[r].tripleId;\n        let ref = refs[r].shapeRef;\n\n        let shape = shexUtils.getShapeById(shapes,shapeId);\n        let triple = shexUtils.getTripleById(shape,tripleId);\n        let shapeRef = shexUtils.getShapeByName(shapes,ref);\n\n        triple.shapeRef.setShape(shapeRef);\n    }\n}\n\n\n\n\n\nfunction getPrefixValue(defPrefixes,prefixName){\n    let prefixValue;\n    for(let pre in defPrefixes){\n        if(pre==prefixName){\n            prefixValue = defPrefixes[pre]\n        }\n    }\n    return prefixValue;\n}\n\n\nfunction isInList(list,value) {\n    for(let prim in list){\n        if(list[prim] == value){\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction getRefName(token) {\n    return token.split('@')[1];\n}\n\n\nfunction getNonWsTokens(tokens){\n    return tokens.filter(function(obj){\n        return obj.type != 'ws';\n    })\n}\n\nconst tokenUtils = {\n    getTokens:getTokens,\n    getDefinedShapes:getDefinedShapes,\n    getShapes:getShapes,\n    updateShapeRefs:updateShapeRefs\n}\n\nexport default tokenUtils;","class CardinalityExactly{\n\n    constructor(min=1){\n        this.min = min;\n    }\n\n    getCardType(){\n        return 'exactly';\n    }\n\n    toString(){\n        return '{'+this.min+'}';\n    }\n\n}\n\nexport default CardinalityExactly;","class CardinalityMinLimit{\n\n    constructor(min=1){\n        this.min = min;\n    }\n\n    getCardType(){\n        return 'minLimit';\n    }\n\n    toString(){\n        return '{'+this.min+',*}';\n    }\n\n}\n\nexport default CardinalityMinLimit;","class CardinalityRange{\n\n    constructor(min=1,max=10){\n        this.min = min;\n        this.max = max;\n    }\n\n    getCardType(){\n        return 'range';\n    }\n\n    toString(){\n        return '{'+this.min+','+this.max+'}';\n    }\n\n}\n\nexport default CardinalityRange;","class CardinalitySimple{\n\n    constructor(value=' '){\n        this.value = value;\n    }\n\n    getCardType(){\n        return this.value;\n    }\n\n    toString(){\n        return this.value;\n    }\n\n}\n\nexport default CardinalitySimple;","import CardinalityExactly from './cardinalityExactly';\nimport CardinalityMinLimit from './cardinalityMinLimit';\nimport CardinalityRange from './cardinalityRange';\nimport CardinalitySimple from './cardinalitySimple';\n\nclass CardinalityFactory{\n\n    createCardinality(type,min,max){\n\n        if(type == 'exactly'){\n            return new CardinalityExactly(min);\n        }\n\n        if(type == 'minLimit'){\n            return new CardinalityMinLimit(min);\n        }\n\n        if(type == 'range'){\n            return new CardinalityRange(min,max);\n        }\n\n        return new CardinalitySimple(type);\n \n    }\n\n\n}\n\nexport default CardinalityFactory;","import Shape from'../shape';\n\nclass ShapeRef{\n\n    constructor(shape=null){\n        this.shape = shape;\n    }\n\n\n    getShape(){\n        return this.shape;\n    }\n\n    setShape(shape){\n        this.shape = shape;\n    }\n\n\n    toString(){\n        if(this.shape){\n           let shapeRef = this.shape.getType().toString();\n            return '@'+shapeRef;\n        }\n\n        return '';\n    }\n\n\n}\n\nexport default ShapeRef;","export const DEFAULTS = {\n    sincronize:true,\n    pretty:'pretty2',\n    saveColors:true,\n}","import TypesFactory from './types/typesFactory';\nimport CardinalityFactory from './shexUtils/cardinality/cardinalityFactory';\nimport CardinalitySimple from './shexUtils/cardinality/cardinalitySimple';\nimport PrefixedIri from './types/concreteTypes/prefixedIri';\nimport Primitive from './types/concreteTypes/primitive';\nimport ShapeRef from './shexUtils/shapeRef';\nimport Prefix from './shexUtils/prefix';\nimport {DEFAULTS} from '../../conf/config.js';\n\nclass Triple {\n\n    constructor(id,type=new PrefixedIri(new Prefix('wdt','http://www.wikidata.org/prop/direct/')),label='',constraint=new Primitive(),cLabel='',shapeRef=new ShapeRef(),facets=[],cardinality=new CardinalitySimple()) {\n        this.id = id;\n        this.type = type;\n        this.label = label;\n        this.cLabel = cLabel;\n        this.constraint = constraint;\n        this.shapeRef = shapeRef;\n        this.facets = facets;\n        this.cardinality = cardinality;\n        this.factory = new TypesFactory();\n        this.cardFactory = new CardinalityFactory();\n      }\n      \n    addValue(constraint){\n        this.constraints.push(constraint);\n        this.constraintsCount++;\n    }\n    \n    addFacet(facet){\n        this.facets.push(facet);\n    }\n\n    getId(){\n        return this.id;\n    }\n\n    getType(){\n      return this.type; \n    }\n\n    setType(type){\n       this.type = this.factory.createType(type);\n     }\n\n    setConstraint(constraint){\n        this.constraint = this.factory.createType(constraint);\n    }\n\n    setCardinality(cardinality,min,max){\n        this.cardinality = this.cardFactory.createCardinality(cardinality,min,max);\n    }\n\n    getShapeRef(){\n        return this.shapeRef;\n    }\n\n    setShapeRef(shapeRef){\n        this.shapeRef = shapeRef;\n    }\n\n\n    getFacets(){\n        return this.facets;\n    }\n\n    setFacets(facets){\n        this.facets = facets;\n    }\n\n    getConstraint(){\n       return this.constraint;\n    }\n\n\n    getCardinality(){\n        return this.cardinality;\n    }\n\n\n\n    toString(separators){\n        let str='';\n        let type=this.getType();\n        let constraint = this.getConstraint();\n        let facets = this.getFacets();\n        let shapeRef = this.getShapeRef();\n        let cardinality = this.getCardinality();\n        separators = this.checkPrettyOptions(separators);\n        let tripleSeparator = separators.triple; \n        let constSeparator = separators.constraint; \n        let refSeparator = separators.ref;\n        let cardSeparator = separators.card;\n \n        if(type.value!=''){\n            str+= '  '+type+tripleSeparator;\n            str+= this.checkFacets();\n            if(facets){\n                facets.map(f=>{\n                    str+=' '+f+' ';\n                })\n            }\n            if(constraint.value=='' && DEFAULTS.pretty!='pretty3' ){\n                constSeparator='';\n                refSeparator+=' ';\n            }\n            str+=constSeparator+shapeRef\n                +refSeparator+cardinality\n                +cardSeparator+';\\n';\n        }\n        return str;\n\n    }\n\n    checkPrettyOptions(separators){\n\n        if(DEFAULTS.pretty=='none'){\n            separators.triple=' ';\n            separators.constraint=' ';\n            separators.ref=' ';\n        }\n        if(DEFAULTS.pretty=='pretty1'){\n            separators.constraint=' ';\n            separators.ref=' ';\n        }\n        if(DEFAULTS.pretty=='pretty2'){\n            separators.constraint=' ';\n            separators.ref=separators.CRef;\n        }\n        \n        //default pretty3\n        return separators;\n    }\n\n    /**\n    * If none constraint and there are facets don't print the '.'\n     */\n    checkFacets(){\n        let constraint = this.getConstraint();\n        let shapeRef = this.getShapeRef();\n        if(this.facets.length>0){\n             if(constraint.getTypeName()!='Primitive' \n                && constraint.value!='none'){\n                    return constraint+' ';\n                }\n            return '';\n        }\n        return constraint;\n    }\n\n\n\n\n}\n\nexport default Triple;","import Editor from '../entities/editor';\nimport tokenUtils from './tokenUtils';\nimport Prefix from '../entities/shexEntities/shexUtils/prefix';\n\nconst DEFAULT_SHAPE = 'PREFIX wd: <http://www.wikidata.org/entity/>\\n'+\n'PREFIX wdt: <http://www.wikidata.org/prop/direct/>\\n\\n'+\n'<human>{\\n'+\n'  wdt:P31   [wd:Q5] ;\\n'+\n'  wdt:P21   [wd:Q6581097 wd:Q6581072 wd:Q1097630 wd:Q1052281 wd:Q2449503 wd:Q48270]?;\\n'+\n'  wdt:P19   .      ? ;\\n'+\n'  wdt:P569  .      ? ;\\n'+\n'}';\n  \nconst VALUESET_SHAPE = 'PREFIX wd: <http://www.wikidata.org/entity/>\\n'+\n'PREFIX wdt: <http://www.wikidata.org/prop/direct/>\\n\\n'+\n'<human>{\\n'+\n'  wdt:P31   [wd:Q5 wd:Q42]   ;\\n'+\n'}';\n\n  let prefixCount = 0;\n  \n  async function replaceShapes(){\n    let tokens = tokenUtils.getTokens();\n    let defShapes = tokenUtils.getDefinedShapes(tokens);\n    let newShapes = await tokenUtils.getShapes(defShapes);\n\n \n    tokenUtils.updateShapeRefs(newShapes);\n\n    return newShapes;\n  }\n\n function updatePrefixes(prefix){\n    let defined = Editor.getInstance().getYashe().getDefinedPrefixes();\n    let prefixes = [];\n    Object.keys(defined).map(p =>{\n      let id = prefixes.length + prefixCount++;\n      prefixes.push(new Prefix(p,defined[p],id));\n    })\n    return prefixes;\n}\n\nfunction getSchema(){\n    let yashe = Editor.getInstance().getYashe();\n    if(yashe){\n        return yashe.getValue();\n    }\n    return '';\n  }\n\n\n//Get this out\nfunction debounce(func, wait, immediate) {\n    let timeout; let result;\n    return function() {\n        const context = this; \n        const args = arguments;\n        const later = function() {\n        timeout = null;\n        if (!immediate) result = func.apply(context, args);\n        };\n        const callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(context, args);\n        return result;\n    };\n};\n\n const yasheUtils = {\n      DEFAULT_SHAPE:DEFAULT_SHAPE,\n      VALUESET_SHAPE:VALUESET_SHAPE,\n      replaceShapes:replaceShapes,\n      updatePrefixes:updatePrefixes,\n      getSchema:getSchema,\n      debounce:debounce\n  }\n\n  export default yasheUtils;\n","import Codemirror from 'codemirror';\nimport Editor from '../entities/editor';\n\nimport {defaultExample} from '../shapes/defaultExample';\nimport {wikiExample} from '../shapes/wikiExample';\n\nexport function readFile(files){\n    //Only one file allowed\n    if(files.length>1){\n        return;\n    }\n\n    var file = files[0];\n    //Only ShEx files allowed\n    if(!file.name.endsWith('.shex')){\n        return;\n    }\n    var reader = new FileReader();\n    reader.onload = function(event) {\n        Editor.getInstance().getYashe().setValue(event.target.result)\n    };\n\n    reader.readAsText(file);\n    Codemirror.signal(Editor.getInstance().getYashe(),'upload');\n}\n\nexport function downloadFile(){\n    var textFileAsBlob = new Blob([ Editor.getInstance().getYashe().getValue() ], { type: 'text/shex' });\n    var fileNameToSaveAs = \"document.shex\";\n\n    var downloadLink = document.createElement(\"a\");\n    downloadLink.download = fileNameToSaveAs;\n    downloadLink.innerHTML = \"Download File\";\n    if (window.URL != null) {\n        // Chrome allows the link to be clicked without actually adding it to the DOM.\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n    } else {\n        // Firefox requires the link to be added to the DOM before it can be clicked.\n        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n        downloadLink.style.display = \"none\";\n        document.body.appendChild(downloadLink);\n    }\n    downloadLink.click();\n}\n\nexport function changeTheme(){\n    let yashe = Editor.getInstance().getYashe();\n    var themeValue = 'wiki'\n    var color = 'black'\n    if(yashe.getOption('theme') == 'wiki'){\n        themeValue='dark'\n        color = 'white'\n        document.getElementById(\"downloadBtn\").classList.add('light');\n        document.getElementById(\"copyBtn\").classList.add('light');\n        document.getElementById(\"deleteBtn\").classList.add('light');\n        document.getElementById(\"themeBtn\").classList.add('light');\n        document.getElementById(\"smallBtn\").classList.add('light');\n        document.getElementById(\"fullBtn\").classList.add('light');\n        document.getElementById(\"uploadBntLabel\").classList.add('light');\n    }else{\n        document.getElementById(\"downloadBtn\").classList.remove('light');\n        document.getElementById(\"copyBtn\").classList.remove('light');\n        document.getElementById(\"deleteBtn\").classList.remove('light');\n        document.getElementById(\"themeBtn\").classList.remove('light');\n        document.getElementById(\"smallBtn\").classList.remove('light');\n        document.getElementById(\"fullBtn\").classList.remove('light');\n        document.getElementById(\"uploadBntLabel\").classList.remove('light');\n    }\n    \n    yashe.setOption(\"theme\",themeValue)\n    Codemirror.signal(yashe,'themeChange');\n\n}\n\nexport function loadExample(example){\n    let yashe = Editor.getInstance().getYashe();\n    if(example=='default'){\n        yashe.setValue(defaultExample)\n    }else{\n        yashe.setValue(wikiExample)\n    }\n    setTimeout(() => {//needed\n        Codemirror.signal(yashe,'galery');\n    }, 10); \n}\n\nexport function scrollTop(){\n    window.scrollTo(0, 0);\n}\n\n\nexport function undo(){\n    let yashe = Editor.getInstance().getYashe();\n    yashe.undo();\n}\n\nexport function redo(){\n    let yashe = Editor.getInstance().getYashe();\n    yashe.redo();\n}\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport yasheUtils from '../../../utils/yasheUtils';\nimport {undo} from '../../../utils/toolbarUtils';\n\nfunction UndoBtn () {\n\n    const context = useContext(AppContext);\n\n    const handleUndo = function(){\n        undo();\n        setTimeout(() => {//needed\n            context.replaceShapes(yasheUtils.replaceShapes());\n            //context.updatePrefixes(yasheUtils.updatePrefixes());\n        }, 10); \n    }\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                type=\"button\" \n                title=\"Undo\"\n                onClick={handleUndo}>\n                undo\n        </button> );\n    \n  \n}\n\n\nexport default UndoBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nimport {redo} from '../../../utils/toolbarUtils';\nimport yasheUtils from '../../../utils/yasheUtils';\n\nfunction RedoBtn () {\n\n    const context = useContext(AppContext);\n\n    const handleRedo = function(){\n        redo();\n        setTimeout(() => {//needed\n            context.replaceShapes(yasheUtils.replaceShapes());\n            //context.updatePrefixes(yasheUtils.updatePrefixes());\n        }, 10); \n    }\n\n    return (\n        <button className=\"mdc-icon-button material-icons btns\" \n                type=\"button\" \n                title=\"Redo\"\n                onClick={handleRedo}>\n                redo\n        </button> );\n    \n}\n\n\nexport default RedoBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport {readFile} from '../../../utils/toolbarUtils';\n\nfunction UploadBtn () {\n\n    const context = useContext(AppContext);\n\n    const handleRead = function(e){\n        readFile(e.target.files);\n    }\n\n    return (\n        <div className=\"svgBtnCont uploadBtn\">\n            <input  type=\"file\" \n                    onChange={handleRead} \n                    accept=\".shex\" \n                    name=\"file-1[]\" \n                    id=\"file-1\" \n                    className=\"inputfileBtn\" \n                    data-multiple-caption=\"{count}'+'files selected\" \n                    multiple \n                    onChange={handleRead}/>\n\n            <label  className=\"svgBtn\" \n                    htmlFor=\"file-1\"\n                    title=\"Upload\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" \n                        width=\"25\" \n                        height=\"30\" \n                        viewBox=\"0 0 20 17\">\n                        <path d=\"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z\"/>\n                    </svg>\n            </label>\n        </div> );\n    \n  \n}\n\nexport default UploadBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nimport {downloadFile} from '../../../utils/toolbarUtils';\n\nfunction DownloadBtn () {\n\n    const context = useContext(AppContext);\n\n\n    return (\n        <button className=\"svgBtnCont\"\n                type=\"button\" \n                title=\"Download\"\n                onClick={downloadFile}>\n                <svg className=\"svgBtn\" \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    width=\"25\" \n                    height=\"30\" \n                    baseProfile=\"tiny\" \n                    viewBox=\"0 0 100 100\">\n                    <path d=\"M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z\"/>\n                </svg>\n        </button>  );\n    \n  \n}\n\nexport default DownloadBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nimport {changeTheme} from '../../../utils/toolbarUtils';\n\nfunction ChangeThemeBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n         <button  className=\"svgBtnCont\" \n                  type=\"button\" \n                  title=\"Theme\"\n                  onClick={changeTheme}>\n                  <svg className=\"svgBtn\" \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    width=\"25\" \n                    height=\"30\" \n                    viewBox=\"0 0 24 24\">\n                    <path fill=\"none\" d=\"M24 0H0v24h24V0z\"/>\n                    <path d=\"M6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19 0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41 0L6.34 7.93zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z\"/>\n                  </svg>\n        </button>  );\n    \n  \n}\n\nexport default ChangeThemeBtn;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport {loadExample} from '../../../utils/toolbarUtils';\n\nfunction GaleryBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n         <div className=\"dropdown\" title=\"Galery\">\n            <button className=\"dropdown-toggle  \n                            mdc-icon-button material-icons \n                                btns selector\" \n                    type=\"button\" \n                    data-toggle=\"dropdown\">\n                    folder_open\n                    <span className=\"caret\"></span>\n            </button>\n            <ul className='dropdown-menu'>\n                <li>\n                    <div id='prefixesDropdown'>  \n                        <button className=\"form-control\"\n                                onClick={()=>loadExample('default')}>\n                                User\n                        </button>\n                       \n                    </div>\n                </li>\n            </ul>\n        </div>  );\n    \n  \n}\n\nexport default GaleryBtn;\n\n\n/*\n\n <button className=\"form-control\" \n                                onClick={()=>loadExample('wiki')}>\n                                Wikidata\n                        </button>*/","export const defaultExample = \n\n'PREFIX :       <http://example.org/>\\n'+\n'PREFIX schema: <http://schema.org/>\\n'+\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n\\n'+\n\n':User IRI {\\n'+\n  'schema:name          xsd:string  ;\\n'+\n  'schema:birthDate     xsd:date?  ;\\n'+\n  'schema:birthPlace    xsd:string+  ;\\n'+\n  'schema:knows          @:User*  \\n'+\n'}\\n';\n","\nexport const wikiExample = \n'PREFIX wd: <http://www.wikidata.org/entity/>\\n'+\n'PREFIX wdt:  <http://www.wikidata.org/prop/direct/>\\n'+\n'PREFIX p:    <http://www.wikidata.org/prop/>\\n'+\n'PREFIX prov:    <http://www.w3.org/ns/prov#>\\n'+\n'PREFIX pq:    <http://www.wikidata.org/prop/qualifier/>\\n'+\n'PREFIX xsd:    <http://www.w3.org/2001/XMLSchema#>\\n'+\n'PREFIX prv:    <http://www.wikidata.org/prop/reference/value/>\\n'+\n'PREFIX pr:    <http://www.wikidata.org/prop/reference/>\\n'+\n'PREFIX ps:    <http://www.wikidata.org/prop/statement/>\\n'+\n'PREFIX interpro:    <http://micel.io/genewiki/interpro/>\\n\\n'+\n\n'<#wikidata-human-protein>  {\\n'+\n  'p:P703           @<#P703_found_in_taxon_human>  ;\\n'+\n  'p:P352           @<#P352_uniprot_id>+  ;\\n'+\n  'p:P527           @<#P527_has_part>*  ;\\n'+\n  'p:P637           @<#P637_RefSeq_Protein_ID>*  ;\\n'+\n  'p:P639           @<#P639_RefSeq_RNA_ID>*  ;\\n'+\n'}\\n\\n'+\n\n'<#P703_found_in_taxon_human>  {\\n'+\n  'ps:P703          wd:Q15978631   ;\\n'+\n  'prov:wasDerivedFrom          IRI +  ;\\n'+\n'}\\n\\n'+\n\n'<#P352_uniprot_id>  {\\n'+\n  'ps:P352          Literal   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n'+\n\n'<#P527_has_part>  {\\n'+\n  'ps:P527          IRI   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n'+\n\n'<#P637_RefSeq_Protein_ID>  {\\n'+\n  'ps:P637          Literal   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n'+\n\n'<#P639_RefSeq_RNA_ID>  {\\n'+\n  'ps:P637          Literal   ;\\n'+\n  'prov:wasDerivedFrom          IRI   ;\\n'+\n'}\\n\\n';\n\n","import React,{useContext} from 'react';\nimport Codemirror from 'codemirror';\nimport {AppContext} from '../../../App';\nimport  Editor from '../../../entities/editor';\n\nfunction DeleteAllBtn () {\n\n    const context = useContext(AppContext);\n\n    const  deleteShapes = function(){\n        if(window.confirm('Are you sure?')){\n            //Needed for visualize\n            setTimeout(() => {\n                context.replaceShapes([]);    \n            }, 10);\n            // We can't do emit() because it takes \n            // like another call to change shapes state\n            // I don't know exactly the reason...\n            // It's something about react state\n            let yashe = Editor.getInstance().getYashe();\n            yashe.setValue('');\n            Codemirror.signal(yashe,'delete');\n        }\n    }\n\n\n    return (\n         <button className=\"mdc-icon-button material-icons btns\" \n                 title=\"Delete all\"\n                 onClick={deleteShapes}>\n                 delete_outline\n            </button>  );\n    \n  \n}\n\nexport default DeleteAllBtn;\n\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport  Editor from '../../../entities/editor';\nimport {scrollTop} from '../../../utils/toolbarUtils';\n\nfunction ScrollBtn () {\n\n    const context = useContext(AppContext);\n\n    return (\n         <button className=\"mdc-icon-button material-icons btns\" \n                 type=\"button\" \n                 title=\"Up\"\n                 onClick={scrollTop}>\n                 arrow_upward\n        </button>   );\n    \n  \n}\n\nexport default ScrollBtn;\n\n\n\n\n","import React, {useContext} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../App'; \nimport AssistBtn from './toolbar/AssistBtn';\nimport VisualizeBtn from './toolbar/VisualizeBtn';\nimport UndoBtn from './toolbar/UndoBtn';\nimport RedoBtn from './toolbar/RedoBtn';\nimport UploadBtn from './toolbar/UploadBtn';\nimport DownloadBtn from './toolbar/DownloadBtn';\nimport ChangeThemeBtn from './toolbar/ChangeThemeBtn';\nimport GaleryBtn from './toolbar/GaleryBtn';\nimport DeleteAllBtn from './toolbar/DeleteAllBtn';\nimport ScrollBtn from './toolbar/ScrollBtn';\n\nimport '../../css/navComponents/Toolbar.css';\n\n\nfunction Toolbar () {\n\n    const context = useContext(AppContext);\n\n    return (\n    <Collapse isOpen={context.isToolBarOpen} className=\"col-xs-1 toolbarCollapse\">\n        <div className='toolbar'>\n                <div className='toolbarTop'>                    \n                    <AssistBtn/>\n                    <VisualizeBtn/>\n                    <UndoBtn/>\n                    <RedoBtn/>\n                    <UploadBtn/>\n                    <DownloadBtn/>\n                    <ChangeThemeBtn/>\n                    <GaleryBtn/>\n                    <DeleteAllBtn/>\n                </div>                     \n\n                <div className='toolbarBottom'>\n                    <ScrollBtn/> \n                </div>\n        </div>\n    </Collapse>);\n    \n    \n}\n\n\nexport default Toolbar;\n","export function makeItResponsive(width){\n        \n        //TimeOut need to take all the elements after render the DOM\n        setTimeout(() => {\n        let tabs = document.getElementsByClassName(\"xs-tabs\")[0];\n        let shapeHeaders = document.getElementsByClassName(\"xs-header\");\n        let tripleHeaders = document.getElementsByClassName(\"xs-tripleHeader\");\n        let addTripleBtns = document.getElementsByClassName(\"xs-addTripleButton\");\n        let addShapeBtns = document.getElementsByClassName(\"xs-addShapeButton\");\n        let grids = document.getElementsByClassName(\"xs-gridBox\");\n        let customs = document.getElementsByClassName(\"xs-customConstraint\");\n        let prefixes = document.getElementsByClassName(\"xs-prefixHeader\");\n        let prefixesColors = document.getElementsByClassName(\"xs-prefixHeaderColors\");\n        let pickers = document.getElementsByClassName(\"xs-pickers\");\n\n        let tabClass = 'xs-tabs';\n        let shClass = 'xs-header';\n        let thClass = 'xs-tripleHeader';\n        let adTClass = 'xs-addTripleButton';\n        let adSClass = 'xs-addShapeButton';\n        let grClass = 'xs-gridBox';\n        let ccClass = 'xs-customConstraint';\n        let prClass = 'xs-prefixHeader';\n        let prcClass = 'xs-prefixHeaderColors';\n        let picClass = 'xs-pickers';\n        if(width>600){\n            tabClass += ' tabs';\n            shClass += ' header';\n            thClass += ' tripleHeader';\n            adTClass += ' addTripleButton';\n            adSClass += ' addShapeButton';\n            grClass  += ' gridBox';\n            ccClass += ' customConstraint';\n            prClass += ' prefixHeader';\n            prcClass += ' prefixHeaderColors';\n            picClass += ' pickers';\n        }\n\n        \n        tabs.className = tabClass;\n        for(let i=0;i<shapeHeaders.length;i++){\n            shapeHeaders[i].className = shClass;\n        }\n\n        for(let i=0;i<tripleHeaders.length;i++){\n            tripleHeaders[i].className = thClass;\n        }\n\n        for(let i=0;i<addTripleBtns.length;i++){\n            addTripleBtns[i].className = adTClass;\n        }\n\n        for(let i=0;i<addShapeBtns.length;i++){\n            addShapeBtns[i].className = adSClass;\n        }\n\n        for(let i=0;i<grids.length;i++){\n            grids[i].className = grClass;\n        }\n\n        for(let i=0;i<customs.length;i++){\n            customs[i].className = ccClass;\n        }\n\n        for(let i=0;i<prefixes.length;i++){\n            prefixes[i].className = prClass;\n        }\n\n        for(let i=0;i<prefixesColors.length;i++){\n            prefixesColors[i].className = prcClass;\n        }\n\n        for(let i=0;i<pickers.length;i++){\n            pickers[i].className = picClass;\n        }\n\n    }, 0);\n        \n}\n\nexport function activeTab(evt){\n        let i;\n        let tablinks;\n\n        tablinks = document.getElementsByClassName(\"tablink\");\n        for (i = 0; i < tablinks.length; i++) {\n            tablinks[i].className = tablinks[i].className.replace(\" activeTab\", \"\");\n        }\n        evt.currentTarget.className += \" activeTab\";\n}\n\n\nexport function checkShapeName(shape){\n    let name = shape.type.value;\n    let type = shape.type.getTypeName();\n    let id = shape.id;  \n    setTimeout(() => {\n        /*\n        if(!name.match(new RegExp('^[a-zA-Z0-9_.-]*$')) && type == 'prefixedIri'){\n            return changeClass('sTriples'+id,'hidden');\n        }\n        */\n\n        if(name =='')return changeClass('addTriple'+id,'disabled');\n        \n\n        changeClass('addTriple'+id,'addTripleButton');\n\n    }, 0);\n        \n}\n\n\nfunction changeClass(before,after){\n    let triples = document.getElementsByClassName(before)[0];\n    if(triples)triples.className = before+' '+after;\n    \n}\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport {AssistContext} from '../Assistant';\nimport {activeTab} from '../../../utils/cssUtils';\n\nfunction AssistTitle (props) {\n\n    const context = useContext(AppContext);\n    const asssistContext = useContext(AssistContext);\n\n    const handleShapes = function(evt){\n        closeAll();\n        asssistContext.setAssistOpen(true);\n        activeTab(evt);\n    }\n\n    const handlePrefixes = function(evt){\n        closeAll();\n        asssistContext.setPrefixesOpen(true);\n        activeTab(evt);\n    }\n\n    const handleColors = function(evt){\n        closeAll();\n        asssistContext.setColorsOpen(true);\n        activeTab(evt);\n    }\n\n    const handleConfig = function(evt){\n        closeAll();\n        asssistContext.setConfigOpen(true);\n        activeTab(evt);\n    }\n\n    const closeAll = function(){\n        asssistContext.setAssistOpen(false);\n        asssistContext.setPrefixesOpen(false);\n        asssistContext.setColorsOpen(false);\n        asssistContext.setConfigOpen(false);\n    }\n\n    \n   \n    return (<div className=\"xs-tabs\">\n                <button className=\"tablink activeTab\" \n                        title=\"Wiki Assistant\" \n                        onClick={(e)=>handleShapes(e)}>\n                        Wiki Assistant\n                </button>\n                <button className=\"tablink\" \n                        title=\"Prefixes\" \n                        onClick={(e)=>handlePrefixes(e)}>\n                        Prefixes \n                </button>\n                <button className=\"tablink material-icons\" \n                        title=\"Colors\" \n                        onClick={(e)=>handleColors(e)}>\n                        format_paint\n                </button>\n\n                <button className=\"tablink material-icons\" \n                        title=\"Config\" \n                        onClick={(e)=>handleConfig(e)}>\n                        settings\n                </button>\n       \n                <div className=\"asisTitleClose\">\n                    <button className=\"closeAsisBtn\" \n                            title=\"Close Assistant\" \n                            onClick={context.assistantToggle}>x</button>\n                </div>\n                \n            </div>);\n}\n\n\nexport default AssistTitle;\n\n","export const SHAPE_COLORS = {\n        label:'#222',\n        header:'#C6E2FF',\n        delete:'#79aff5',\n        deleteFill:'#FFFFFF',\n        collapse:'#222',\n        body:'#EBF4FF',\n        addTriple:'#EFDECD',\n        addTripleFill:'#222',\n        addShape:'#ddeafa',\n        addShapeFill:'#222',\n};\n\nexport const TRIPLE_COLORS = {\n        label:'#222',\n        header:'#EFDECD',\n        constraint:'#3d3d3d',\n        constraintFill:'#b1e086',\n        cardinality:'#3d3d3d',\n        cardinalityFill:'#f7adea',\n        delete:'#f8a252',\n        deleteFill:'#ffff',\n        collapse:'#222',\n        body:'#EFE8E1'\n};\n\nexport const CONSTRAINT_COLORS = {\n        label:'#222',\n        body:'#E8FAE4',\n        add:'#ffff',\n        addFill:'#222',\n        delete:'#a1db6a',\n        deleteFill:'#ffff',\n};\n\n\n\nexport const CARDINALITY_COLORS = {\n        label:'#222',\n        body:'#fae2f8',\n};\n\nexport const PREFIX_COLORS = {\n        label:'#222',\n        header:'#fdd5d5',\n        add:'#fdd5d5',\n        addFill:'#222',\n        delete:'#222',\n        deleteFill:'#ffff',\n        specialLabel:'#222',\n        body:'#FDEBEB'\n};\n","import React,{useState,useContext} from 'react';\nimport { useCookies } from 'react-cookie';\nimport {SHAPE_COLORS,\n        TRIPLE_COLORS,\n        CONSTRAINT_COLORS,\n        CARDINALITY_COLORS,\n        PREFIX_COLORS} from './colors';\n\nimport {DEFAULTS} from './config'       ;\n//Singleton Pattern\nconst Properties = (()=> {\n\n    function PropertyClass(){\n\n        const [cookies, setCookie,removeCookie] = useCookies('colors');\n       \n        this.getShapeStyle = function(){\n            return {\n                label:{color:SHAPE_COLORS.label},\n                header:{background:SHAPE_COLORS.header},\n                delete:{\n                        color:SHAPE_COLORS.deleteFill,\n                        background:SHAPE_COLORS.delete\n                },\n                collapse:{color:SHAPE_COLORS.collapse},\n                body:{background:SHAPE_COLORS.body},\n                addTriple:{\n                        color:SHAPE_COLORS.addTripleFill,\n                        background:SHAPE_COLORS.addTriple\n                },\n                addShape:{\n                        color:SHAPE_COLORS.addShapeFill,\n                        background:SHAPE_COLORS.addShape\n                },\n            };  \n        }\n\n        this.getTripleStyle = function(){\n            return {      \n                label:{color:TRIPLE_COLORS.label}, \n                header:{background:TRIPLE_COLORS.header},\n                constraint:{\n                        color:TRIPLE_COLORS.constraintFill,\n                        background:TRIPLE_COLORS.constraint\n                },\n                cardinality:{\n                        color:TRIPLE_COLORS.cardinalityFill,\n                        background:TRIPLE_COLORS.cardinality\n                },\n                delete:{\n                        color:TRIPLE_COLORS.deleteFill,\n                        background:TRIPLE_COLORS.delete\n                },\n                collapse:{color:TRIPLE_COLORS.collapse},\n                body:{background:TRIPLE_COLORS.body},\n            }\n        }\n\n        this.getConstraintStyle = function(){\n            return {\n                label:{color:CONSTRAINT_COLORS.label}, \n                body:{background:CONSTRAINT_COLORS.body},\n                add:{\n                        color:CONSTRAINT_COLORS.addFill,\n                        background:CONSTRAINT_COLORS.add\n                },\n                delete:{\n                        color:CONSTRAINT_COLORS.deleteFill,\n                        background:CONSTRAINT_COLORS.delete\n                },\n            };  \n        }\n\n        this.getCardinalityStyle = function(){\n            return {\n                label:{color:CARDINALITY_COLORS.label},\n                body:{background:CARDINALITY_COLORS.body}\n            };  \n        }\n\n        this.getCardinalityStyle = function(){\n            return {\n                label:{color:CARDINALITY_COLORS.label},\n                body:{background:CARDINALITY_COLORS.body}\n            };  \n        }\n\n        this.getPrefixStyle = function(){\n            return {\n                label:{color:PREFIX_COLORS.label},\n                header:{background:PREFIX_COLORS.header},\n                delete:{\n                        color:PREFIX_COLORS.deleteFill,\n                        background:PREFIX_COLORS.delete\n                },\n                add:{\n                        color:PREFIX_COLORS.addFill,\n                        background:PREFIX_COLORS.add\n                },\n                specialLabel:{color:PREFIX_COLORS.specialLabel},\n                body:{background:PREFIX_COLORS.body}\n            };  \n        }\n\n\n\n\n        this.loadCookies = function(){\n            //Colors\n            this.loadCookie('shapeColors',SHAPE_COLORS);\n            this.loadCookie('tripleColors',TRIPLE_COLORS);\n            this.loadCookie('constraintColors',CONSTRAINT_COLORS);\n            this.loadCookie('cardinalityColors',CARDINALITY_COLORS);\n\n            //Config\n            this.loadCookie('conf',DEFAULTS);\n            \n         }\n\n        this.loadCookie = function(cookie,namespace){\n            let properties = cookies[cookie];\n            if(!properties){\n                setCookie(cookie, namespace, { path: '/' });\n            }else{\n                this.load(properties,namespace);\n            }\n        }\n\n        this.load = function(propeties,namespace){\n            //namespace = colors; It doesn't work\n            Object.keys(propeties).map(c=>{\n                //console.log(propeties[c])\n                namespace[c]=propeties[c];\n            });\n        }\n\n\n        this.removeCookies = function(){\n            //Colors\n            removeCookie('shapeColors');\n            removeCookie('tripleColors');\n            removeCookie('constraintColors');\n            removeCookie('shapeRefColors');\n            removeCookie('cardinalityColors');\n            removeCookie('cardinalityColors');\n            //Config\n            removeCookie('conf');\n        }\n\n        this.saveDefaults = function(){\n            //Colors\n            this.defaultShape = Object.assign({}, SHAPE_COLORS);\n            this.defaultTriple = Object.assign({}, TRIPLE_COLORS);\n            this.defaultConstraint = Object.assign({}, CONSTRAINT_COLORS);\n            this.defaultCardinality = Object.assign({}, CARDINALITY_COLORS);\n            //Config\n            this.defaultConfig = Object.assign({}, DEFAULTS);\n        }\n\n        this.restoreDefaultColors = function(){\n            this.load(this.defaultShape,SHAPE_COLORS);\n            this.load(this.defaultTriple,TRIPLE_COLORS);\n            this.load(this.defaultConstraint,CONSTRAINT_COLORS);\n            this.load(this.defaultCardinality,CARDINALITY_COLORS);\n            this.removeCookies();\n        }\n\n        this.restoreDefaultConfig = function(){\n            this.load(this.defaultConfig,DEFAULTS);\n            this.removeCookies();\n        }\n\n        this.saveDefaults();\n        this.loadCookies();                \n    }\n\n   \n\n    let instance;\n\n    return{\n        getInstance: ()=>{\n            if(!instance){\n                instance = new PropertyClass();\n            }\n            return instance;\n        }\n\n    }\n\n})();\n\n\nexport default Properties;","import React,{useState,useContext} from 'react';\nimport { Textbox } from 'react-inputs-validation';\nimport {AppContext} from '../../../../../../App';\nimport {ShapeContext} from '../ShapeComponent';\nimport {PN_LOCAL,IRI_REF} from '../../../../../../utils/regExpUtils';\nimport '../../../../../../css/shexComponents/headers/ShapeHeader.css';\nimport Properties from '../../../../../../conf/properties';\n\nfunction ShapeHeader (props) {\n\n    const context = useContext(AppContext);\n    const shapeContext = useContext(ShapeContext);\n    const disabled = shapeContext ? shapeContext.disabled : false;\n    const styles = Properties.getInstance().getShapeStyle();\n    \n    const {shape,collapseTriples,colapseBtn} = props;\n    const [name,setName] = useState(shape.type.value);\n\n    let initialRegExp = new RegExp(\"^\" +PN_LOCAL);\n    if(shape.type.getTypeName()=='iriRef') initialRegExp = new RegExp(\"^\" +IRI_REF);;\n    const [regExp,setRegExp] = useState(initialRegExp);\n\n    const handleChange = function(name){\n        shape.type.setValue(name);\n        context.emit();\n        setName(name);\n    }\n\n    const handleKeyUp = function(e){\n        if(e.target.value==''){\n            shapeContext.setDisabled(true);\n        }else{\n            shapeContext.setDisabled(false);\n        }\n    }\n\n    \n    return (\n        <div className='xs-header' style={styles.header}>            \n            <label style={styles.label}>Shape</label>\n            <Textbox \n                    attributesInput={{ \n                        id: shape.id,\n                        name: 'Name',\n                        type: 'text',\n                        placeholder: 'eg: User',\n                    }}\n                    value={name} \n                    onChange={(e)=>handleChange(e)}\n                    onKeyUp={(e)=>handleKeyUp(e)}\n                    validationOption={{\n                        reg: regExp, \n                        regMsg: 'Invalid name'\n                    }}\n                    title=\"Shape Name\"\n                    /> \n\n            <button className=\"deleteShapeBtn mdc-icon-button material-icons\" \n                    style={styles.delete}\n                    onClick={()=>context.deleteShape(shape.id)}\n                    title=\"Delete Shape\">\n                    delete\n            </button>\n            \n\n            <button className=\"collapseBtn mdc-icon-button material-icons\" \n                    style={styles.collapse}\n                    onClick={collapseTriples} \n                    disabled={disabled}\n                    title=\"Triple Constraints\">\n                    {colapseBtn}\n            </button>\n        </div>\n    );\n                                   \n    \n}\n\n\nexport default ShapeHeader;\n\n/*\n\n<input  type=\"text\" \n                    className={\"sName\"+shape.id+\" name\"}\n                    value={name}\n                    onChange={handleChange}\n                    placeholder=\"eg: User\"\n                    title=\"Shape Name\"/>\n*/","import React,{useState,useContext,useEffect} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport {ShapeContext} from '../ShapeComponent';\nimport yasheUtils from '../../../../../../utils/yasheUtils';\nimport Properties from '../../../../../../conf/properties';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\nimport Prefix from '../../../../../../entities/shexEntities/shexUtils/prefix';\nimport '../../../../../../css/shexComponents/headers/TripleHeader.css';\nimport $ from 'jquery';\n\nconst primitives = ['String','Integer','Date','Boolean','Custom'];\n\n\nvar API_ENDPOINT = 'https://www.wikidata.org/w/';\nvar QUERY = {\n\n  action:'wbsearchentities',\n  language:(navigator.language || navigator.userLanguage).split(\"-\")[0],\n  continue:0,\n  limit:10,\n  format: 'json',\n}\n\nfunction TripleHeader (props) {\n        \n\n    const context = useContext(AppContext);\n    const shapeContext = useContext(ShapeContext);\n    const styles = Properties.getInstance().getTripleStyle();\n    const disabled = shapeContext.disabled;\n\n    const { triple,\n            deleteTriple,\n            customizeRef,\n            customizeContraints,\n            customizeCardinality,\n            collapseToggle,\n            colapseBtn\n            } = props;\n\n\n    const [name,setName] = useState([{id:triple.type.value,label:triple.label}]);\n    const [options,setOptions] = useState([]);\n    const [isLoading,setLoading] = useState(false);\n\n    const handleNameChange = function(selected){\n        if(selected.length>0){\n                triple.type.prefix = new Prefix('wd','http://www.wikidata.org/entity/')\n                triple.type.setValue(selected[0].id);\n                context.emit();\n        }\n        \n    }\n\n    const MenuItem = ({item}) => (\n        <div className='hintItem'>\n            <span>{item.id}</span><br/>\n            <span>{item.label}</span><br/>\n            <span><b>{item.descr}</b></span>\n        </div>\n    );\n\n\n    return (\n        <div className=\"xs-tripleHeader\" style={styles.header}>\n\n               \n\n                    \n                <AsyncTypeahead\n                        id=\"InputEntityByText\"\n                        isLoading={isLoading}\n                        labelKey=\"label\"\n                        maxResults = {10}\n                        minLength={1}\n                        renderMenuItemChildren={(option, props) => (\n                                <MenuItem key={option.id} item={option}/>\n                        )}\n                        onSearch={(query) => {\n                        setLoading(true);\n                        QUERY.search = query;\n                        QUERY.type = 'property';\n                        $.get({\n                                url: API_ENDPOINT + 'api.php?' + $.param(QUERY),\n                                dataType: 'jsonp',\n                        }).done((data)=>{\n                                let hints=[];\n                                let results = data.search;\n                                if(results){\n                                        Object.keys(results).map(d=>{\n                                                hints.push({id:results[d].id,label:results[d].label,descr:results[d].description})\n                                        })\n                                }\n\n                                setOptions(hints);\n                                setLoading(false);\n                        })\n                        \n                        }}\n                        onChange={(selected) => {\n                                handleNameChange(selected);\n                        }}\n                        defaultSelected={name}\n                        options={options}\n                />\n    \n\n\n            <button className=\"tripleBtns buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons\"\n                    style={styles.constraint}\n                    onClick={customizeContraints}\n                    disabled={disabled} \n                    title=\"Customize Entities\">\n                    build\n            </button>\n\n       \n\n           \n            <button className=\"tripleBtns buildCardinality buildBtn buildTripleBtn mdc-icon-button material-icons\" \n                    style={styles.cardinality}\n                    onClick={customizeCardinality}\n                    disabled={disabled} \n                    title=\"Customize Cardinality\">\n                    build\n            </button>\n\n            <button className=\"tripleBtns deleteTripleBtn mdc-icon-button material-icons\"\n                    style={styles.delete}\n                    onClick={()=>deleteTriple(triple.id)}\n                    disabled={disabled} \n                    title=\"Delete Property\">\n                    delete\n            </button>\n\n            <button className=\"collapseBtn mdc-icon-button material-icons\" \n                    style={styles.collapse}\n                    onClick={collapseToggle}\n                    disabled={disabled} \n                    title=\"Customize all\">\n                    {colapseBtn}\n            </button>\n        </div>\n    );\n                                   \n    \n}\n\n\nexport default TripleHeader;\n\n","import React,{useState,useContext} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../../../../App';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\nimport Properties from '../../../../../../../conf/properties';\nimport Prefix from '../../../../../../../entities/shexEntities/shexUtils/prefix';\nimport $ from 'jquery';\n\n\nvar API_ENDPOINT = 'https://www.wikidata.org/w/';\nvar QUERY = {\n\n  action:'wbsearchentities',\n  language:(navigator.language || navigator.userLanguage).split(\"-\")[0],\n  continue:0,\n  limit:10,\n  format: 'json',\n}\n\nfunction SingleConstraint (props) {\n\n    const context = useContext(AppContext);\n    const {triple} = props;\n    const styles = Properties.getInstance().getConstraintStyle();\n\n    let init = '';\n    if(triple.constraint){\n        init = triple.constraint.value=='none' ?  '' : triple.constraint.value;\n    }\n\n    if(init == ''){\n       if(triple.shapeRef.shape != null){\n            triple.setConstraint('blankType');\n        }\n    }\n   \n    const [name,setName] = useState([{id:init,label:triple.cLabel}]);\n    const [options,setOptions] = useState([]);\n    const [isLoading,setLoading] = useState(false);\n\n\n    const handleNameChange = function(selected){\n        if(selected.length>0){\n            triple.setConstraint('prefixedIri');\n            triple.constraint.prefix = new Prefix('wd','http://www.wikidata.org/entity/')\n            triple.constraint.setValue(selected[0].id);\n            triple.cLabel = selected[0].label;\n            context.emit();\n        }\n    }\n\n    const MenuItem = ({item}) => (\n        <div className='hintItem'>\n            <span>{item.id}</span><br/>\n            <span>{item.label}</span><br/>\n            <span><b>{item.descr}</b></span>\n        </div>\n    );\n\n\n\n    return (        \n            <div className='xs-gridBox'>\n                    <label className='gridLabel' style={styles.label}>Entity</label>\n                    <AsyncTypeahead\n                        id=\"InputEntityByText\"\n                        isLoading={isLoading}\n                        labelKey=\"label\"\n                        maxResults = {10}\n                        minLength={1}\n                        renderMenuItemChildren={(option, props) => (\n                                <MenuItem key={option.id} item={option}/>\n                        )}\n                        onSearch={(query) => {\n                        setLoading(true);\n                        QUERY.search = query;\n                        $.get({\n                                url: API_ENDPOINT + 'api.php?' + $.param(QUERY),\n                                dataType: 'jsonp',\n                        }).done((data)=>{\n                                let hints=[];\n                                let results = data.search;\n                                if(results){\n                                        Object.keys(results).map(d=>{\n                                                hints.push({id:results[d].id,label:results[d].label,descr:results[d].description})\n                                        })\n                                }\n\n                                setOptions(hints);\n                                setLoading(false);\n                        })\n                        \n                        }}\n                        onChange={(selected) => {\n                                handleNameChange(selected);\n                        }}\n                        defaultSelected={name}\n                        options={options}\n                />\n        </div>\n    );\n                                   \n    \n}\n\n\nexport default SingleConstraint;\n\n","import React,{useState,useContext,useEffect} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../../../../App';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\nimport Properties from '../../../../../../../conf/properties';\nimport Prefix from '../../../../../../../entities/shexEntities/shexUtils/prefix';\nimport $ from 'jquery';\n\n\nvar API_ENDPOINT = 'https://www.wikidata.org/w/';\nvar QUERY = {\n\n  action:'wbsearchentities',\n  language:(navigator.language || navigator.userLanguage).split(\"-\")[0],\n  continue:0,\n  limit:10,\n  format: 'json',\n}\n\nfunction MultiConstraint (props) {\n\n    const context = useContext(AppContext);\n    const {valueSet,deleteValue} = props;\n    const styles = Properties.getInstance().getConstraintStyle();\n\n\n    const [name,setName] = useState([{id:valueSet.type.value,label:valueSet.label}]);\n    const [options,setOptions] = useState([]);\n    const [isLoading,setLoading] = useState(false);\n\n\n    const handleNameChange = function(selected){\n        if(selected.length>0){\n            valueSet.setType('prefixedIri');\n            valueSet.type.prefix = new Prefix('wd','http://www.wikidata.org/entity/')\n            valueSet.type.setValue(selected[0].id);\n            valueSet.label = selected[0].label;\n            context.emit();\n        }\n    }\n\n\n    const MenuItem = ({item}) => (\n        <div className='hintItem'>\n            <span>{item.id}</span><br/>\n            <span>{item.label}</span><br/>\n            <span><b>{item.descr}</b></span>\n        </div>\n    );\n\n\n\n    return (        \n            <div className='xs-gridBox-constraint'>\n                    <label className='gridLabel' style={styles.label}>Entity</label>\n                    <AsyncTypeahead\n                        id=\"InputEntityByText\"\n                        isLoading={isLoading}\n                        labelKey=\"label\"\n                        maxResults = {10}\n                        minLength={1}\n                        renderMenuItemChildren={(option, props) => (\n                                <MenuItem key={option.id} item={option}/>\n                        )}\n                        onSearch={(query) => {\n                        setLoading(true);\n                        QUERY.search = query;\n                        $.get({\n                                url: API_ENDPOINT + 'api.php?' + $.param(QUERY),\n                                dataType: 'jsonp',\n                        }).done((data)=>{\n                                let hints=[];\n                                let results = data.search;\n                                if(results){\n                                        Object.keys(results).map(d=>{\n                                                hints.push({id:results[d].id,label:results[d].label,descr:results[d].description})\n                                        })\n                                }\n\n                                setOptions(hints);\n                                setLoading(false);\n                        })\n                        \n                        }}\n                        onChange={(selected) => {\n                                handleNameChange(selected);\n                        }}\n                        defaultSelected={name}\n                        options={options}\n                />\n                <button className=\"valueSetBtns deleteTripleBtn mdc-icon-button material-icons\"\n                    style={styles.delete}\n                    onClick={()=>deleteValue(valueSet.id)}\n                    title=\"Delete Entity\">\n                    delete\n            </button>\n        </div>\n    );\n                                   \n    \n}\n\n\nexport default MultiConstraint;\n\n","import React,{useState,useContext,useEffect} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../../../App';\nimport {AsyncTypeahead} from 'react-bootstrap-typeahead';\nimport Properties from '../../../../../../conf/properties';\nimport Prefix from '../../../../../../entities/shexEntities/shexUtils/prefix';\nimport shexUtils from '../../../../../../utils/shexUtils';\nimport SingleConstraint from './const/SingleConstraint';\nimport MultiConstraint from './const/MultiConstraint';\nimport $ from 'jquery';\n\n\nfunction ConstraintCont (props) {\n\n    const context = useContext(AppContext);\n    const {triple} = props;\n    const styles = Properties.getInstance().getConstraintStyle();\n    const [type,setType] = useState(triple.constraint.getTypeName());\n\n    let initValues = [];\n    if(type =='valueSet'){\n        initValues = triple.constraint.values;\n    }\n    const [values,setValues] = useState(initValues);\n   \n    const deleteValue= function(id){\n        const newValues = values.filter(v => v.id != id);\n        setValues(newValues);\n        triple.constraint.setValues(newValues);\n        context.emit(); \n    }\n\n    const addValue = function(){\n        const value = shexUtils.addValueSetValue(triple.constraint.values);\n        setValues([...values,value]);\n        triple.constraint.addValue(value);\n        context.emit(); \n    }\n\n    const addValueSet = function(){\n        const prevValue = triple.constraint.value;\n        const prevLabel = triple.cLabel;\n        triple.setConstraint('valueSet');\n        setType('valueSet');\n        let value = shexUtils.addValueSetValue(triple.constraint.values);\n        value.type.value = prevValue;\n        value.label = prevLabel;\n        triple.constraint.addValue(value);\n        \n        value = shexUtils.addValueSetValue(triple.constraint.values);\n        triple.constraint.addValue(value);\n\n        setValues(triple.constraint.values);\n        context.emit(); \n    }\n\n\n    \n\n    if(type =='valueSet'){\n        return (\n                <div style={styles.body}>\n\n                {\n                    values.map(c=>{\n                        return   <MultiConstraint valueSet={c} key={c.id} deleteValue={deleteValue}/>\n                    })\n                }\n                        \n                    <div className='xs-gridBox'> \n                        <button    className=\"xs-addConstraintButton\"\n                                    style={styles.add} \n                                    onClick={addValue} \n                                    title=\"Add Entity\">\n                                    + Entity\n                        </button>     \n                    </div>                               \n                </div>\n  \n    );\n   \n    }\n\n\n     return (\n                <div style={styles.body}>\n                    <SingleConstraint triple={triple} />\n                    <div className='xs-gridBox'> \n                        <button    className=\"xs-addConstraintButton\"\n                                    style={styles.add} \n                                    onClick={addValueSet} \n                                    title=\"Add Triple\">\n                                    + Constraint\n                        </button>\n                    </div>         \n                                               \n                </div>\n  \n    );\n    \n\n\n\n\n\n    \n                                   \n    \n}\n\n\nexport default ConstraintCont;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport { Collapse } from 'reactstrap';\nimport NumericInput from 'react-numeric-input';\nimport Properties from '../../../../../../conf/properties';\n\nfunction CardinalityComp (props) {\n    \n        const {triple} = props;\n        const context = useContext(AppContext);\n        const styles = Properties.getInstance().getCardinalityStyle();\n\n        let cardValue = triple.cardinality.getCardType();\n        let initialExactly = false;\n        let initialRange = false;\n        let initialMin = 1;\n        let initialMax = 10;\n        if(cardValue.length>1){ //not simple card\n                initialMin = triple.cardinality.min;\n                if(cardValue == 'exactly' || cardValue == 'minLimit'){\n                        initialExactly = true;\n                }\n                if(cardValue == 'range'){\n                        initialRange = true;\n                        initialMax = triple.cardinality.max;\n                }\n                \n         \n        }\n\n        const [cardinality,setCardinality] = useState(cardValue);\n        const [isExactly,setExactly] = useState(initialExactly);\n        const [isRange,setRange] = useState(initialRange);\n        const [min,setMin] = useState(initialMin);\n        const [max,setMax] = useState(initialMax);\n\n        const handleCardinalityChange = function(e){\n                let newCardinality = e.target.value;\n                triple.setCardinality(newCardinality);\n                context.emit();\n                setCardinality(newCardinality)\n                setExactly(false);\n                setRange(false);\n                checkCollapses(newCardinality);\n        }\n\n        const checkCollapses = function(card){\n                if(card == 'exactly' || card == 'minLimit' ){\n                        setMin(1);\n                        setExactly(true);\n                }\n\n                if(card == 'range'){\n                        setMin(1);\n                        setMax(10);\n                        setRange(true);\n                }\n        }\n\n\n\n        const handleMinChange = function(valueAsNumber,kind){\n                triple.setCardinality(kind,valueAsNumber,max);\n                context.emit();\n                setMin(valueAsNumber);\n        }\n\n        const handleMaxChange = function(valueAsNumber){\n                triple.setCardinality('range',min,valueAsNumber);\n                context.emit();\n                setMax(valueAsNumber);\n        }\n\n        return ( \n                <div className=\" xs-gridBox\" style={styles.body}>\n                        <label className='gridLabel' style={styles.label}>Cardinality</label>\n                        <select className=\"customSelector\" \n                                value={cardinality} \n                                onChange={handleCardinalityChange} \n                                title=\"Cardinality\">\n                                <option value=\"\">Exactly one</option>\n                                <option value=\"*\">Zero or more</option>\n                                <option value=\"+\">One at least</option>\n                                <option value=\"?\">One or none</option>\n                                <option value=\"exactly\">Exactly value</option>\n                                <option value=\"minLimit\">Inferior Limit</option>\n                                <option value=\"range\">Range</option>\n                        </select> \n\n                    \n                        <Collapse isOpen={isExactly} className=\"rangeCardinality\">\n                                <label className=\"tripleNameLabel\" style={styles.label}>Value</label>\n                                <NumericInput   className=\"form-control\" \n                                                min={0} \n                                                value={min}\n                                                onChange={(value)=>{handleMinChange(value,cardinality)}}/>\n                        </Collapse> \n\n                        \n                        <Collapse isOpen={isRange} className=\"rangeCardinality\">\n                                <label className=\"tripleNameLabel\" style={styles.label}>Min</label>\n                                <NumericInput   className=\"form-control\" \n                                                min={0} \n                                                value={min}\n                                                onChange={(value)=>{handleMinChange(value,'range')}}/>\n\n                                <label className=\"tripleNameLabel\" style={styles.label}>Max</label>\n                                <NumericInput   className=\"form-control\" \n                                                min={0} \n                                                value={max}\n                                                onChange={handleMaxChange}/>\n\n                        </Collapse> \n\n                </div>);                          \n}\n\n\n\nexport default CardinalityComp;\n\n","import React,{useState} from 'react';\nimport { Collapse } from 'reactstrap';\nimport TripleHeader from './headers/TripleHeader';\nimport ConstraintCont from './customize/ConstraintCont';\nimport CardinalityComp from './customize/CardinalityComp';\n\n\nfunction TripleComponent (props) {\n    \n    const {shape,triple,deleteTriple} = props;\n    const [isConstraintsOpen,setConstraintsOpen] = useState(false);\n    const [isCardinalityOpen,setCardinalityOpen] = useState(false);\n    const [allCollased,setAllCollapsed] = useState(false);\n    const [colapseBtn,setColapseBtn] = useState('menu');\n\n\n    const customizeContraints = function(){\n        collapseAll(false);\n        setConstraintsOpen(!isConstraintsOpen);\n        setAllCollapsed(false);\n\n        if(allCollased){\n            setConstraintsOpen(true);\n            changeCollapseBtn();\n        }\n    }\n\n\n\n    const customizeCardinality = function(){\n        collapseAll(false);\n        setCardinalityOpen(!isCardinalityOpen);\n        setAllCollapsed(false);\n\n        if(allCollased){\n            setCardinalityOpen(true);\n            changeCollapseBtn();\n        } \n        \n    }\n\n\n    const collapseAll = function(collapse){\n        setConstraintsOpen(collapse);\n        setCardinalityOpen(collapse);\n    }\n\n    const collapseToggle = function(){\n        collapseAll(!allCollased);\n        setAllCollapsed(!allCollased);\n        changeCollapseBtn();\n    }\n\n    const changeCollapseBtn = function(){\n        if(colapseBtn=='menu'){\n            setColapseBtn('menu_open');\n        }else{\n            setColapseBtn('menu');\n        }\n    }\n\n    \n\n    return ( \n        <div>\n            <TripleHeader triple={triple} \n                          deleteTriple={deleteTriple} \n                          customizeContraints={customizeContraints}\n                          customizeCardinality={customizeCardinality}\n                          collapseToggle={collapseToggle}\n                          colapseBtn={colapseBtn}/>\n\n            <Collapse   isOpen={isConstraintsOpen}>\n                <ConstraintCont  triple={triple} />           \n            </Collapse> \n\n            <Collapse  isOpen={isCardinalityOpen}>\n                <CardinalityComp triple={triple}/>      \n            </Collapse> \n           \n        </div>);                          \n}\n\n\nexport default TripleComponent;\n\n","import React,{useContext,useState} from 'react';\nimport { Collapse } from 'reactstrap';\nimport {AppContext} from '../../../../../App';\nimport ShapeHeader from  './headers/ShapeHeader';\nimport TripleComponent from './TripleComponent';\nimport Triple from '../../../../../entities/shexEntities/triple';\nimport Properties from '../../../../../conf/properties';\n\nexport const ShapeContext = React.createContext();\n\nfunction ShapeComponent (props) {\n\n    const context = useContext(AppContext);\n    const {shape} = props;\n    const styles = Properties.getInstance().getShapeStyle();\n\n    const [triples,setTriples] = useState(shape.triples);\n    const [isTriplesOpen,setTriplesOpen] = useState(true);\n    const [colapseBtn,setColapseBtn] = useState('menu_open');\n\n    let initialDisabled = false;\n    if(shape.type.value == '')initialDisabled = true;\n    const [disabled,setDisabled] = useState(initialDisabled);\n\n\n    const addTriple = function(){\n        const id = shape.getTriplesCount();\n        const triple = new Triple(id);\n\n        setTriples([...triples,triple]);\n        \n        shape.addTriple(triple);\n        context.emit();       \n    }\n\n    const deleteTriple = function(tripleId){\n        const newTriples = shape.triples.filter( triple => triple.id != tripleId);\n        setTriples(newTriples)\n        shape.setTriples(newTriples);\n        context.emit();\n        \n    }\n\n\n\n    const collapseTriples = function(){\n        setTriplesOpen(!isTriplesOpen);\n        \n        if(colapseBtn=='menu'){\n            setColapseBtn('menu_open');\n        }else{\n            setColapseBtn('menu');\n        }\n    }\n\n    return (\n\n        <ShapeContext.Provider value={{disabled:disabled,setDisabled:setDisabled}}>\n            <div className=\"shape\" style={styles.header}>\n                <ShapeHeader shape={shape} \n                            collapseTriples={collapseTriples} \n                            colapseBtn={colapseBtn}/>\n\n                    \n                <Collapse  isOpen={isTriplesOpen}>\n                     <div className=\"triples\" style={styles.body}>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\"\n                                style={styles.addTriple} \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Property\n                        </button>        \n                    \n                        </div>\n                </Collapse> \n            </div>\n        </ShapeContext.Provider>\n    );\n                                   \n    \n}\n\n\nexport default ShapeComponent;\n\n/*\n\n\n                     <div className=\"triples\">\n                        <div className=\"tripleSlot\">\n                        <label>TripleSlot</label>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\" \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>        \n                    \n                        </div>\n                    </div> <div className=\"triples\">\n                        <div className=\"tripleSlot\">\n                        <label>TripleSlot</label>\n                        {triples.map(triple =>\n                            <TripleComponent key={triple.id}\n                                            shape={shape} \n                                            triple={triple}\n                                            deleteTriple={deleteTriple}/> \n                        )}\n                    \n                        <button className=\"xs-addTripleButton\" \n                                onClick={addTriple} \n                                disabled={disabled}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>        \n                    \n                        </div>\n                    </div>\n\n                    */","import React,{useContext} from 'react';\nimport {AppContext} from '../../../../App';\nimport ShapeComponent from './shEx/ShapeComponent';\nimport Properties from '../../../../conf/properties';\n\nfunction Shapes (props) {\n\n    const context = useContext(AppContext);\n    const styles = Properties.getInstance().getShapeStyle();\n\n    return ( \n        <div className='showAsist'>\n            {context.shapes.map(shape =>{return  <ShapeComponent shape={shape} key={shape.id}/> })}\n                <div className=\"addCont\">\n                    <button className=\"xs-addShapeButton\"\n                            style={styles.addShape} \n                            onClick={context.addShape}\n                            title=\"Add Shape\">\n                            + Shape\n                    </button>\n                </div>\n        </div>\n        );\n}\n\n\nexport default Shapes;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\n\nfunction AssistLoader (props) {\n\n    const context = useContext(AppContext);\n\n    return (<div className='hideLoader'>\n                <div className=\"loader\"></div>\n            </div>);\n}\n\n\nexport default AssistLoader;\n\n","import React,{useContext} from 'react';\nimport {AppContext} from '../../../App';\nimport CodeMirror from 'codemirror';\nimport Editor from '../../../entities/editor';\nimport '../../../css/btn/button.css';\n\nfunction AssistError (props) {\n\n    const context = useContext(AppContext);\n\n    const handle = function(){\n        let yashe = Editor.getInstance().getYashe();\n        CodeMirror.signal(yashe,'convert');\n    }\n\n    return (<div className='infoAssist'>\n                <div className='hideError'>\n                    <div className='shapeErrorCont'>\n                        <div className='shapeError'></div>\n                        <p className='errorMsg'></p>\n                    </div>\n                </div>\n                <div className='hideConvert'>\n                    <a className=\"button\">\n                        <span onClick={handle}>Convert</span>\n                    </a>\n                </div>\n            </div>);\n}\n\n\nexport default AssistError;\n","import React,{useContext,useState,useEffect} from 'react';\nimport {AppContext} from '../../../../../App';\nimport Properties from '../../../../../conf/properties';\n\nfunction PrefixComp (props) {\n\n        const context = useContext(AppContext);\n        const {prefix} = props;\n        const styles = Properties.getInstance().getPrefixStyle();\n        const [name,setName] = useState(prefix.prefixName);\n        const [value,setValue] = useState(prefix.prefixValue);\n        const open = '<';\n        const close = '>';\n  \n        const handleAlias  = function(e,prefix){\n                prefix.prefixName = e.target.value;\n                setName(e.target.value);\n                context.emitPref();\n        }\n\n        const handleIri  = function(e,prefix){\n                prefix.prefixValue = e.target.value;\n                setValue(e.target.value);\n                context.emitPref();\n        }\n      \n        return (\n                <div className='xs-prefixHeader' style={styles.header}>            \n                    <input  type=\"text\" \n                            className=\"prefixName prefixInput\"\n                            placeholder=\"eg: schema\"\n                            value={name}\n                            onChange={(e)=>handleAlias(e,prefix)}\n                            title=\"Alias\"/>\n                    <label  className=\"prefixLabel\" style={styles.label}>:</label>\n                    <label  className=\"prefixLabel\" style={styles.label}>{open}</label>\n                    <input  type=\"text\" \n                            className=\"prefixInput\"\n                            value={value}\n                            placeholder=\"eg: http://schema.org/\"\n                            onChange={(e)=>handleIri(e,prefix)}\n                            title=\"IRI\"/>\n                    <label  className=\"prefixLabel\" style={styles.label}>{close}</label>\n                    <button className=\"deletePrefix mdc-icon-button material-icons\" \n                            style={styles.delete}\n                            onClick={()=>context.deletePrefix(prefix.id)}\n                            title=\"Delete Prefix\">\n                            delete\n                    </button>                              \n                </div>)\n     \n}\n\nexport default PrefixComp;\n","import React,{useContext,useState,useEffect} from 'react';\nimport {AppContext} from '../../../../App';\nimport PrefixComp from './prefix/PrefixComp';\nimport Properties from '../../../../conf/properties';\nimport '../../../../css/shexComponents/headers/PrefixHeader.css';\n\nfunction Prefixes (props) {\n\n        const context = useContext(AppContext);\n        const styles = Properties.getInstance().getPrefixStyle();\n        return (\n                <div>\n                        {context.prefixes.map(prefix =>{\n                                return(<PrefixComp key={prefix.id} prefix={prefix}/>)\n                        })}\n                        <div className=\"addCont\">\n                        <button className=\"addPrefixBtn\"\n                                style={styles.add}\n                                onClick={context.addPrefix}\n                                title=\"Add Prefix\">\n                                + Prefix\n                        </button>\n                        </div>   \n                </div>\n                );\n}\n\nexport default Prefixes;\n","import React,{useContext,useState} from 'react';\nimport { Textbox } from 'react-inputs-validation';\nimport Properties from '../../../../../../conf/properties';\n\nfunction ShapeView (props) {\n\n        const {colors} = props;\n        const styles = Properties.getInstance().getShapeStyle();\n\n        return ( <div className='xs-header' style={styles.header}>            \n                        <label style={styles.label}>Shape</label>\n                        <Textbox/>\n                        <button style={styles.delete} \n                        className=\"deleteShapeBtn mdc-icon-button material-icons\" >delete</button>\n                        <button style={styles.collapse} \n                        className=\"collapseBtn mdc-icon-button material-icons\">menu</button>\n                    </div>);\n}\n\nexport default ShapeView;\n","import React,{useContext,useState} from 'react';\nimport Properties from '../../../../../../conf/properties';\n\nfunction TripleView (props) {\n\n        const styles = Properties.getInstance().getTripleStyle();\n\n        return (  <div className=\"xs-tripleHeader\" style={styles.header}>            \n            <input  type=\"text\" \n                    className=\"name\"\n                    placeholder=\"eg: name\"\n                    title=\"Triple Constraint Name\"/>\n\n\n            <button className=\"tripleBtns buildConstraint buildBtn buildTripleBtn mdc-icon-button material-icons\"\n                    style={styles.constraint}\n                    title=\"Customize Constraint\">\n                    build\n            </button>\n\n\n           \n            <button className=\"tripleBtns buildCardinality buildBtn buildTripleBtn mdc-icon-button material-icons\" \n                    style={styles.cardinality}\n                    title=\"Customize Cardinality\">\n                    build\n            </button>\n\n            <button className=\"tripleBtns deleteTripleBtn mdc-icon-button material-icons\"\n                    style={styles.delete}\n                    title=\"Delete Triple Constraint\">\n                    delete\n            </button>\n\n            <button className=\"collapseBtn mdc-icon-button material-icons\" \n                    style={styles.collapse}\n                    title=\"Customize all\">\n                    menu\n            </button>\n        </div>);\n}\n\nexport default TripleView;\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport {AssistContext} from '../../../../Assistant';\nimport '../../../../../../css/shexComponents/customize/Custom.css'\nimport '../../../../../../css/color/colors.css'\nimport { ChromePicker,SketchPicker } from 'react-color';\nimport reactCSS from 'reactcss';\nimport { useCookies } from 'react-cookie';\nimport {SHAPE_COLORS} from '../../../../../../conf/colors';\nimport {DEFAULTS} from '../../../../../../conf/config';\n\nfunction ColorPicker (props) {\n\n    const context = useContext(AppContext);\n    const asssistContext = useContext(AssistContext);\n    const {namespace,element,cookie} = props;\n    const [color,setColor] = useState(namespace[element]);\n    const [isDisplay,setDisplay] = useState(false);\n    const [cookies, setCookie] = useCookies('cookies');\n    \n    const handleClick = () => {\n      setDisplay(!isDisplay);\n    };\n\n    const handleClose = () => {\n      //setDisplay(false);\n     // setCookie('shapeColors', SHAPE_COLORS, { path: '/' });\n    };\n\n    const handle = (e) => {\n      setColor(e.hex);\n      asssistContext.handleChange(e.hex,element,namespace)\n      if(DEFAULTS.saveColors){\n        setCookie(cookie, namespace, { path: '/' });     \n      }\n    };\n\n    const styles = reactCSS({\n      'default': {\n        color: {\n          width: '36px',\n          height: '14px',\n          borderRadius: '2px',\n          background: color,\n        },\n        swatch: {\n          padding: '3px',\n          background: '#fff',\n          borderRadius: '1px',\n          boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\n          display: 'inline-block',\n          cursor: 'pointer',\n        },\n        popover: {\n          position: 'absolute',\n          transform: 'translateX(-80%)',\n          zIndex: '5000',\n        },\n        cover: {\n          position: 'fixed',\n          top: '0px',\n          right: '0px',\n          bottom: '0px',\n          left: '0px',\n        },\n      },\n    });\n\n\n    return (\n            <div>\n                <div style={ styles.swatch } onClick={ handleClick }>\n                    <div style={ styles.color } />\n                </div>\n                { isDisplay ? \n                    <div style={ styles.popover }>\n                        <div style={ styles.cover } onClick={handleClose}/>\n                        <ChromePicker  color={color} onChange={handle} onChangeComplete={handleClose}/>\n                    </div> \n                    \n                    : null \n                }\n            </div>       \n    );\n                                   \n    \n}\n\n\nexport default ColorPicker;\n\n","import React,{useState,useContext} from 'react';\nimport {AppContext} from '../../../../../../App';\nimport ColorPicker from './ColorPicker';\nimport '../../../../../../css/shexComponents/customize/Custom.css'\nimport '../../../../../../css/color/colors.css'\n\nfunction ColorComp (props) {\n\n    const context = useContext(AppContext);\n    const {namespace,pickers,labelType,bodyType,cookie} = props;\n\n    return (\n        <div className='customColapse' style={bodyType}>             \n            <div style={bodyType}>\n                 <div className='xs-pickers'>\n                    {pickers.map(p=>{\n                        return(<div className='picker' key={p.element}>\n                                    <label style={labelType}>{p.tag}</label>\n                                    <ColorPicker namespace={namespace} element={p.element} cookie={cookie}/>\n                                </div>)\n                    })}\n                </div>\n            </div> \n        </div>               \n    );\n                                   \n    \n}\n\n\nexport default ColorComp;\n","/** COLOR PICKERS */\n\nexport const SHAPE_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Header',element:'header'},\n        {tag:'Delete',element:'delete'},\n        {tag:'Delete Fill',element:'deleteFill'},\n        {tag:'Collapse',element:'collapse'},\n        {tag:'Shape Body',element:'body'}];\n\nexport const TRIPLE_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Header',element:'header'},\n        {tag:'Constraint',element:'constraint'},\n        {tag:'Constraint Fill',element:'constraintFill'},\n        {tag:'Cardinality',element:'cardinality'},\n        {tag:'Cardinality Fill',element:'cardinalityFill'},\n        {tag:'Delete',element:'delete'},\n        {tag:'Delete Fill',element:'deleteFill'},\n        {tag:'Collapse',element:'collapse'},\n        {tag:'Triple Body',element:'body'},];\n\nexport const CONSTRAINT_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Constraint Body',element:'body'},        \n        {tag:'Add Value',element:'add'},\n        {tag:'Add Value Fill',element:'addFill'},];\n\n\nexport const CARDINALITY_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Cardinality Body',element:'body'}];\n\nexport const BTNS_PICKERS = [\n        {tag:'Add Triple Constraint',element:'addTriple'},\n        {tag:'Add Triple Constraint Fill',element:'addTripleFill'},\n        {tag:'Add Shape',element:'addShape'},\n        {tag:'Add Shape Fill',element:'addShapeFill'},];\n\nexport const PREFIX_PICKERS = [\n        {tag:'Labels',element:'label'},\n        {tag:'Header',element:'header'},\n        {tag:'Delete',element:'delete'},\n        {tag:'Delete Fill',element:'deleteFill'},\n        {tag:'Add Prefix',element:'add'},\n        {tag:'Add Prefix Fill',element:'addFill'},];","import React,{useContext,useState} from 'react';\nimport ShapeView from './views/ShapeView';\nimport TripleView from './views/TripleView';\nimport ColorComp from './utils/ColorComp';\nimport {SHAPE_PICKERS,\n        TRIPLE_PICKERS,\n        CONSTRAINT_PICKERS,\n        CARDINALITY_PICKERS,\n        BTNS_PICKERS} from '../../../../../conf/pickers';\n\nimport {SHAPE_COLORS,\n        TRIPLE_COLORS,\n        CONSTRAINT_COLORS,\n        CARDINALITY_COLORS,\n        BTNS_COLORS} from '../../../../../conf/colors';\n\n\nimport Properties from '../../../../../conf/properties';\n\nfunction ShapeColors (props) {\n\n        const shapeStyles = Properties.getInstance().getShapeStyle();\n        const tripleStyles = Properties.getInstance().getTripleStyle();\n        const constraintStyles = Properties.getInstance().getConstraintStyle();\n        const cardinalityStyles = Properties.getInstance().getCardinalityStyle();\n\n        return ( \n        <div>\n                <div className=\"shape\" style={shapeStyles.header}>\n        \n                        <ShapeView/>\n                        <TripleView/>\n\n                        <ColorComp      namespace={SHAPE_COLORS} \n                                        pickers={SHAPE_PICKERS} \n                                        labelType={shapeStyles.label}\n                                        bodyType={shapeStyles.body}\n                                        cookie='shapeColors'/>   \n\n                        <ColorComp      namespace={TRIPLE_COLORS} \n                                        pickers={TRIPLE_PICKERS}\n                                        labelType={tripleStyles.label} \n                                        bodyType={tripleStyles.body}\n                                        cookie='tripleColors'/>\n                                        \n                        <ColorComp      namespace={CONSTRAINT_COLORS} \n                                        pickers={CONSTRAINT_PICKERS}\n                                        labelType={constraintStyles.label} \n                                        bodyType={constraintStyles.body}\n                                        cookie='constraintColors'/>\n                                        \n                        <ColorComp      namespace={CARDINALITY_COLORS} \n                                        pickers={CARDINALITY_PICKERS}\n                                        labelType={cardinalityStyles.label} \n                                        bodyType={cardinalityStyles.body}\n                                        cookie='cardinalityColors'/>\n\n                        <ColorComp      namespace={SHAPE_COLORS} \n                                        pickers={BTNS_PICKERS} \n                                        labelType={shapeStyles.label}\n                                        bodyType={shapeStyles.body}\n                                        cookie='constraintColors'/> \n\n\n                    <div className=\"triples\" style={shapeStyles.body}>\n                        <button className=\"xs-addTripleButton\"\n                                style={shapeStyles.addTriple}\n                                title=\"Add Triple\">\n                                + Triple Constraint\n                        </button>\n                    </div>\n\n                </div>\n                <div className=\"addCont\">\n                    <button className=\"xs-addShapeButton\"\n                            style={shapeStyles.addShape}\n                            title=\"Add Shape\">\n                            + Shape\n                    </button>\n                </div>\n        </div>);\n}\n\nexport default ShapeColors;\n","import React,{useContext,useState} from 'react';\nimport Properties from '../../../../../../conf/properties';\n\nfunction PrefixView (props) {\n\n        const {colors} = props;\n        const styles = Properties.getInstance().getPrefixStyle();\n        const open = '<';\n        const close = '>';\n\n        return (<div className='xs-prefixHeaderColors' style={styles.header}>            \n                    <input  type=\"text\" \n                            className=\"prefixName prefixInput\"\n                            placeholder=\"eg: schema\"\n                            title=\"Alias\"/>\n                    <label  className=\"prefixLabel\" style={styles.label}>:</label>\n                    <label  className=\"prefixLabel\" style={styles.label}>{open}</label>\n                    <input  type=\"text\" \n                            className=\"prefixInput\"\n                            placeholder=\"eg: http://schema.org/\"\n                            title=\"IRI\"/>\n                    <label  className=\"prefixLabel\" style={styles.label}>{close}</label>\n                    <button className=\"deletePrefix mdc-icon-button material-icons\"\n                            style={styles.delete}\n                            title=\"Delete Prefix\">\n                            delete\n                    </button>                              \n                </div>);\n}\n\nexport default PrefixView;\n","import React,{useContext,useState} from 'react';\nimport PrefixView from './views/PrefixView';\nimport ColorComp from './utils/ColorComp';\nimport {PREFIX_PICKERS} from '../../../../../conf/pickers';\nimport {PREFIX_COLORS} from '../../../../../conf/colors';\nimport Properties from '../../../../../conf/properties';\n\nfunction PrefixColors (props) {\n\n        const styles = Properties.getInstance().getPrefixStyle();\n   \n        return (<div className='prefixColorContainer' style={styles.body}>\n                    <PrefixView/>\n                    <ColorComp  namespace={PREFIX_COLORS} \n                                pickers={PREFIX_PICKERS} \n                                labelType={styles.specialLabel}\n                                bodyType={styles.body}/> \n\n                    <div className=\"addCont\">\n                    <button className=\"addPrefixBtn\" \n                            style={styles.add}\n                            title=\"Add Prefix\">\n                            + Prefix\n                    </button>\n                    </div>   \n                    \n                </div>);\n}\n\nexport default PrefixColors;\n","import React,{useContext,useState} from 'react';\nimport ShapeColors from './color/ShapeColors';\nimport PrefixColors from './color/PrefixColors';\n\nfunction Colors (props) {\n\n        return ( <div>\n                    <ShapeColors/>\n                    <br/>\n                    <PrefixColors/>\n                </div>);\n}\n\nexport default Colors;","import React,{useContext,useState} from 'react';\nimport Toggle from 'react-toggle';\nimport \"react-toggle/style.css\";\nimport '../../../../css/conf/config.css';\nimport {DEFAULTS} from '../../../../conf/config';\nimport Properties from '../../../../conf/properties';\nimport {AppContext} from '../../../../App';\nimport { useCookies } from 'react-cookie';\nimport Editor from '../../../../entities/editor';\nimport CodeMirror from 'codemirror';\n\nfunction Config (props) {\n\n        const context = useContext(AppContext);\n        const [pretty, setPretty] = useState(DEFAULTS.pretty);\n        const [saveColors, setSaveColors] = useState(DEFAULTS.saveColors);\n        const [cookies, setCookies] = useCookies('cookies');\n\n\n        const handlePrettyChange = function(e){\n            let newPretty = e.target.value;\n            DEFAULTS.pretty = newPretty;\n            setPretty(newPretty);\n            setCookies('conf', DEFAULTS, { path: '/' });     \n            context.emit();\n        }\n\n        const handleSaveColorsChange = function(){\n            DEFAULTS.saveColors = !saveColors;\n            setCookies('conf', DEFAULTS, { path: '/' });\n            setSaveColors(!saveColors);\n        }\n\n        const restoreColors = function(){\n            let confirm = window.confirm('Are you sure?');\n            if(confirm)Properties.getInstance().restoreDefaultColors();\n        }\n\n        const restoreConfig = function(){\n            let confirm = window.confirm('Are you sure?');\n            if(confirm){\n                Properties.getInstance().restoreDefaultConfig();\n                setSaveColors(DEFAULTS.saveColors);\n                setPretty(DEFAULTS.pretty);\n            }\n        }\n\n        return ( <div>\n                    <div className='option'>\n                        <span>Save Color Preferences</span>\n                        <div className='togleContainer'>\n                            <Toggle checked={saveColors}  icons={false} onChange={handleSaveColorsChange}/>\n                        </div>\n                    </div>\n                    <div className='option'>\n                        <span>Pretty Print</span>\n                        <div className='togleContainer'>\n                            <select className='customPretty'\n                                value={pretty}\n                                onChange={handlePrettyChange}>\n                                <option value='none'>None</option>\n                                <option value='pretty1'>Pretty1</option>\n                                <option value='pretty2'>Pretty2</option>\n                                <option value='pretty3'>Pretty3</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className='option'>\n                        <span>Restore Default Colors</span>\n                        <div className='togleContainer'>\n                             <button className='aplyBtn' onClick={restoreColors}>Apply</button>\n                        </div>\n                    </div>\n                    <div className='option'>\n                        <span>Restore Default Config</span>\n                        <div className='togleContainer'>\n                             <button className='aplyBtn' onClick={restoreConfig}>Apply</button>\n                        </div>\n                    </div>\n                    \n                </div>);\n}\n\nexport default Config;","import React,{useContext,useState} from 'react';\nimport {AssistContext} from '../Assistant';\nimport { Collapse } from 'reactstrap';\nimport Shapes from './tabs/Shapes';\nimport AssistLoader from './AssistLoader';\nimport AssistError from './AssistError';\nimport Prefixes from './tabs/Prefixes';\nimport Colors from './tabs/Colors';\nimport Config from './tabs/Config';\n\nfunction AssistContent (props) {\n\n    const asssistContext = useContext(AssistContext);\n\n    return ( \n    <div>\n        <div id='assistant-container' className='assistantContainer'> \n                \n                <Collapse isOpen={asssistContext.isAssistOpen}>\n                    <Shapes/>\n                    <AssistLoader/>\n                    <AssistError/>\n                </Collapse>\n                <Collapse isOpen={asssistContext.isPrefixesOpen}>\n                    <Prefixes/>\n                </Collapse>\n                <Collapse isOpen={asssistContext.isColorsOpen}>\n                    <Colors/>\n                </Collapse>\n                <Collapse isOpen={asssistContext.isConfigOpen}>\n                    <Config/>\n                </Collapse>\n                \n            </div>\n        </div>);\n}\n\n\nexport default AssistContent;\n\n","import React,{useContext,useState,useEffect} from 'react';\nimport {AppContext} from '../../App';\nimport { Collapse } from 'reactstrap';\nimport AssistNav from './assistant/AssistNav';\nimport AssistContent from './assistant/AssistContent';\nimport { Resizable, ResizableBox } from 'react-resizable';\nimport Properties from '../../conf/properties';\nimport '../../css/Assistant.css';\nimport '../../css/resizable/react-resizable.css';\n\nexport const AssistContext = React.createContext();\n\nfunction Assistant (props) {\n\n        const context = useContext(AppContext);\n        const [isAssistOpen, setAssistOpen] = useState(true);\n        const [isPrefixesOpen, setPrefixesOpen] = useState(false);\n        const [isColorsOpen, setColorsOpen] = useState(false);\n        const [isConfigOpen, setConfigOpen] = useState(false);\n        const [color,setColor] = useState('#fffff')\n\n        const handleChange = function(color,element,NAMESPACE){\n            setColor(color);//NECESSARY TO  FORCE RENDER\n            NAMESPACE[element] = color;\n        }\n\n        return (\n                <AssistContext.Provider\n                value={\n                        {\n                        isAssistOpen:isAssistOpen,\n                        isPrefixesOpen:isPrefixesOpen,\n                        isColorsOpen:isColorsOpen,                  \n                        isConfigOpen:isConfigOpen,\n                        setAssistOpen:setAssistOpen,\n                        setPrefixesOpen:setPrefixesOpen,\n                        setColorsOpen:setColorsOpen,\n                        setConfigOpen:setConfigOpen,\n                        handleChange:handleChange\n                        }\n                }>\n                        <Collapse isOpen={context.isAssistantOpen} className='assistCollapse'>\n                        <ResizableBox   width={context.width} \n                                        height={100} //Just to avoid console errors, but ignore it\n                                        onResize={(e,data)=>context.handleResize(e,data)}\n                                        resizeHandles={['e']}  \n                                        minConstraints={[470, 100]} maxConstraints={[1000, 1000]}>\n                                \n                                <div className='containerAssist'>                                    \n                                        <AssistNav/>\n                                        <AssistContent/>              \n                                </div>\n                                \n                        </ResizableBox>\n                        </Collapse>      \n                </AssistContext.Provider>);\n}\n\n\nexport default Assistant;","import React, {useState,useContext,useEffect,useRef} from 'react';\nimport 'yashe/dist/yashe.min.css';\nimport {AppContext} from '../../App';\nimport {DEFAULTS} from '../../conf/config';\n\nimport CodeMirror from 'codemirror';\nimport YASHE from 'yashe';\nimport Editor from '../../entities/editor';\n\nimport yasheUtils from '../../utils/yasheUtils';\nimport Prefix from '../../entities/shexEntities/shexUtils/prefix';\n\nimport '../../css/Yashe.css';\nimport '../../css/themes/author.css';\nimport '../../css/themes/author-dark.css';\n\nconst ERROR_EDITOR_MSG = 'Ops... There are some errors in the editor';\nconst COMPLEX_SHAPE_MSG = 'Sorry that Shape is too complex for me';\n\nfunction EditorComp() {\n\n    const [yashe,setYashe] = useState(null);\n    const divRef = useRef(null);\n    const context = useContext(AppContext);\n    let isLoading = false;\n\n    const defaultPrefixes = [\n                new Prefix('wd','http://www.wikidata.org/entity/',0),\n                new Prefix('wdt','http://www.wikidata.org/prop/direct/',1)\n    ]\n\n    useEffect(() => {\n    \n        if (!yashe) {\n            const options = {\n                persistent:false,\n                lineNumbers: true,\n                showTooltip:true,\n                theme:'author-dark',\n                value:yasheUtils.DEFAULT_SHAPE\n            }\n            \n            const y = YASHE(divRef.current,options);\n\n            \n            y.on('humanEvent', function(shapes,width) {\n                Editor.getInstance().draw(shapes);\n                let data={size:{width:width}};\n                context.handleResize(null,data);\n            });\n\n            y.on('convert',function(){\n                if(!y.hasErrors(y)){\n                    hideError();\n                    updateAssist();\n                }else{\n                    hideError();\n                    hideConvert();\n                    loading();\n                    setTimeout(function() {\n                        loaded();  \n                        showConvert();\n                        showError(ERROR_EDITOR_MSG);\n                    },500) \n                }\n            })\n\n            y.on('focus', function() {\n                if(!isLoading){\n                    showConvert();\n                }\n            });\n\n            y.on('keyup', function() {\n                showConvert();\n            }); \n\n            y.on('prefixChange', function(prefixes,width) {\n                Editor.getInstance().draw(getNewShapes(),prefixes);\n                let data={size:{width:width}};\n                context.handleResize(null,data);\n            });\n\n            y.on('forceError', function(err) {\n                if(!err)err=COMPLEX_SHAPE_MSG;\n                hideError();\n                loading();\n                setTimeout(function() {\n                    loaded(); \n                    showError(err);\n                    if(!DEFAULTS.sincronize)showConvert();\n                },500)\n            });\n\n            y.on('delete', function() {\n                replaceShapes(getNewShapes());\n                updatePrefixes(defaultPrefixes);\n            });\n\n            y.on('upload', function() {\n                if(!y.hasErrors()){                   \n                    updateAssist();\n                    updatePrefixes(getNewPrefixes());\n                }\n            });\n\n        \n\n            //Load example from Galery\n            y.on('galery', function() {\n                if(!y.hasErrors()){                   \n                    updateAssist();\n                    updatePrefixes(getNewPrefixes());\n                }\n            });\n\n        \n            y.refresh();\n            setYashe(y);\n            \n            Editor.getInstance().setYashe(y);\n\n            updateAssist();\n            updatePrefixes(defaultPrefixes)\n\n            CodeMirror.signal(Editor.getInstance().getYashe(),'sinc',DEFAULTS.sincronize);\n        }\n    }, [yashe]\n    );\n\n    \n\n    const getNewShapes = function() {\n        return yasheUtils.replaceShapes();\n    }\n\n    const getNewPrefixes = function() {\n        return yasheUtils.updatePrefixes();\n    }\n\n    const replaceShapes = async (newShapes)=>{\n       // loading();\n        let shapes = await newShapes;\n        context.replaceShapes(shapes);\n       // loaded();\n        return shapes;\n    }\n\n    const updatePrefixes = (newPrefixes)=>{\n        context.replacePrefixes(newPrefixes);\n        return newPrefixes;\n    }\n\n\n    const updateAssist = async function(){\n        hideConvert();\n        loading();\n        replaceShapes(await getNewShapes());                \n        loaded();\n    }\n\n\n     const animate = function(before1,after1,before2,after2){\n        let e1 = document.getElementsByClassName(before1)[0];\n        if(e1) e1.className = after1;\n        let e2 = document.getElementsByClassName(before2)[0];\n        if(e2) e2.className = after2;\n     }\n\n    const loading = function(){\n        isLoading = true;\n        animate('showAsist','hideAsist','hideLoader','showLoader');\n    }\n\n    const loaded = function(){\n        isLoading = false;\n        animate('showLoader','hideLoader','hideAsist','showAsist');\n    }\n\n    const showError = function(err){\n        animate('hideError','showError','showAsist','hideAsist');\n        document.getElementsByClassName('errorMsg')[0].textContent = err;\n    }\n\n    const showConvert = function(err){\n        animate('hideConvert','showConvert','showAsist','hideAsist');\n    }\n\n    const hideError = function(){\n        animate('showError','hideError','hideAsist','showAsist');\n    }\n\n    const hideConvert = function(){\n        animate('showConvert','hideConvert','hideAsist','showAsist');\n    }\n\n\n    return  (<div className=\"col edit\" ref={divRef}/>);\n\n}\n\n   \nexport default EditorComp;\n\n","import React from 'react';\nimport Toolbar from './mainComps/Toolbar';\nimport AssistantComp from './mainComps/Assistant';\nimport EditorComp from './mainComps/EditorComp';\n\nfunction MainContainer () {\n\n    return (\n      <div className=\"globalContainer\">       \n        <div className=\"row comps\">                     \n           <Toolbar/>\n           <AssistantComp/>                                              \n           <EditorComp/>                       \n        </div>\n      </div>);\n\n}\n\n\n\nexport default MainContainer;\n","import React,{useState} from 'react';\nimport {Collapse} from 'reactstrap';\n\nfunction Visualizer (props) {\n\n    const {svg,isVisualizeOpen} = props;\n\n    return (\n    <Collapse isOpen={isVisualizeOpen} >\n        <div className=\"visualize\"> \n            <div className=\"umlContainer\">   \n                <div className='uml' dangerouslySetInnerHTML={{__html:svg}}/> \n            </div>\n        </div>\n    </Collapse>);\n\n    \n}\n\nexport default Visualizer;","\nimport React, {useState,useEffect} from 'react';\nimport axios from 'axios';\nimport { CookiesProvider } from 'react-cookie';\nimport Nav from './components/Nav';\nimport MainContainer from './components/MainContainer';\nimport Visualizer from './components/Visualizer';\nimport shexUtils from './utils/shexUtils';\nimport {emitPrefixes} from './utils/prefixUtils';\nimport {makeItResponsive,checkShapeName} from './utils/cssUtils';\nimport yasheUtils from './utils/yasheUtils';\nimport Editor from './entities/editor';\nimport {addPrefixComp,deletePrefixComp} from './utils/prefixUtils';\nimport './css/App.css';\n\nexport const AppContext = React.createContext();\n\nfunction App() {\n\n    const [shapes,setShapes] = useState([]);\n    const [prefixes,setPrefixes] = useState([]);\n    const [svg,setSvg] = useState('');\n    const [isAssistantOpen, setAssistantOpen] = useState(true);\n    const [isToolBarOpen, setToolBarOpen] = useState(true);\n    const [isVisualizeOpen, setVisualizeOpen] = useState(true);\n    const [width,setWidth] = useState(470);//700\n\n    const assistantToggle = () => setAssistantOpen(!isAssistantOpen);\n    const visualizeToggle = () => setVisualizeOpen(!isVisualizeOpen);\n    const toolbarToggle = () => setToolBarOpen(!isToolBarOpen);\n    const colapseAll = () =>{\n      setAssistantOpen(!isToolBarOpen);\n      setVisualizeOpen(!isToolBarOpen);\n      setToolBarOpen(!isToolBarOpen);\n    }\n\n    const addShape = () =>{\n      let shape = shexUtils.addShape(shapes,width);\n      setShapes([...shapes,shape]);\n      checkShapeName(shape)\n      visualize();\n    }\n\n    const deleteShape = (shapeId) =>{\n      setShapes(shexUtils.deleteShape(shapes,shapeId,false,width));\n      visualize();\n    }\n\n    const addPrefix = function(){\n      setPrefixes([...prefixes,addPrefixComp(prefixes,width)]);\n    }\n      \n    const deletePrefix = function(prefixId){\n      setPrefixes(deletePrefixComp(prefixes,prefixId,width));\n    }\n\n    const emit = function(){\n      shexUtils.emit(shapes,width);\n      visualize();\n    }\n\n    const emitPref = function(){\n      emitPrefixes(prefixes,width);\n      visualize();\n    }\n\n    const replaceShapes = (newShapes) =>{\n      //This allows to render all the shapes when a property is updated.\n      //Best Glitch Ever\n      //In fact... I would like to render just the property component...\n      setShapes([]); \n      \n      setShapes(newShapes);\n      visualize();\n    }\n\n    const replacePrefixes = (newPrefixes) =>{\n      \n      setPrefixes([]); \n      setPrefixes(newPrefixes);\n  \n    }\n    \n\n    const visualize = function(){\n\n        let bodyFormData = new FormData();\n        bodyFormData.set('schema', yasheUtils.getSchema());\n        bodyFormData.set('schemaFormat', 'ShExC');\n        bodyFormData.set('schemaEngine', 'SHEX');\n\n        axios({\n            method: 'post',\n            url: 'http://rdfshape.weso.es:8080/api/schema/visualize',\n            data: bodyFormData,\n            config: { headers: {'Content-Type': 'multipart/form-data' }}\n        })\n        .then(function(response){\n            if(response.data.svg != undefined){\n                if(response.data.svg.startsWith('<?xml')){\n                    setSvg(response.data.svg);\n                }else{\n                    setSvg(null)\n                }\n        }\n        })\n        .catch(function (response) {\n            //handle error\n            console.log(response);\n        });\n\n    }\n\n    const handleResize = function(e, data){\n        setWidth(data.size.width)\n        makeItResponsive(data.size.width); \n    }\n    \n    useEffect(() => {\n      //makeItResponsive(width);\n    })\n\n\n    return (\n      <CookiesProvider>\n          <AppContext.Provider\n                value={\n                  {\n                  shapes:shapes,\n                  addShape:addShape,\n                  deleteShape:deleteShape,\n                  addPrefix:addPrefix,\n                  deletePrefix:deletePrefix,\n                  replaceShapes:replaceShapes,\n                  replacePrefixes:replacePrefixes,\n                  prefixes:prefixes,\n                  emit:emit,\n                  emitPref:emitPref,\n                  visualize:visualize,\n                  isToolBarOpen:isToolBarOpen,\n                  isAssistantOpen:isAssistantOpen,\n                  isVisualizeOpen:isVisualizeOpen,\n                  assistantToggle:assistantToggle,\n                  visualizeToggle:visualizeToggle,\n                  handleResize:handleResize,\n                  width:width\n                  }\n                }>\n\n              <Nav colapseAll={colapseAll}/>\n              <MainContainer/>\n              <Visualizer svg={svg} isVisualizeOpen={isVisualizeOpen}/>\n                                                  \n          </AppContext.Provider>\n      </CookiesProvider>);\n\n}  \n           \n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}